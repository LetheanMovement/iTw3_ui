{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/api/models/assets.model.ts","./src/app/api/models/wallet.model.ts","./src/app/api/services/assets.service.ts","./src/app/api/services/backend.service.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/layouts/full-layout/full-layout.component.ts","./src/app/layouts/full-layout/full-layout.module.ts","./src/app/layouts/sidebar/sidebar.component.ts","./src/app/layouts/sidebar/sidebar.module.ts","./src/app/layouts/with-sidebar-layout/with-sidebar-layout.component.ts","./src/app/layouts/with-sidebar-layout/with-sidebar-layout.module.ts","./src/app/pages/add-wallet/add-wallet.component.ts","./src/app/pages/assign-alias/assign-alias.component.ts","./src/app/pages/auth/auth-routing.module.ts","./src/app/pages/auth/auth.module.ts","./src/app/pages/auth/login/login.component.ts","./src/app/pages/auth/no-wallet/no-wallet.component.ts","./src/app/pages/create-wallet/create-wallet.component.ts","./src/app/pages/deeplink/deeplink.component.ts","./src/app/pages/deeplink/deeplink.module.ts","./src/app/pages/deeplink/modals/deeplink-modal/deeplink-modal.component.ts","./src/app/pages/deeplink/modals/deeplink-modal/deeplink-modal.module.ts","./src/app/pages/deeplink/modals/sync-modal/sync-modal.component.ts","./src/app/pages/deeplink/modals/sync-modal/sync-modal.module.ts","./src/app/pages/edit-alias/edit-alias.component.ts","./src/app/pages/export-import/export-import.component.ts","./src/app/pages/open-wallet/open-wallet.component.ts","./src/app/pages/pages-routing.module.ts","./src/app/pages/pages.module.ts","./src/app/pages/paths.ts","./src/app/pages/restore-wallet/restore-wallet.component.ts","./src/app/pages/seed-phrase/seed-phrase.component.ts","./src/app/pages/settings/settings.component.ts","./src/app/pages/transfer-alias/transfer-alias.component.ts","./src/app/pages/ui-kit/components/breadcrumbs.component.ts","./src/app/pages/ui-kit/components/buttons.component.ts","./src/app/pages/ui-kit/components/form/components/checkboxs.component.ts","./src/app/pages/ui-kit/components/form/components/index.ts","./src/app/pages/ui-kit/components/form/components/inputs.component.ts","./src/app/pages/ui-kit/components/form/components/selects.component.ts","./src/app/pages/ui-kit/components/form/components/switches.component.ts","./src/app/pages/ui-kit/components/form/form.component.ts","./src/app/pages/ui-kit/components/index.ts","./src/app/pages/ui-kit/components/progress-bars.component.ts","./src/app/pages/ui-kit/components/wallets.component.ts","./src/app/pages/ui-kit/ui-kit.component.ts","./src/app/pages/wallet-details/wallet-details.component.ts","./src/app/pages/wallet/tabs/assets/assets.component.ts","./src/app/pages/wallet/tabs/contracts/contracts-tab/contracts-tab.component.ts","./src/app/pages/wallet/tabs/contracts/contracts.component.ts","./src/app/pages/wallet/tabs/contracts/purchase/purchase.component.ts","./src/app/pages/wallet/tabs/history/history.component.ts","./src/app/pages/wallet/tabs/receive/receive.component.ts","./src/app/pages/wallet/tabs/send/modals/send-details-modal/send-details-modal.component.ts","./src/app/pages/wallet/tabs/send/modals/send-modal/send-modal.component.ts","./src/app/pages/wallet/tabs/send/send.component.ts","./src/app/pages/wallet/tabs/staking/staking.component.ts","./src/app/pages/wallet/wallet-routing.module.ts","./src/app/pages/wallet/wallet.module.ts","./src/app/pages/wallet/wallet/modals/add-custom-token/add-custom-token.component.ts","./src/app/pages/wallet/wallet/modals/add-custom-token/add-custom-token.module.ts","./src/app/pages/wallet/wallet/modals/export-history-modal/export-history-modal.component.ts","./src/app/pages/wallet/wallet/modals/export-history-modal/export-history-modal.module.ts","./src/app/pages/wallet/wallet/wallet.component.ts","./src/app/parts/components/checkbox.component.ts","./src/app/parts/components/copy-button.component.ts","./src/app/parts/components/register-context-templates.component.ts","./src/app/parts/components/staking-switch.component.ts","./src/app/parts/components/switch.component.ts","./src/app/parts/components/synchronization-status.component.ts","./src/app/parts/components/transaction-details.component.ts","./src/app/parts/components/wallet-card.component.ts","./src/app/parts/data/assets.ts","./src/app/parts/data/constants.ts","./src/app/parts/data/scale-items.ts","./src/app/parts/directives/back-button/back-button.directive.ts","./src/app/parts/directives/back-button/back-button.module.ts","./src/app/parts/directives/default-img/default-img.directive.ts","./src/app/parts/directives/default-img/default-img.module.ts","./src/app/parts/directives/default-img/index.ts","./src/app/parts/directives/disable-price-fetch/disable-price-fetch.directive.ts","./src/app/parts/directives/disable-price-fetch/disable-price-fetch.module.ts","./src/app/parts/directives/disable-price-fetch/index.ts","./src/app/parts/directives/index.ts","./src/app/parts/directives/input-disable-selection/index.ts","./src/app/parts/directives/input-disable-selection/input-disable-selection.directive.ts","./src/app/parts/directives/input-disable-selection/input-disable-selection.module.ts","./src/app/parts/directives/input-validate/index.ts","./src/app/parts/directives/input-validate/input-validate.directive.ts","./src/app/parts/directives/input-validate/input-validate.module.ts","./src/app/parts/directives/tooltip/index.ts","./src/app/parts/directives/tooltip/tooltip.directive.ts","./src/app/parts/directives/tooltip/tooltip.module.ts","./src/app/parts/functions/hasOwnProperty.ts","./src/app/parts/modals/asset-details/asset-details.component.ts","./src/app/parts/modals/asset-details/asset-details.module.ts","./src/app/parts/modals/confirm-modal/confirm-modal.component.ts","./src/app/parts/modals/confirm-modal/confirm-modal.module.ts","./src/app/parts/modals/modal-container/modal-container.component.ts","./src/app/parts/modals/open-wallet-modal/open-wallet-modal.component.ts","./src/app/parts/pipes/contract-status-messages-pipe/contract-status-messages-pipe.module.ts","./src/app/parts/pipes/contract-status-messages-pipe/contract-status-messages.pipe.ts","./src/app/parts/pipes/contract-status-messages-pipe/index.ts","./src/app/parts/pipes/contract-time-left-pipe/contract-time-left-pipe.module.ts","./src/app/parts/pipes/contract-time-left-pipe/contract-time-left.pipe.ts","./src/app/parts/pipes/contract-time-left-pipe/index.ts","./src/app/parts/pipes/get-price-by-url/get-price-by-url.module.ts","./src/app/parts/pipes/get-price-by-url/get-price-by-url.pipe.ts","./src/app/parts/pipes/get-price-by-url/index.ts","./src/app/parts/pipes/get-white-asset-info/get-white-asset-info.module.ts","./src/app/parts/pipes/get-white-asset-info/get-white-asset-info.pipe.ts","./src/app/parts/pipes/get-white-asset-info/index.ts","./src/app/parts/pipes/has-in-assets-whitelist/has-in-assets-whitelist.module.ts","./src/app/parts/pipes/has-in-assets-whitelist/has-in-assets-whitelist.pipe.ts","./src/app/parts/pipes/has-in-assets-whitelist/index.ts","./src/app/parts/pipes/history-type-messages-pipe/history-type-messages-pipe.module.ts","./src/app/parts/pipes/history-type-messages-pipe/history-type-messages.pipe.ts","./src/app/parts/pipes/history-type-messages-pipe/index.ts","./src/app/parts/pipes/index.ts","./src/app/parts/pipes/int-to-money-pipe/index.ts","./src/app/parts/pipes/int-to-money-pipe/int-to-money-pipe.module.ts","./src/app/parts/pipes/int-to-money-pipe/int-to-money.pipe.ts","./src/app/parts/pipes/is-available-alias-name-pipe/index.ts","./src/app/parts/pipes/is-available-alias-name-pipe/is-available-alias-name-pipe.module.ts","./src/app/parts/pipes/is-available-alias-name-pipe/is-available-alias-name.pipe.ts","./src/app/parts/pipes/money-to-int-pipe/index.ts","./src/app/parts/pipes/money-to-int-pipe/money-to-int-pipe.module.ts","./src/app/parts/pipes/money-to-int-pipe/money-to-int.pipe.ts","./src/app/parts/pipes/safe-html-pipe/index.ts","./src/app/parts/pipes/safe-html-pipe/safe-html-pipe.module.ts","./src/app/parts/pipes/safe-html-pipe/safe-html.pipe.ts","./src/app/parts/pipes/short-string-pipe/index.ts","./src/app/parts/pipes/short-string-pipe/short-string-pipe.module.ts","./src/app/parts/pipes/short-string-pipe/short-string.pipe.ts","./src/app/parts/services/back.service.ts","./src/app/parts/services/modal.service.ts","./src/app/parts/services/variables.service.ts","./src/app/parts/services/wallets.service.ts","./src/app/parts/utils/zano-validators.ts","./src/app/store/assets/assets.facade.ts","./src/app/store/pagination/pagination.service.ts","./src/app/store/pagination/pagination.store.ts","./src/app/store/store.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["export interface Asset {\r\n  asset_info: AssetInfo;\r\n  awaiting_in: number;\r\n  awaiting_out: number;\r\n  total: number;\r\n  unlocked: number;\r\n}\r\n\r\nexport interface AssetInfo {\r\n  asset_id: string;\r\n  current_supply: number;\r\n  decimal_point: number;\r\n  full_name: string;\r\n  meta_info: string;\r\n  owner: string;\r\n  ticker: string;\r\n  total_max_supply: number;\r\n}\r\n\r\nexport interface WhiteAssetInfo extends AssetInfo {\r\n  logo: string;\r\n  price_url: string;\r\n}\r\n\r\nexport interface ResponseAssetsWhiteList {\r\n  assets: WhiteAssetInfo[];\r\n  signature: string;\r\n}\r\n\r\nexport type Assets = Asset[];\r\n\r\nexport interface ParamsCustomAssetId {\r\n  wallet_id: number;\r\n  asset_id: string;\r\n}\r\n\r\nexport type ParamsAddCustomAssetId = ParamsCustomAssetId;\r\n\r\nexport interface ResponseAddCustomAssetId {\r\n  status: string;\r\n  asset_descriptor: {\r\n    current_supply: number;\r\n    decimal_point: number;\r\n    full_name: string;\r\n    meta_info: string;\r\n    owner: string;\r\n    ticker: string;\r\n    total_max_supply: number;\r\n  };\r\n}\r\n\r\nexport type ParamsRemoveCustomAssetId = ParamsCustomAssetId;\r\n\r\nexport interface ResponseRemoveCustomAssetId {\r\n  error_code: string;\r\n}\r\n","import { Contract } from './contract.model';\r\nimport { Transaction } from './transaction.model';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { Asset, Assets } from './assets.model';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\nexport interface Alias {\r\n  name: string;\r\n  address: string;\r\n  comment: string;\r\n  tracking_key?: string;\r\n}\r\n\r\nexport class Wallet {\r\n  open_from_exist: boolean;\r\n  updated = false;\r\n  wallet_id: number;\r\n  name: string;\r\n  pass: string;\r\n  path: string;\r\n  address: string;\r\n\r\n  private _balances$ = new BehaviorSubject<Assets | null | undefined>(\r\n    undefined\r\n  );\r\n\r\n  get balances$(): Observable<Assets | null | undefined> {\r\n    return this._balances$.asObservable();\r\n  }\r\n\r\n  get balances(): Assets | null | undefined {\r\n    return this._balances$.value;\r\n  }\r\n\r\n  set balances(value: Assets | null | undefined) {\r\n    const sortedAssets = [];\r\n    if (value) {\r\n      const indexZano = value.findIndex(\r\n        ({ asset_info: { ticker } }) => ticker === 'ZANO'\r\n      );\r\n      if (indexZano >= 0) {\r\n        const assetZano = value.splice(indexZano, 1).shift();\r\n        sortedAssets.push(assetZano);\r\n      }\r\n      const sortedAssetsByBalance = value.sort((a, b) =>\r\n        new BigNumber(b.total).minus(new BigNumber(a.total)).toNumber()\r\n      );\r\n      sortedAssets.push(...sortedAssetsByBalance);\r\n    }\r\n    this._balances$.next(sortedAssets);\r\n  }\r\n\r\n  mined_total: number;\r\n  tracking_hey: string;\r\n  is_auditable: boolean;\r\n  is_watch_only: boolean;\r\n  exclude_mining_txs: boolean;\r\n  alias_available: boolean;\r\n\r\n  alias?: Partial<Alias>;\r\n  wakeAlias?: boolean;\r\n  staking?: boolean;\r\n  new_messages?: number;\r\n  new_contracts?: number;\r\n\r\n  history: Array<Transaction> = [];\r\n  total_history_item?: number;\r\n  pages = [];\r\n  totalPages: number;\r\n  currentPage: number;\r\n  excluded_history: Array<Transaction> = [];\r\n\r\n  contracts: Array<Contract> = [];\r\n\r\n  progress?: number;\r\n  loaded?: boolean;\r\n  restore?: boolean;\r\n\r\n  send_data?: any = {\r\n    address: null,\r\n    amount: null,\r\n    comment: null,\r\n    mixin: null,\r\n    fee: null,\r\n    hide: null,\r\n  };\r\n\r\n  constructor(\r\n    id,\r\n    name,\r\n    pass,\r\n    path,\r\n    address,\r\n    balances,\r\n    unlocked_balance,\r\n    mined = 0,\r\n    tracking = ''\r\n  ) {\r\n    this.wallet_id = id;\r\n    this.name = name;\r\n    this.pass = pass;\r\n    this.path = path;\r\n    this.address = address;\r\n    this.balances = balances;\r\n    this.mined_total = mined;\r\n    this.tracking_hey = tracking;\r\n\r\n    this.alias = {};\r\n    this.staking = false;\r\n    this.new_messages = 0;\r\n    this.new_contracts = 0;\r\n\r\n    this.history = [];\r\n    this.excluded_history = [];\r\n\r\n    this.progress = 0;\r\n    this.loaded = false;\r\n  }\r\n\r\n  getBalanceByTicker(searchTicker: string): Asset | undefined {\r\n    return this.balances?.find(\r\n      ({ asset_info: { ticker } }) => ticker === searchTicker\r\n    );\r\n  }\r\n\r\n  getMoneyEquivalentForZano(equivalent): string {\r\n    const balanceZano = this.getBalanceByTicker('ZANO')?.total || 0;\r\n    return new BigNumber(balanceZano).multipliedBy(equivalent).toFixed(0);\r\n  }\r\n\r\n  prepareHistoryItem(item: Transaction): any {\r\n    if (item.tx_type === 4) {\r\n      item.sortFee = item.amount.plus(item.fee).negated();\r\n      item.sortAmount = new BigNumber(0);\r\n    } else if (item.tx_type === 3) {\r\n      item.sortFee = new BigNumber(0);\r\n    } else if (\r\n      hasOwnProperty(item, 'contract') &&\r\n      (item.contract[0].state === 3 ||\r\n        item.contract[0].state === 6 ||\r\n        item.contract[0].state === 601) &&\r\n      !item.contract[0].is_a\r\n    ) {\r\n      item.sortFee = item.fee.negated();\r\n      item.sortAmount = item.amount;\r\n    } else {\r\n      if (!item.is_income) {\r\n        item.sortFee = item.fee.negated();\r\n        item.sortAmount = item.amount.negated();\r\n      } else {\r\n        item.sortAmount = item.amount;\r\n      }\r\n    }\r\n    return item;\r\n  }\r\n\r\n  prepareHistory(items: Transaction[]): void {\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (\r\n        (items[i].tx_type === 7 && items[i].is_income) ||\r\n        (items[i].tx_type === 11 && items[i].is_income) ||\r\n        (items[i].amount.eq(0) && items[i].fee.eq(0) && !items[i].is_mining)\r\n      ) {\r\n        let exists = false;\r\n        for (let j = 0; j < this.excluded_history.length; j++) {\r\n          if (this.excluded_history[j].tx_hash === items[i].tx_hash) {\r\n            exists = true;\r\n            if (this.excluded_history[j].height !== items[i].height) {\r\n              this.excluded_history[j] = items[i];\r\n            }\r\n            break;\r\n          }\r\n        }\r\n        if (!exists) {\r\n          this.excluded_history.push(items[i]);\r\n        }\r\n      } else {\r\n        let exists = false;\r\n        for (let j = 0; j < this.history.length; j++) {\r\n          if (this.history[j].tx_hash === items[i].tx_hash) {\r\n            exists = true;\r\n            if (this.history[j].height !== items[i].height) {\r\n              this.history[j] = this.prepareHistoryItem(items[i]);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n        if (!exists) {\r\n          if (\r\n            this.history.length > 0 &&\r\n            items[i].timestamp >= this.history[0].timestamp\r\n          ) {\r\n            this.history.unshift(this.prepareHistoryItem(items[i]));\r\n          } else {\r\n            this.history.push(this.prepareHistoryItem(items[i]));\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  removeFromHistory(hash: string): void {\r\n    for (let i = 0; i < this.history.length; i++) {\r\n      if (this.history[i].tx_hash === hash) {\r\n        this.history.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  prepareContractsAfterOpen(\r\n    items: any[],\r\n    exp_med_ts,\r\n    height_app,\r\n    viewedContracts,\r\n    notViewedContracts\r\n  ): void {\r\n    for (let i = 0; i < items.length; i++) {\r\n      const contract = items[i];\r\n      let contractTransactionExist = false;\r\n      if (this.history) {\r\n        contractTransactionExist = this.history.some(\r\n          elem =>\r\n            elem.contract &&\r\n            elem.contract.length > 0 &&\r\n            elem.contract[0].contract_id === contract.contract_id\r\n        );\r\n      }\r\n      if (!contractTransactionExist && this.excluded_history) {\r\n        contractTransactionExist = this.excluded_history.some(\r\n          elem =>\r\n            elem.contract &&\r\n            elem.contract.length > 0 &&\r\n            elem.contract[0].contract_id === contract.contract_id\r\n        );\r\n      }\r\n\r\n      if (!contractTransactionExist) {\r\n        contract.state = 140;\r\n      } else if (\r\n        contract.state === 1 &&\r\n        contract.expiration_time < exp_med_ts\r\n      ) {\r\n        contract.state = 110;\r\n      } else if (\r\n        contract.state === 2 &&\r\n        contract.cancel_expiration_time !== 0 &&\r\n        contract.cancel_expiration_time < exp_med_ts &&\r\n        contract.height === 0\r\n      ) {\r\n        const searchResult1 = viewedContracts.some(\r\n          elem =>\r\n            elem.state === 2 &&\r\n            elem.is_a === contract.is_a &&\r\n            elem.contract_id === contract.contract_id\r\n        );\r\n        if (!searchResult1) {\r\n          contract.state = 130;\r\n          contract.is_new = true;\r\n        }\r\n      } else if (contract.state === 1) {\r\n        const searchResult2 = notViewedContracts.find(\r\n          elem =>\r\n            elem.state === 110 &&\r\n            elem.is_a === contract.is_a &&\r\n            elem.contract_id === contract.contract_id\r\n        );\r\n        if (searchResult2) {\r\n          if (searchResult2.time === contract.expiration_time) {\r\n            contract.state = 110;\r\n          } else {\r\n            for (let j = 0; j < notViewedContracts.length; j++) {\r\n              if (\r\n                notViewedContracts[j].contract_id === contract.contract_id &&\r\n                notViewedContracts[j].is_a === contract.is_a\r\n              ) {\r\n                notViewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n            for (let j = 0; j < viewedContracts.length; j++) {\r\n              if (\r\n                viewedContracts[j].contract_id === contract.contract_id &&\r\n                viewedContracts[j].is_a === contract.is_a\r\n              ) {\r\n                viewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else if (\r\n        contract.state === 2 &&\r\n        (contract.height === 0 || height_app - contract.height < 10)\r\n      ) {\r\n        contract.state = 201;\r\n      } else if (contract.state === 2) {\r\n        const searchResult3 = viewedContracts.some(\r\n          elem =>\r\n            elem.state === 120 &&\r\n            elem.is_a === contract.is_a &&\r\n            elem.contract_id === contract.contract_id\r\n        );\r\n        if (searchResult3) {\r\n          contract.state = 120;\r\n        }\r\n      } else if (contract.state === 5) {\r\n        const searchResult4 = notViewedContracts.find(\r\n          elem =>\r\n            elem.state === 130 &&\r\n            elem.is_a === contract.is_a &&\r\n            elem.contract_id === contract.contract_id\r\n        );\r\n        if (searchResult4) {\r\n          if (searchResult4.time === contract.cancel_expiration_time) {\r\n            contract.state = 130;\r\n          } else {\r\n            for (let j = 0; j < notViewedContracts.length; j++) {\r\n              if (\r\n                notViewedContracts[j].contract_id === contract.contract_id &&\r\n                notViewedContracts[j].is_a === contract.is_a\r\n              ) {\r\n                notViewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n            for (let j = 0; j < viewedContracts.length; j++) {\r\n              if (\r\n                viewedContracts[j].contract_id === contract.contract_id &&\r\n                viewedContracts[j].is_a === contract.is_a\r\n              ) {\r\n                viewedContracts.splice(j, 1);\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else if (\r\n        contract.state === 6 &&\r\n        (contract.height === 0 || height_app - contract.height < 10)\r\n      ) {\r\n        contract.state = 601;\r\n      }\r\n      const searchResult = viewedContracts.some(\r\n        elem =>\r\n          elem.state === contract.state &&\r\n          elem.is_a === contract.is_a &&\r\n          elem.contract_id === contract.contract_id\r\n      );\r\n      contract.is_new = !searchResult;\r\n\r\n      this.contracts.push(contract);\r\n    }\r\n    this.recountNewContracts();\r\n  }\r\n\r\n  recountNewContracts(): void {\r\n    this.new_contracts = this.contracts.filter(\r\n      item => item.is_new === true\r\n    ).length;\r\n  }\r\n\r\n  getContract(id): Contract {\r\n    for (let i = 0; i < this.contracts.length; i++) {\r\n      if (this.contracts[i].contract_id === id) {\r\n        return this.contracts[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\nexport interface DeeplinkParams {\r\n  action?: string;\r\n  address?: string;\r\n  amount?: string;\r\n  my_deposit?: string;\r\n  seller_deposit?: string;\r\n  seller_address?: string;\r\n  hide_sender?: string;\r\n  hide_receiver?: string;\r\n  title?: string;\r\n  description?: string;\r\n  category?: string;\r\n  price?: string;\r\n  img_url?: string;\r\n  url?: string;\r\n  contact?: string;\r\n  comment?: string;\r\n  comments?: string;\r\n  mixins?: string;\r\n  fee?: string;\r\n}\r\n\r\nexport interface PushOffer {\r\n  wallet_id: number;\r\n  od: {\r\n    ap: string;\r\n    at: string;\r\n    cat: string;\r\n    cnt: string;\r\n    com: string;\r\n    do: string;\r\n    et: number;\r\n    fee: BigNumber;\r\n    lci: string;\r\n    lco: string;\r\n    ot: number;\r\n    pt: string;\r\n    t: string;\r\n    url: string;\r\n  };\r\n}\r\n\r\nexport interface ResponseGetWalletInfo {\r\n  address: string;\r\n  balances: Assets;\r\n  is_auditable: boolean;\r\n  is_watch_only: boolean;\r\n  mined_total: number;\r\n  path: string;\r\n  view_sec_key: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { ResponseAssetsWhiteList } from '@api/models/assets.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AssetsService {\r\n  constructor(private httpClient: HttpClient) {}\r\n\r\n  assetsWhitelist(): Observable<ResponseAssetsWhiteList> {\r\n    return this.httpClient.get<ResponseAssetsWhiteList>(\r\n      'https://zano.org/assets_whitelist.json'\r\n    );\r\n  }\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { MoneyToIntPipe } from '@parts/pipes/money-to-int-pipe/money-to-int.pipe';\r\nimport JSONBigNumber from 'json-bignumber';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { Alias, ResponseGetWalletInfo } from '../models/wallet.model';\r\nimport {\r\n  ParamsAddCustomAssetId,\r\n  ParamsRemoveCustomAssetId,\r\n  ResponseAddCustomAssetId,\r\n  ResponseRemoveCustomAssetId,\r\n} from '@api/models/assets.model';\r\n\r\nexport interface PramsObj {\r\n  [key: string]: any;\r\n}\r\n\r\nexport type PramsArray = (string | PramsObj)[];\r\n\r\nexport type Params = string | PramsObj | PramsArray;\r\n\r\nexport enum ParamsType {\r\n  array = 'array',\r\n  object = 'object',\r\n  string = 'string',\r\n}\r\n\r\nexport const getParamsType = (value: Params): ParamsType | null => {\r\n  if (!value) {\r\n    return null;\r\n  }\r\n  const array: false | ParamsType.array =\r\n    Array.isArray(value) && ParamsType.array;\r\n  const object: false | ParamsType =\r\n    Object.keys(ParamsType).includes(typeof value) && ParamsType[typeof value];\r\n  return array || object || null;\r\n};\r\n\r\nexport type ConvertersObjectForTypes = {\r\n  [key in ParamsType]: (value: Params) => string | string[];\r\n};\r\n\r\nexport const convertersObjectForTypes: ConvertersObjectForTypes = {\r\n  [ParamsType.string]: (value: string): string => value,\r\n  [ParamsType.object]: (value: PramsObj): string =>\r\n    JSONBigNumber.stringify(value),\r\n  [ParamsType.array]: (value: PramsArray): string[] =>\r\n    value.map(v => {\r\n      return typeof v === ParamsType.string\r\n        ? (v as string)\r\n        : JSONBigNumber.stringify(v);\r\n    }),\r\n};\r\n\r\nexport const convertorParams = (value: Params): string | string[] => {\r\n  const type: ParamsType = getParamsType(value);\r\n  return convertersObjectForTypes[type](value);\r\n};\r\n\r\nexport interface ResponseAsyncTransfer {\r\n  error_code: string;\r\n  response_data: {\r\n    success: boolean;\r\n    tx_blob_size: number;\r\n    tx_hash: string;\r\n  };\r\n}\r\n\r\nexport interface AsyncCommandResults {\r\n  job_id: number;\r\n  response: ResponseAsyncTransfer;\r\n}\r\n\r\nexport enum StatusCurrentActionState {\r\n  STATE_SENDING = 'STATE_SENDING',\r\n  STATE_SENT_SUCCESS = 'STATE_SENT_SUCCESS',\r\n  STATE_SEND_FAILED = 'STATE_SEND_FAILED',\r\n  STATE_INITIALIZING = 'STATE_INITIALIZING',\r\n  STATE_DOWNLOADING_CONSENSUS = 'STATE_DOWNLOADING_CONSENSUS',\r\n  STATE_MAKING_TUNNEL_A = 'STATE_MAKING_TUNNEL_A',\r\n  STATE_MAKING_TUNNEL_B = 'STATE_MAKING_TUNNEL_B',\r\n  STATE_CREATING_STREAM = 'STATE_CREATING_STREAM',\r\n  STATE_FAILED = 'STATE_FAILED',\r\n  STATE_SUCCESS = 'STATE_SUCCESS',\r\n}\r\n\r\nexport interface CurrentActionState {\r\n  status: StatusCurrentActionState;\r\n  wallet_id: number;\r\n}\r\n\r\nexport enum Commands {\r\n  money_transfer_cancel = 'money_transfer_cancel',\r\n  handle_deeplink_click = 'handle_deeplink_click',\r\n  money_transfer = 'money_transfer',\r\n  update_daemon_state = 'update_daemon_state',\r\n  wallet_sync_progress = 'wallet_sync_progress',\r\n  update_wallet_status = 'update_wallet_status',\r\n  quit_requested = 'quit_requested',\r\n  on_core_event = 'on_core_event',\r\n  get_wallet_info = 'get_wallet_info',\r\n  remove_custom_asset_id = 'remove_custom_asset_id',\r\n  add_custom_asset_id = 'add_custom_asset_id',\r\n  get_options = 'get_options',\r\n  handle_current_action_state = 'handle_current_action_state',\r\n  set_enable_tor = 'set_enable_tor',\r\n  dispatch_async_call_result = 'dispatch_async_call_result',\r\n  async_call = 'async_call',\r\n  set_log_level = 'set_log_level',\r\n  get_network_type = 'get_network_type',\r\n  get_version = 'get_version',\r\n  get_tx_pool_info = 'get_tx_pool_info',\r\n  get_recent_transfers = 'get_recent_transfers',\r\n  resync_wallet = 'resync_wallet',\r\n  get_alias_coast = 'get_alias_coast',\r\n  get_alias_info_by_address = 'get_alias_info_by_address',\r\n  get_alias_info_by_name = 'get_alias_info_by_name',\r\n  get_all_aliases = 'get_all_aliases',\r\n  request_alias_update = 'request_alias_update',\r\n  webkit_launched_script = 'webkit_launched_script',\r\n  on_request_quit = 'on_request_quit',\r\n  get_app_data = 'get_app_data',\r\n  store_app_data = 'store_app_data',\r\n  get_secure_app_data = 'get_secure_app_data',\r\n  set_master_password = 'set_master_password',\r\n  check_master_password = 'check_master_password',\r\n  get_is_disabled_notifications = 'get_is_disabled_notifications',\r\n  set_is_disabled_notifications = 'set_is_disabled_notifications',\r\n  store_secure_app_data = 'store_secure_app_data',\r\n  drop_secure_app_data = 'drop_secure_app_data',\r\n  have_secure_app_data = 'have_secure_app_data',\r\n  show_savefile_dialog = 'show_savefile_dialog',\r\n  show_openfile_dialog = 'show_openfile_dialog',\r\n  store_to_file = 'store_to_file',\r\n  load_from_file = 'load_from_file',\r\n  push_offer = 'push_offer',\r\n  generate_wallet = 'generate_wallet',\r\n  export_wallet_history = 'export_wallet_history',\r\n  open_wallet = 'open_wallet',\r\n  close_wallet = 'close_wallet',\r\n  get_smart_wallet_info = 'get_smart_wallet_info',\r\n  get_seed_phrase_info = 'get_seed_phrase_info',\r\n  run_wallet = 'run_wallet',\r\n  is_valid_restore_wallet_text = 'is_valid_restore_wallet_text',\r\n  restore_wallet = 'restore_wallet',\r\n  transfer = 'transfer',\r\n  validate_address = 'validate_address',\r\n  set_clipboard = 'set_clipboard',\r\n  get_clipboard = 'get_clipboard',\r\n  create_proposal = 'create_proposal',\r\n  get_contracts = 'get_contracts',\r\n  accept_proposal = 'accept_proposal',\r\n  release_contract = 'release_contract',\r\n  request_cancel_contract = 'request_cancel_contract',\r\n  accept_cancel_contract = 'accept_cancel_contract',\r\n  get_mining_history = 'get_mining_history',\r\n  start_pos_mining = 'start_pos_mining',\r\n  stop_pos_mining = 'stop_pos_mining',\r\n  open_url_in_browser = 'open_url_in_browser',\r\n  start_backend = 'start_backend',\r\n  get_default_fee = 'get_default_fee',\r\n  set_localization_strings = 'set_localization_strings',\r\n  request_alias_registration = 'request_alias_registration',\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class BackendService {\r\n  dispatchAsyncCallResult$ = new Subject<AsyncCommandResults>();\r\n\r\n  handleCurrentActionState$ = new Subject<CurrentActionState>();\r\n\r\n  backendObject: any;\r\n\r\n  backendLoaded = false;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private variablesService: VariablesService,\r\n    private modalService: ModalService,\r\n    private moneyToIntPipe: MoneyToIntPipe,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  static bigNumberParser(key, val): any {\r\n    if (\r\n      val.constructor.name === 'BigNumber' &&\r\n      [\r\n        'balance',\r\n        'unlocked_balance',\r\n        'amount',\r\n        'fee',\r\n        'b_fee',\r\n        'to_pay',\r\n        'a_pledge',\r\n        'b_pledge',\r\n        'coast',\r\n        'a',\r\n      ].indexOf(key) === -1\r\n    ) {\r\n      return val.toNumber();\r\n    }\r\n    if (key === 'rcv' || key === 'spn') {\r\n      for (let i = 0; i < val.length; i++) {\r\n        val[i] = new BigNumber(val[i]);\r\n      }\r\n    }\r\n    return val;\r\n  }\r\n\r\n  static Debug(type, message): void {\r\n    switch (type) {\r\n      case 0:\r\n        console.error(message);\r\n        break;\r\n      case 1:\r\n        console.warn(message);\r\n        break;\r\n      case 2:\r\n        console.log(message);\r\n        break;\r\n      default:\r\n        console.log(message);\r\n        break;\r\n    }\r\n  }\r\n\r\n  eventSubscribe(command: Commands, callback): void {\r\n    if (command === Commands.on_core_event) {\r\n      this.backendObject[command].connect(callback);\r\n    } else {\r\n      this.backendObject[command].connect(str => {\r\n        callback(JSONBigNumber.parse(str, BackendService.bigNumberParser));\r\n      });\r\n    }\r\n  }\r\n\r\n  initService(): Observable<string> {\r\n    return new Observable(observer => {\r\n      if (!this.backendLoaded) {\r\n        this.backendLoaded = true;\r\n        (<any>window).QWebChannel(\r\n          (<any>window).qt.webChannelTransport,\r\n          channel => {\r\n            this.backendObject = channel.objects.mediator_object;\r\n            observer.next('backendObject loaded');\r\n          }\r\n        );\r\n      } else {\r\n        observer.error('backend not loaded');\r\n        if (!this.backendObject) {\r\n          observer.error('backendObject not loaded');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  webkitLaunchedScript(): void {\r\n    this.runCommand(Commands.webkit_launched_script);\r\n  }\r\n\r\n  quitRequest(): void {\r\n    this.runCommand(Commands.on_request_quit);\r\n  }\r\n\r\n  getAppData(callback): void {\r\n    this.runCommand(Commands.get_app_data, {}, callback);\r\n  }\r\n\r\n  storeAppData(callback?): void {\r\n    if (this.variablesService.wallets.length > 0) {\r\n      this.variablesService.settings.wallets = [];\r\n      this.variablesService.wallets.forEach(wallet => {\r\n        this.variablesService.settings.wallets.push({\r\n          name: wallet.name,\r\n          path: wallet.path,\r\n        });\r\n      });\r\n    }\r\n    this.runCommand(\r\n      Commands.store_app_data,\r\n      this.variablesService.settings,\r\n      callback\r\n    );\r\n  }\r\n\r\n  getSecureAppData(pass, callback): void {\r\n    this.runCommand(Commands.get_secure_app_data, pass, callback);\r\n  }\r\n\r\n  setMasterPassword(pass, callback): void {\r\n    this.runCommand(Commands.set_master_password, pass, callback);\r\n  }\r\n\r\n  checkMasterPassword(pass, callback): void {\r\n    this.runCommand(Commands.check_master_password, pass, callback);\r\n  }\r\n\r\n  getIsDisabledNotifications(callback): void {\r\n    const params = {};\r\n    this.runCommand(Commands.get_is_disabled_notifications, params, callback);\r\n  }\r\n\r\n  setIsDisabledNotifications(state): void {\r\n    this.runCommand(Commands.set_is_disabled_notifications, state);\r\n  }\r\n\r\n  storeSecureAppData(callback?): void {\r\n    const wallets = [];\r\n    const contacts = [];\r\n    this.variablesService.wallets.forEach(wallet => {\r\n      wallets.push({\r\n        name: wallet.name,\r\n        pass: wallet.pass,\r\n        path: wallet.path,\r\n        staking: wallet.staking,\r\n      });\r\n    });\r\n    this.variablesService.contacts.forEach(contact => {\r\n      contacts.push({\r\n        name: contact.name,\r\n        address: contact.address,\r\n        notes: contact.notes,\r\n      });\r\n    });\r\n    const data = { wallets: wallets, contacts: contacts };\r\n    this.backendObject[Commands.store_secure_app_data](\r\n      JSON.stringify(data),\r\n      this.variablesService.appPass,\r\n      dataStore => {\r\n        this.backendCallback(\r\n          dataStore,\r\n          {},\r\n          callback,\r\n          Commands.store_secure_app_data\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  dropSecureAppData(callback?): void {\r\n    this.backendObject[Commands.drop_secure_app_data](dataStore => {\r\n      this.backendCallback(\r\n        dataStore,\r\n        {},\r\n        callback,\r\n        Commands.drop_secure_app_data\r\n      );\r\n    });\r\n  }\r\n\r\n  haveSecureAppData(callback): void {\r\n    this.runCommand(Commands.have_secure_app_data, {}, callback);\r\n  }\r\n\r\n  saveFileDialog(caption, fileMask, default_path, callback): void {\r\n    const dir = default_path ? default_path : '/';\r\n    const params = {\r\n      caption: caption,\r\n      filemask: fileMask,\r\n      default_dir: dir,\r\n    };\r\n    this.runCommand(Commands.show_savefile_dialog, params, callback);\r\n  }\r\n\r\n  openFileDialog(caption, fileMask, default_path, callback): void {\r\n    const dir = default_path ? default_path : '/';\r\n    const params = {\r\n      caption: caption,\r\n      filemask: fileMask,\r\n      default_dir: dir,\r\n    };\r\n    this.runCommand(Commands.show_openfile_dialog, params, callback);\r\n  }\r\n\r\n  storeFile(path, buff): void {\r\n    this.backendObject[Commands.store_to_file](path, buff);\r\n  }\r\n\r\n  loadFile(path, callback): void {\r\n    this.runCommand(Commands.load_from_file, path, callback);\r\n  }\r\n\r\n  push_offer(params, callback): void {\r\n    this.runCommand(Commands.push_offer, params, callback);\r\n  }\r\n\r\n  generateWallet(path, pass, callback): void {\r\n    const params = {\r\n      path: path,\r\n      pass: pass,\r\n    };\r\n    this.runCommand(Commands.generate_wallet, params, callback);\r\n  }\r\n\r\n  exportWalletHistory(json_string): void {\r\n    this.runCommand(Commands.export_wallet_history, json_string);\r\n  }\r\n\r\n  openWallet(path, pass, txs_to_return, testEmpty, callback): void {\r\n    const params = {\r\n      path: path,\r\n      pass: pass,\r\n      txs_to_return: txs_to_return,\r\n    };\r\n    params['testEmpty'] = !!testEmpty;\r\n    this.runCommand(Commands.open_wallet, params, callback);\r\n  }\r\n\r\n  closeWallet(wallet_id, callback?): void {\r\n    this.runCommand(Commands.close_wallet, { wallet_id: +wallet_id }, callback);\r\n  }\r\n\r\n  getSmartWalletInfo({ wallet_id, seed_password }, callback): void {\r\n    this.runCommand(\r\n      Commands.get_smart_wallet_info,\r\n      { wallet_id: +wallet_id, seed_password },\r\n      callback\r\n    );\r\n  }\r\n\r\n  getSeedPhraseInfo(param, callback): void {\r\n    this.runCommand(Commands.get_seed_phrase_info, param, callback);\r\n  }\r\n\r\n  runWallet(wallet_id, callback?): void {\r\n    this.runCommand(Commands.run_wallet, { wallet_id: +wallet_id }, callback);\r\n  }\r\n\r\n  isValidRestoreWalletText(param, callback): void {\r\n    this.runCommand(Commands.is_valid_restore_wallet_text, param, callback);\r\n  }\r\n\r\n  restoreWallet(path, pass, seed_phrase, seed_pass, callback): void {\r\n    const params = {\r\n      seed_phrase: seed_phrase,\r\n      path: path,\r\n      pass: pass,\r\n      seed_pass,\r\n    };\r\n    this.runCommand(Commands.restore_wallet, params, callback);\r\n  }\r\n\r\n  sendMoney(\r\n    from_wallet_id,\r\n    to_address,\r\n    amount,\r\n    fee,\r\n    mixin,\r\n    comment,\r\n    hide,\r\n    asset_id: string | null,\r\n    callback\r\n  ): void {\r\n    const params = {\r\n      wallet_id: parseInt(from_wallet_id, 10),\r\n      destinations: [\r\n        {\r\n          address: to_address,\r\n          amount: amount,\r\n          ...(asset_id && { asset_id }),\r\n        },\r\n      ],\r\n      mixin_count: mixin ? parseInt(mixin, 10) : 0,\r\n      lock_time: 0,\r\n      fee: this.moneyToIntPipe.transform(fee),\r\n      comment: comment,\r\n      push_payer: !hide,\r\n    };\r\n\r\n    this.asyncCall(Commands.transfer, params, callback);\r\n  }\r\n\r\n  validateAddress(address, callback): void {\r\n    this.runCommand(Commands.validate_address, address, callback);\r\n  }\r\n\r\n  setClipboard(str, callback?): void {\r\n    this.runCommand(Commands.set_clipboard, str, callback);\r\n  }\r\n\r\n  getClipboard(callback): void {\r\n    this.runCommand(Commands.get_clipboard, {}, callback);\r\n  }\r\n\r\n  createProposal(\r\n    wallet_id,\r\n    title,\r\n    comment,\r\n    a_addr,\r\n    b_addr,\r\n    to_pay,\r\n    a_pledge,\r\n    b_pledge,\r\n    time,\r\n    payment_id,\r\n    callback\r\n  ): void {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      details: {\r\n        t: title,\r\n        c: comment,\r\n        a_addr: a_addr,\r\n        b_addr: b_addr,\r\n        to_pay: this.moneyToIntPipe.transform(to_pay),\r\n        a_pledge: this.moneyToIntPipe.transform(a_pledge),\r\n        b_pledge: this.moneyToIntPipe.transform(b_pledge),\r\n      },\r\n      payment_id: payment_id,\r\n      expiration_period: parseInt(time, 10) * 60 * 60,\r\n      fee: this.variablesService.default_fee_big,\r\n      b_fee: this.variablesService.default_fee_big,\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand(Commands.create_proposal, params, callback);\r\n  }\r\n\r\n  getContracts(wallet_id, callback): void {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand(Commands.get_contracts, params, callback);\r\n  }\r\n\r\n  acceptProposal(wallet_id, contract_id, callback): void {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id,\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand(Commands.accept_proposal, params, callback);\r\n  }\r\n\r\n  releaseProposal(wallet_id, contract_id, release_type, callback): void {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id,\r\n      release_type: release_type, // \"normal\" or \"burn\"\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand(Commands.release_contract, params, callback);\r\n  }\r\n\r\n  requestCancelContract(wallet_id, contract_id, time, callback): void {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id,\r\n      fee: this.variablesService.default_fee_big,\r\n      expiration_period: parseInt(time, 10) * 60 * 60,\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand(Commands.request_cancel_contract, params, callback);\r\n  }\r\n\r\n  acceptCancelContract(wallet_id, contract_id, callback): void {\r\n    const params = {\r\n      wallet_id: parseInt(wallet_id, 10),\r\n      contract_id: contract_id,\r\n    };\r\n    BackendService.Debug(1, params);\r\n    this.runCommand(Commands.accept_cancel_contract, params, callback);\r\n  }\r\n\r\n  getMiningHistory(wallet_id, callback): void {\r\n    this.runCommand(\r\n      Commands.get_mining_history,\r\n      { wallet_id: parseInt(wallet_id, 10) },\r\n      callback\r\n    );\r\n  }\r\n\r\n  startPosMining(wallet_id, callback?): void {\r\n    this.runCommand(\r\n      Commands.start_pos_mining,\r\n      { wallet_id: parseInt(wallet_id, 10) },\r\n      callback\r\n    );\r\n  }\r\n\r\n  stopPosMining(wallet_id, callback?): void {\r\n    this.runCommand(\r\n      Commands.stop_pos_mining,\r\n      { wallet_id: parseInt(wallet_id, 10) },\r\n      callback\r\n    );\r\n  }\r\n\r\n  openUrlInBrowser(url, callback?): void {\r\n    this.runCommand(Commands.open_url_in_browser, url, callback);\r\n  }\r\n\r\n  start_backend(node, host, port, callback): void {\r\n    const params = {\r\n      configure_for_remote_node: node,\r\n      remote_node_host: host,\r\n      remote_node_port: parseInt(port, 10),\r\n    };\r\n    this.runCommand(Commands.start_backend, params, callback);\r\n  }\r\n\r\n  getDefaultFee(callback): void {\r\n    this.runCommand(Commands.get_default_fee, {}, callback);\r\n  }\r\n\r\n  setBackendLocalization(stringsArray, title, callback?): void {\r\n    const params = {\r\n      strings: stringsArray,\r\n      language_title: title,\r\n    };\r\n    this.runCommand(Commands.set_localization_strings, params, callback);\r\n  }\r\n\r\n  registerAlias(\r\n    wallet_id,\r\n    alias,\r\n    address,\r\n    fee,\r\n    comment,\r\n    reward,\r\n    callback\r\n  ): void {\r\n    const params = {\r\n      wallet_id: wallet_id,\r\n      alias: {\r\n        alias: alias,\r\n        address: address,\r\n        tracking_key: '',\r\n        comment: comment,\r\n      },\r\n      fee: this.moneyToIntPipe.transform(fee),\r\n      reward: this.moneyToIntPipe.transform(reward),\r\n    };\r\n    this.runCommand(Commands.request_alias_registration, params, callback);\r\n  }\r\n\r\n  updateAlias(wallet_id, alias, fee, callback): void {\r\n    const params = {\r\n      wallet_id: wallet_id,\r\n      alias: {\r\n        alias: alias.name.replace('@', ''),\r\n        address: alias.address,\r\n        tracking_key: '',\r\n        comment: alias.comment,\r\n      },\r\n      fee: this.moneyToIntPipe.transform(fee),\r\n    };\r\n    this.runCommand(Commands.request_alias_update, params, callback);\r\n  }\r\n\r\n  getAllAliases(callback): void {\r\n    this.runCommand(Commands.get_all_aliases, {}, callback);\r\n  }\r\n\r\n  getAliasByName(value, callback): void {\r\n    this.runCommand(Commands.get_alias_info_by_name, value, callback);\r\n  }\r\n\r\n  getAliasByAddress(value, callback): void {\r\n    this.runCommand(Commands.get_alias_info_by_address, value, callback);\r\n  }\r\n\r\n  getAliasCoast(alias, callback): void {\r\n    this.runCommand(Commands.get_alias_coast, { v: alias }, callback);\r\n  }\r\n\r\n  resyncWallet(id): void {\r\n    this.runCommand(Commands.resync_wallet, { wallet_id: id });\r\n  }\r\n\r\n  getWalletAlias(address): Partial<Alias> {\r\n    if (address !== null && this.variablesService.daemon_state === 2) {\r\n      if (this.variablesService.aliasesChecked[address] == null) {\r\n        this.variablesService.aliasesChecked[address] = {};\r\n        if (this.variablesService.aliases.length) {\r\n          for (\r\n            let i = 0, length = this.variablesService.aliases.length;\r\n            i < length;\r\n            i++\r\n          ) {\r\n            if (\r\n              i in this.variablesService.aliases &&\r\n              this.variablesService.aliases[i]['address'] === address\r\n            ) {\r\n              this.variablesService.aliasesChecked[address]['name'] =\r\n                this.variablesService.aliases[i].name;\r\n              this.variablesService.aliasesChecked[address]['address'] =\r\n                this.variablesService.aliases[i].address;\r\n              this.variablesService.aliasesChecked[address]['comment'] =\r\n                this.variablesService.aliases[i].comment;\r\n              return this.variablesService.aliasesChecked[address];\r\n            }\r\n          }\r\n        }\r\n        this.getAliasByAddress(address, (status, data) => {\r\n          if (status) {\r\n            this.variablesService.aliasesChecked[data.address]['name'] =\r\n              '@' + data.alias;\r\n            this.variablesService.aliasesChecked[data.address]['address'] =\r\n              data.address;\r\n            this.variablesService.aliasesChecked[data.address]['comment'] =\r\n              data.comment;\r\n          }\r\n        });\r\n      }\r\n      return this.variablesService.aliasesChecked[address];\r\n    }\r\n    return {};\r\n  }\r\n\r\n  getContactAlias(): void {\r\n    if (\r\n      this.variablesService.contacts.length > 0 &&\r\n      this.variablesService.daemon_state === 2\r\n    ) {\r\n      this.variablesService.contacts.map(contact => {\r\n        this.getAliasByAddress(contact.address, (status, data) => {\r\n          if (status) {\r\n            if (data.alias) {\r\n              contact.alias = '@' + data.alias;\r\n            }\r\n          } else {\r\n            contact.alias = null;\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  getRecentTransfers(id, offset, count, exclude_mining_txs, callback): void {\r\n    const params = {\r\n      wallet_id: id,\r\n      offset: offset,\r\n      count: count,\r\n      exclude_mining_txs: exclude_mining_txs,\r\n    };\r\n    this.runCommand(Commands.get_recent_transfers, params, callback);\r\n  }\r\n\r\n  getPoolInfo(callback): void {\r\n    this.runCommand(Commands.get_tx_pool_info, {}, callback);\r\n  }\r\n\r\n  getVersion(callback): void {\r\n    this.runCommand(Commands.get_version, {}, (status, version) => {\r\n      this.runCommand(Commands.get_network_type, {}, (status_network, type) => {\r\n        callback(version, type);\r\n      });\r\n    });\r\n  }\r\n\r\n  setLogLevel(level): void {\r\n    this.runCommand(Commands.set_log_level, { v: level });\r\n  }\r\n\r\n  asyncCall(\r\n    command: string,\r\n    params: PramsObj,\r\n    callback?: (job_id?: number) => void | any\r\n  ): void {\r\n    this.runCommand(\r\n      Commands.async_call,\r\n      [command, params],\r\n      (status, { job_id }: { job_id: number }) => {\r\n        callback(job_id);\r\n      }\r\n    );\r\n  }\r\n\r\n  dispatchAsyncCallResult(): void {\r\n    this.backendObject[Commands.dispatch_async_call_result].connect(\r\n      (job_id: string, json_resp: string) => {\r\n        const asyncCommandResults: AsyncCommandResults = {\r\n          job_id: +job_id,\r\n          response: JSON.parse(json_resp),\r\n        };\r\n        this.ngZone.run(() =>\r\n          this.dispatchAsyncCallResult$.next(asyncCommandResults)\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  handleCurrentActionState(): void {\r\n    this.backendObject[Commands.handle_current_action_state].connect(\r\n      (response: string) => {\r\n        const currentActionState: CurrentActionState = JSON.parse(response);\r\n        this.ngZone.run(() =>\r\n          this.handleCurrentActionState$.next(currentActionState)\r\n        );\r\n      }\r\n    );\r\n  }\r\n\r\n  setEnableTor(value: boolean): void {\r\n    this.runCommand(Commands.set_enable_tor, <{ v: boolean }>{\r\n      v: value,\r\n    });\r\n  }\r\n\r\n  getOptions(): any {\r\n    this.runCommand(\r\n      Commands.get_options,\r\n      {},\r\n      (\r\n        status,\r\n        {\r\n          disable_price_fetch,\r\n          use_debug_mode,\r\n        }: { disable_price_fetch: boolean; use_debug_mode: boolean }\r\n      ) => {\r\n        this.variablesService.disable_price_fetch$.next(disable_price_fetch);\r\n        this.variablesService.use_debug_mode$.next(use_debug_mode);\r\n      }\r\n    );\r\n  }\r\n\r\n  addCustomAssetId(\r\n    params: ParamsAddCustomAssetId,\r\n    callback: (status: boolean, response_data: ResponseAddCustomAssetId) => void\r\n  ): void {\r\n    this.runCommand(Commands.add_custom_asset_id, params, callback);\r\n  }\r\n\r\n  removeCustomAssetId(\r\n    params: ParamsRemoveCustomAssetId,\r\n    callback?: (\r\n      status: boolean,\r\n      response_data: ResponseRemoveCustomAssetId\r\n    ) => void\r\n  ): void {\r\n    this.runCommand(Commands.remove_custom_asset_id, params, callback);\r\n  }\r\n\r\n  getWalletInfo(\r\n    wallet_id,\r\n    callback?: (status: boolean, response_data: ResponseGetWalletInfo) => void\r\n  ): void {\r\n    this.runCommand(Commands.get_wallet_info, { wallet_id }, callback);\r\n  }\r\n\r\n  private informerRun(error: string, params, command: string): void {\r\n    let error_translate = '';\r\n    switch (error) {\r\n      case 'NOT_ENOUGH_MONEY':\r\n        error_translate = 'ERRORS.NOT_ENOUGH_MONEY';\r\n        // error_translate = 'ERRORS.NO_MONEY'; maybe that one?\r\n        if (command === 'cancel_offer') {\r\n          error_translate = this.translate.instant(\r\n            'ERRORS.NO_MONEY_REMOVE_OFFER',\r\n            {\r\n              fee: this.variablesService.default_fee,\r\n              currency: this.variablesService.defaultCurrency,\r\n            }\r\n          );\r\n        }\r\n        break;\r\n      case 'CORE_BUSY':\r\n        error_translate = 'ERRORS.CORE_BUSY';\r\n        break;\r\n      case 'BUSY':\r\n        error_translate = 'ERRORS.DAEMON_BUSY';\r\n        break;\r\n      case 'OVERFLOW':\r\n        if (command !== 'get_all_aliases') {\r\n          error_translate = '';\r\n        }\r\n        break;\r\n      case 'NOT_ENOUGH_OUTPUTS_FOR_MIXING':\r\n        error_translate = 'ERRORS.NOT_ENOUGH_OUTPUTS_TO_MIX';\r\n        break;\r\n      case 'TX_IS_TOO_BIG':\r\n        error_translate = 'ERRORS.TRANSACTION_IS_TO_BIG';\r\n        break;\r\n      case 'DISCONNECTED':\r\n        error_translate = 'ERRORS.TRANSFER_ATTEMPT';\r\n        break;\r\n      case 'ACCESS_DENIED':\r\n        error_translate = 'ERRORS.ACCESS_DENIED';\r\n        break;\r\n      case 'TX_REJECTED':\r\n        // if (command === 'request_alias_registration') {\r\n        // error_translate = 'INFORMER.ALIAS_IN_REGISTER';\r\n        // } else {\r\n        error_translate = 'ERRORS.TRANSACTION_ERROR';\r\n        // }\r\n        break;\r\n      case 'INTERNAL_ERROR':\r\n        error_translate = 'ERRORS.TRANSACTION_ERROR';\r\n        break;\r\n      case 'BAD_ARG':\r\n        error_translate = 'ERRORS.BAD_ARG';\r\n        break;\r\n      case 'WALLET_WRONG_ID':\r\n        error_translate = 'ERRORS.WALLET_WRONG_ID';\r\n        break;\r\n      case 'WALLET_WATCH_ONLY_NOT_SUPPORTED':\r\n        error_translate = 'ERRORS.WALLET_WATCH_ONLY_NOT_SUPPORTED';\r\n        break;\r\n      // case 'WRONG_PASSWORD':\r\n      // params = JSON.parse(params);\r\n      // if (!params.testEmpty) {\r\n      //   error_translate = 'ERRORS.WRONG_PASSWORD';\r\n      // }\r\n      // break;\r\n      case 'FILE_RESTORED':\r\n        if (command === 'open_wallet') {\r\n          error_translate = 'ERRORS.FILE_RESTORED';\r\n        }\r\n        break;\r\n      case 'FILE_NOT_FOUND':\r\n        if (\r\n          command !== 'open_wallet' &&\r\n          command !== 'get_alias_info_by_name' &&\r\n          command !== 'get_alias_info_by_address'\r\n        ) {\r\n          error_translate = this.translate.instant('ERRORS.FILE_NOT_FOUND');\r\n          params = JSON.parse(params);\r\n          if (params.path) {\r\n            error_translate += ': ' + params.path;\r\n          }\r\n        }\r\n        break;\r\n      case 'NOT_FOUND':\r\n        if (\r\n          command !== 'open_wallet' &&\r\n          command !== 'get_alias_info_by_name' &&\r\n          command !== 'get_alias_info_by_address'\r\n        ) {\r\n          error_translate = this.translate.instant('ERRORS.FILE_NOT_FOUND');\r\n          params = JSON.parse(params);\r\n          if (params.path) {\r\n            error_translate += ': ' + params.path;\r\n          }\r\n        }\r\n        break;\r\n      case 'CANCELED':\r\n      case '':\r\n        break;\r\n      case 'FAIL':\r\n        if (\r\n          command === 'create_proposal' ||\r\n          command === 'accept_proposal' ||\r\n          command === 'release_contract' ||\r\n          command === 'request_cancel_contract' ||\r\n          command === 'accept_cancel_contract'\r\n        ) {\r\n          error_translate = ' ';\r\n        }\r\n        break;\r\n      case 'ALREADY_EXISTS':\r\n        error_translate = 'ERRORS.FILE_EXIST';\r\n        break;\r\n      case 'FAILED':\r\n        BackendService.Debug(\r\n          0,\r\n          `Error: (${error}) was triggered by command: ${command}`\r\n        );\r\n        break;\r\n      default:\r\n        error_translate = '';\r\n    }\r\n    if (error.indexOf('FAIL:failed to save file') > -1) {\r\n      error_translate = 'ERRORS.FILE_NOT_SAVED';\r\n    }\r\n    if (\r\n      error.indexOf('FAILED:failed to open binary wallet file for saving') >\r\n        -1 &&\r\n      command === 'generate_wallet'\r\n    ) {\r\n      error_translate = '';\r\n    }\r\n\r\n    if (error_translate !== '') {\r\n      this.modalService.prepareModal('error', error_translate);\r\n    }\r\n  }\r\n\r\n  private commandDebug(command: Commands, params: Params, result: any): void {\r\n    BackendService.Debug(\r\n      2,\r\n      '----------------- ' + command + ' -----------------'\r\n    );\r\n    const debug = {\r\n      _send_params: params,\r\n      _result: result,\r\n    };\r\n    BackendService.Debug(2, debug);\r\n    try {\r\n      BackendService.Debug(\r\n        2,\r\n        JSONBigNumber.parse(result, BackendService.bigNumberParser)\r\n      );\r\n    } catch (e) {\r\n      BackendService.Debug(2, { response_data: result, error_code: 'OK' });\r\n    }\r\n  }\r\n\r\n  private backendCallback(resultStr, params, callback, command: Commands): any {\r\n    let Result = resultStr;\r\n    if (command !== Commands.get_clipboard) {\r\n      if (!resultStr || resultStr === '') {\r\n        Result = {};\r\n      } else {\r\n        try {\r\n          Result = JSONBigNumber.parse(\r\n            resultStr,\r\n            BackendService.bigNumberParser\r\n          );\r\n        } catch (e) {\r\n          Result = { response_data: resultStr, error_code: 'OK' };\r\n        }\r\n      }\r\n    } else {\r\n      Result = {\r\n        error_code: 'OK',\r\n        response_data: Result,\r\n      };\r\n    }\r\n\r\n    const core_busy = Result.error_code === 'CORE_BUSY';\r\n    const Status = Result.error_code === 'OK' || Result.error_code === 'TRUE';\r\n\r\n    if (!Status && Status !== undefined && Result.error_code !== undefined) {\r\n      BackendService.Debug(\r\n        1,\r\n        'API error for command: \"' +\r\n          command +\r\n          '\". Error code: ' +\r\n          Result.error_code\r\n      );\r\n    }\r\n    const data =\r\n      typeof Result === 'object' && 'response_data' in Result\r\n        ? Result.response_data\r\n        : Result;\r\n\r\n    let res_error_code = false;\r\n    if (\r\n      typeof Result === 'object' &&\r\n      'error_code' in Result &&\r\n      Result.error_code !== 'OK' &&\r\n      Result.error_code !== 'TRUE' &&\r\n      Result.error_code !== 'FALSE' &&\r\n      Result.error_code !== 'WRAP'\r\n    ) {\r\n      if (core_busy) {\r\n        setTimeout(() => {\r\n          // this is will avoid update data when user\r\n          // on other wallet after CORE_BUSY (blink of data)\r\n          if (command !== Commands.get_recent_transfers) {\r\n            this.runCommand(command, params, callback);\r\n          } else {\r\n            const current_wallet_id =\r\n              this.variablesService.currentWallet.wallet_id;\r\n            if (current_wallet_id === params.wallet_id) {\r\n              this.runCommand(command, params, callback);\r\n            }\r\n          }\r\n        }, 50);\r\n      } else {\r\n        this.informerRun(Result.error_code, params, command);\r\n        res_error_code = Result.error_code;\r\n      }\r\n    }\r\n\r\n    if (!core_busy) {\r\n      if (typeof callback === 'function') {\r\n        callback(Status, data, res_error_code);\r\n      } else {\r\n        return data;\r\n      }\r\n    }\r\n  }\r\n\r\n  private runCommand(command: Commands, params?: Params, callback?): any {\r\n    if (!this.backendObject) {\r\n      return;\r\n    }\r\n\r\n    if (command === Commands.get_recent_transfers) {\r\n      this.variablesService.get_recent_transfers = true;\r\n    }\r\n\r\n    const Action = this.backendObject[command];\r\n\r\n    if (!Action) {\r\n      BackendService.Debug(\r\n        0,\r\n        'Run Command Error! Command \"' +\r\n          command +\r\n          '\" don\\'t found in backendObject'\r\n      );\r\n      return;\r\n    }\r\n\r\n    const type: ParamsType = getParamsType(params);\r\n    params = params && convertorParams(params);\r\n\r\n    if (type === ParamsType.array) {\r\n      Action(...(params as string[]), resultStr => {\r\n        this.commandDebug(command, params, resultStr);\r\n        return this.backendCallback(resultStr, params, callback, command);\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (command === Commands.get_recent_transfers) {\r\n      this.variablesService.get_recent_transfers = false;\r\n    }\r\n    Action(params, resultStr => {\r\n      this.commandDebug(command, params, resultStr);\r\n      return this.backendCallback(resultStr, params, callback, command);\r\n    });\r\n  }\r\n}\r\n","import { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot([], { relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule {}\r\n","import { Component, NgZone, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BackendService, Commands } from '@api/services/backend.service';\r\nimport { Router } from '@angular/router';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { IntToMoneyPipe } from '@parts/pipes';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { StateKeys, Store } from '@store/store';\r\nimport { Subject, take } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { paths, pathsChildrenAuth } from './pages/paths';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { AssetsFacade } from '@store/assets/assets.facade';\r\nimport { Dialog } from '@angular/cdk/dialog';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  template: `\r\n    <router-outlet\r\n      *ngIf=\"[0, 1, 2, 6].indexOf(variablesService.daemon_state) !== -1\"\r\n    ></router-outlet>\r\n\r\n    <div\r\n      *ngIf=\"[3, 4, 5].indexOf(variablesService.daemon_state) !== -1\"\r\n      class=\"preloader\"\r\n    >\r\n      <p *ngIf=\"variablesService.daemon_state === 3\" class=\"mb-2\">\r\n        {{ 'SIDEBAR.SYNCHRONIZATION.LOADING' | translate }}\r\n      </p>\r\n      <p *ngIf=\"variablesService.daemon_state === 4\" class=\"mb-2\">\r\n        {{ 'SIDEBAR.SYNCHRONIZATION.ERROR' | translate }}\r\n      </p>\r\n      <p *ngIf=\"variablesService.daemon_state === 5\" class=\"mb-2\">\r\n        {{ 'SIDEBAR.SYNCHRONIZATION.COMPLETE' | translate }}\r\n      </p>\r\n      <div class=\"loading-bar\"></div>\r\n    </div>\r\n\r\n    <app-register-context-templates></app-register-context-templates>\r\n\r\n    <app-open-wallet-modal\r\n      *ngIf=\"needOpenWallets.length\"\r\n      [wallets]=\"needOpenWallets\"\r\n    ></app-open-wallet-modal>\r\n  `,\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n  intervalUpdatePriceState;\r\n\r\n  intervalUpdateContractsState;\r\n\r\n  expMedTsEvent;\r\n\r\n  onQuitRequest = false;\r\n\r\n  firstOnlineState = false;\r\n\r\n  translateUsed = false;\r\n\r\n  needOpenWallets = [];\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    public translate: TranslateService,\r\n    private http: HttpClient,\r\n    private renderer: Renderer2,\r\n    private backendService: BackendService,\r\n    private router: Router,\r\n    private ngZone: NgZone,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private modalService: ModalService,\r\n    private store: Store,\r\n    private dialog: Dialog,\r\n    private assetsFacade: AssetsFacade\r\n  ) {\r\n    translate.addLangs(['en', 'fr', 'de', 'it', 'pt']);\r\n    translate.setDefaultLang('en');\r\n    translate.use('en').subscribe({\r\n      next: () => {\r\n        this.translateUsed = true;\r\n      },\r\n    });\r\n  }\r\n\r\n  setBackendLocalization(): void {\r\n    if (this.translateUsed) {\r\n      const stringsArray = [\r\n        this.translate.instant('BACKEND_LOCALIZATION.QUIT'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.IS_RECEIVED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.IS_CONFIRMED'),\r\n        this.translate.instant(\r\n          'BACKEND_LOCALIZATION.INCOME_TRANSFER_UNCONFIRMED'\r\n        ),\r\n        this.translate.instant(\r\n          'BACKEND_LOCALIZATION.INCOME_TRANSFER_CONFIRMED'\r\n        ),\r\n        this.translate.instant('BACKEND_LOCALIZATION.MINED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.LOCKED'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.IS_MINIMIZE'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.RESTORE'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.TRAY_MENU_SHOW'),\r\n        this.translate.instant('BACKEND_LOCALIZATION.TRAY_MENU_MINIMIZE'),\r\n      ];\r\n      this.backendService.setBackendLocalization(\r\n        stringsArray,\r\n        this.variablesService.settings.language\r\n      );\r\n    } else {\r\n      console.warn('wait translate use');\r\n      setTimeout(() => {\r\n        this.setBackendLocalization();\r\n      }, 10000);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.backendService.initService().subscribe({\r\n      next: initMessage => {\r\n        console.log('Init message: ', initMessage);\r\n        this.backendService.getOptions();\r\n        this.backendService.webkitLaunchedScript();\r\n\r\n        this.backendService.start_backend(\r\n          false,\r\n          '127.0.0.1',\r\n          11512,\r\n          (st2, dd2) => {\r\n            console.log(st2, dd2);\r\n          }\r\n        );\r\n\r\n        this.backendService.eventSubscribe(\r\n          Commands.quit_requested,\r\n          async () => {\r\n            if (this.onQuitRequest) {\r\n              return;\r\n            }\r\n\r\n            await this.ngZone.run(async () => {\r\n              await this.router.navigate(['/']);\r\n            });\r\n\r\n            this.dialog.closeAll();\r\n            this.needOpenWallets = [];\r\n            this.variablesService.daemon_state = 5;\r\n\r\n            const saveFunction = (): void => {\r\n              this.backendService.storeAppData((): void => {\r\n                const recursionCloseWallets = (): void => {\r\n                  if (this.variablesService.wallets.length > 0) {\r\n                    const lastIndex = this.variablesService.wallets.length - 1;\r\n                    this.backendService.closeWallet(\r\n                      this.variablesService.wallets[lastIndex].wallet_id,\r\n                      () => {\r\n                        this.variablesService.wallets.splice(lastIndex, 1);\r\n                        recursionCloseWallets();\r\n                      }\r\n                    );\r\n                  } else {\r\n                    this.ngZone.run(() => {\r\n                      this.backendService.quitRequest();\r\n                    });\r\n                  }\r\n                };\r\n                recursionCloseWallets();\r\n              });\r\n            };\r\n            if (this.variablesService.appPass) {\r\n              this.backendService.storeSecureAppData(saveFunction);\r\n            } else {\r\n              saveFunction();\r\n            }\r\n\r\n            this.onQuitRequest = true;\r\n          }\r\n        );\r\n\r\n        this.backendService.eventSubscribe(\r\n          Commands.update_wallet_status,\r\n          data => {\r\n            console.log(\r\n              '----------------- update_wallet_status -----------------'\r\n            );\r\n            console.log(data);\r\n\r\n            const wallet_state = data.wallet_state;\r\n            const is_mining = data.is_mining;\r\n            const wallet = this.variablesService.getWallet(data.wallet_id);\r\n            // 1-synch, 2-ready, 3 - error\r\n            if (wallet) {\r\n              this.ngZone.run(() => {\r\n                wallet.loaded = false;\r\n                wallet.staking = is_mining;\r\n                if (wallet_state === 2) {\r\n                  // ready\r\n                  wallet.loaded = true;\r\n                }\r\n                if (wallet_state === 3) {\r\n                  // error\r\n                  // wallet.error = true;\r\n                }\r\n                wallet.balances = data.balances;\r\n                wallet.mined_total = data.minied_total;\r\n                wallet.alias_available = data.is_alias_operations_available;\r\n              });\r\n            }\r\n          }\r\n        );\r\n\r\n        this.backendService.eventSubscribe(\r\n          Commands.wallet_sync_progress,\r\n          data => {\r\n            console.log(\r\n              '----------------- wallet_sync_progress -----------------'\r\n            );\r\n            console.log(data);\r\n            const wallet = this.variablesService.getWallet(data.wallet_id);\r\n            if (wallet) {\r\n              this.ngZone.run(() => {\r\n                wallet.progress =\r\n                  data.progress < 0\r\n                    ? 0\r\n                    : data.progress > 100\r\n                    ? 100\r\n                    : data.progress;\r\n                if (!this.variablesService.sync_started) {\r\n                  this.variablesService.sync_started = true;\r\n                }\r\n                this.addToStore(wallet, true); // subscribe on data\r\n                if (wallet.progress === 0) {\r\n                  wallet.loaded = false;\r\n                } else if (wallet.progress === 100) {\r\n                  wallet.loaded = true;\r\n                  this.addToStore(wallet, false);\r\n                  this.variablesService.sync_started = false;\r\n                }\r\n              });\r\n            }\r\n          }\r\n        );\r\n\r\n        this.backendService.eventSubscribe(\r\n          Commands.update_daemon_state,\r\n          data => {\r\n            console.log(\r\n              '----------------- update_daemon_state -----------------'\r\n            );\r\n            console.log('DAEMON:' + data.daemon_network_state);\r\n            console.log(data);\r\n            // this.variablesService.exp_med_ts = data['expiration_median_timestamp'] + 600 + 1;\r\n            this.variablesService.setExpMedTs(\r\n              data['expiration_median_timestamp'] + 600 + 1\r\n            );\r\n            this.variablesService.net_time_delta_median =\r\n              data.net_time_delta_median;\r\n            this.variablesService.last_build_available =\r\n              data.last_build_available;\r\n            this.variablesService.last_build_displaymode =\r\n              data.last_build_displaymode;\r\n            this.variablesService.setHeightApp(data.height);\r\n            this.variablesService.setHeightMax(data.max_net_seen_height);\r\n\r\n            this.variablesService.setDownloadedBytes(data.downloaded_bytes);\r\n            this.variablesService.setTotalBytes(data.download_total_data_size);\r\n\r\n            this.backendService.getContactAlias();\r\n            this.ngZone.run(() => {\r\n              this.variablesService.daemon_state = data['daemon_network_state'];\r\n              if (data['daemon_network_state'] === 1) {\r\n                const max =\r\n                  data['max_net_seen_height'] -\r\n                  data['synchronization_start_height'];\r\n                const current =\r\n                  data.height - data['synchronization_start_height'];\r\n                const return_val =\r\n                  Math.floor(((current * 100) / max) * 100) / 100;\r\n                if (max === 0 || return_val < 0) {\r\n                  this.variablesService.sync.progress_value = 0;\r\n                  this.variablesService.sync.progress_value_text = '0.00';\r\n                } else if (return_val >= 100) {\r\n                  this.variablesService.sync.progress_value = 100;\r\n                  this.variablesService.sync.progress_value_text = '99.99';\r\n                } else {\r\n                  this.variablesService.sync.progress_value = return_val;\r\n                  this.variablesService.sync.progress_value_text =\r\n                    return_val.toFixed(2);\r\n                }\r\n              }\r\n\r\n              if (data['daemon_network_state'] === 6) {\r\n                const max = data['download_total_data_size'];\r\n                const current = data['downloaded_bytes'];\r\n                const return_val = Math.floor((current / max) * 100);\r\n                if (max === 0 || return_val < 0) {\r\n                  this.variablesService.download.progress_value = 0;\r\n                  this.variablesService.download.progress_value_text = '0.00';\r\n                } else if (return_val >= 100) {\r\n                  this.variablesService.download.progress_value = 100;\r\n                  this.variablesService.download.progress_value_text = '99.99';\r\n                } else {\r\n                  this.variablesService.download.progress_value = return_val;\r\n                  this.variablesService.download.progress_value_text =\r\n                    return_val.toFixed(2);\r\n                }\r\n              }\r\n            });\r\n            if (!this.firstOnlineState && data['daemon_network_state'] === 2) {\r\n              this.getAliases();\r\n              this.backendService.getContactAlias();\r\n              this.backendService.getDefaultFee((status_fee, data_fee) => {\r\n                this.variablesService.default_fee_big = new BigNumber(data_fee);\r\n                this.variablesService.default_fee =\r\n                  this.intToMoneyPipe.transform(data_fee);\r\n              });\r\n              this.firstOnlineState = true;\r\n            }\r\n          }\r\n        );\r\n\r\n        this.backendService.eventSubscribe(Commands.money_transfer, data => {\r\n          console.log('----------------- money_transfer -----------------');\r\n          console.log(data);\r\n\r\n          if (!data.ti) {\r\n            return;\r\n          }\r\n\r\n          const wallet_id = data.wallet_id;\r\n          const tr_info = data.ti;\r\n\r\n          const wallet = this.variablesService.getWallet(wallet_id);\r\n          if (wallet) {\r\n            if (wallet.history.length > 40) {\r\n              wallet.history.splice(40, 1);\r\n            }\r\n            this.ngZone.run(() => {\r\n              wallet.balances = data.balances;\r\n\r\n              if (tr_info.tx_type === 6) {\r\n                this.variablesService.setRefreshStacking(wallet_id);\r\n              }\r\n\r\n              let tr_exists = wallet.excluded_history.some(\r\n                elem => elem.tx_hash === tr_info.tx_hash\r\n              );\r\n              tr_exists = !tr_exists\r\n                ? wallet.history.some(elem => elem.tx_hash === tr_info.tx_hash)\r\n                : tr_exists;\r\n\r\n              if (wallet.currentPage === 1) {\r\n                wallet.prepareHistory([tr_info]);\r\n                if (wallet.restore) {\r\n                  wallet.total_history_item = wallet.history.length;\r\n                  wallet.totalPages = Math.ceil(\r\n                    wallet.total_history_item / this.variablesService.count\r\n                  );\r\n                  wallet.totalPages > this.variablesService.maxPages\r\n                    ? (wallet.pages = new Array(5)\r\n                        .fill(1)\r\n                        .map((value, index) => value + index))\r\n                    : (wallet.pages = new Array(wallet.totalPages)\r\n                        .fill(1)\r\n                        .map((value, index) => value + index));\r\n                }\r\n              }\r\n\r\n              if (hasOwnProperty(tr_info, 'contract')) {\r\n                const exp_med_ts = this.variablesService.exp_med_ts;\r\n                const height_app = this.variablesService.height_app;\r\n                const contract = tr_info.contract[0];\r\n                if (tr_exists) {\r\n                  for (let i = 0; i < wallet.contracts.length; i++) {\r\n                    if (\r\n                      wallet.contracts[i].contract_id ===\r\n                        contract.contract_id &&\r\n                      wallet.contracts[i].is_a === contract.is_a\r\n                    ) {\r\n                      wallet.contracts[i].cancel_expiration_time =\r\n                        contract.cancel_expiration_time;\r\n                      wallet.contracts[i].expiration_time =\r\n                        contract.expiration_time;\r\n                      wallet.contracts[i].height = contract.height;\r\n                      wallet.contracts[i].timestamp = contract.timestamp;\r\n                      break;\r\n                    }\r\n                  }\r\n                  // $rootScope.getContractsRecount();\r\n                  return;\r\n                }\r\n\r\n                if (\r\n                  contract.state === 1 &&\r\n                  contract.expiration_time < exp_med_ts\r\n                ) {\r\n                  contract.state = 110;\r\n                } else if (\r\n                  contract.state === 5 &&\r\n                  contract.cancel_expiration_time < exp_med_ts\r\n                ) {\r\n                  contract.state = 130;\r\n                } else if (contract.state === 1) {\r\n                  const searchResult2 =\r\n                    this.variablesService.settings.notViewedContracts.find(\r\n                      elem =>\r\n                        elem.state === 110 &&\r\n                        elem.is_a === contract.is_a &&\r\n                        elem.contract_id === contract.contract_id\r\n                    );\r\n                  if (searchResult2) {\r\n                    if (searchResult2.time === contract.expiration_time) {\r\n                      contract.state = 110;\r\n                    } else {\r\n                      for (\r\n                        let j = 0;\r\n                        j <\r\n                        this.variablesService.settings.notViewedContracts\r\n                          .length;\r\n                        j++\r\n                      ) {\r\n                        if (\r\n                          this.variablesService.settings.notViewedContracts[j]\r\n                            .contract_id === contract.contract_id &&\r\n                          this.variablesService.settings.notViewedContracts[j]\r\n                            .is_a === contract.is_a\r\n                        ) {\r\n                          this.variablesService.settings.notViewedContracts.splice(\r\n                            j,\r\n                            1\r\n                          );\r\n                          break;\r\n                        }\r\n                      }\r\n                      for (\r\n                        let j = 0;\r\n                        j <\r\n                        this.variablesService.settings.viewedContracts.length;\r\n                        j++\r\n                      ) {\r\n                        if (\r\n                          this.variablesService.settings.viewedContracts[j]\r\n                            .contract_id === contract.contract_id &&\r\n                          this.variablesService.settings.viewedContracts[j]\r\n                            .is_a === contract.is_a\r\n                        ) {\r\n                          this.variablesService.settings.viewedContracts.splice(\r\n                            j,\r\n                            1\r\n                          );\r\n                          break;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (\r\n                  contract.state === 2 &&\r\n                  (contract.height === 0 || height_app - contract.height < 10)\r\n                ) {\r\n                  contract.state = 201;\r\n                } else if (contract.state === 2) {\r\n                  const searchResult3 =\r\n                    this.variablesService.settings.viewedContracts.some(\r\n                      elem =>\r\n                        elem.state === 120 &&\r\n                        elem.is_a === contract.is_a &&\r\n                        elem.contract_id === contract.contract_id\r\n                    );\r\n                  if (searchResult3) {\r\n                    contract.state = 120;\r\n                  }\r\n                } else if (contract.state === 5) {\r\n                  const searchResult4 =\r\n                    this.variablesService.settings.notViewedContracts.find(\r\n                      elem =>\r\n                        elem.state === 130 &&\r\n                        elem.is_a === contract.is_a &&\r\n                        elem.contract_id === contract.contract_id\r\n                    );\r\n                  if (searchResult4) {\r\n                    if (\r\n                      searchResult4.time === contract.cancel_expiration_time\r\n                    ) {\r\n                      contract.state = 130;\r\n                    } else {\r\n                      for (\r\n                        let j = 0;\r\n                        j <\r\n                        this.variablesService.settings.notViewedContracts\r\n                          .length;\r\n                        j++\r\n                      ) {\r\n                        if (\r\n                          this.variablesService.settings.notViewedContracts[j]\r\n                            .contract_id === contract.contract_id &&\r\n                          this.variablesService.settings.notViewedContracts[j]\r\n                            .is_a === contract.is_a\r\n                        ) {\r\n                          this.variablesService.settings.notViewedContracts.splice(\r\n                            j,\r\n                            1\r\n                          );\r\n                          break;\r\n                        }\r\n                      }\r\n                      for (\r\n                        let j = 0;\r\n                        j <\r\n                        this.variablesService.settings.viewedContracts.length;\r\n                        j++\r\n                      ) {\r\n                        if (\r\n                          this.variablesService.settings.viewedContracts[j]\r\n                            .contract_id === contract.contract_id &&\r\n                          this.variablesService.settings.viewedContracts[j]\r\n                            .is_a === contract.is_a\r\n                        ) {\r\n                          this.variablesService.settings.viewedContracts.splice(\r\n                            j,\r\n                            1\r\n                          );\r\n                          break;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (\r\n                  contract.state === 6 &&\r\n                  (contract.height === 0 || height_app - contract.height < 10)\r\n                ) {\r\n                  contract.state = 601;\r\n                }\r\n\r\n                const searchResult =\r\n                  this.variablesService.settings.viewedContracts.some(\r\n                    elem =>\r\n                      elem.state === contract.state &&\r\n                      elem.is_a === contract.is_a &&\r\n                      elem.contract_id === contract.contract_id\r\n                  );\r\n                contract.is_new = !searchResult;\r\n\r\n                let findContract = false;\r\n                for (let i = 0; i < wallet.contracts.length; i++) {\r\n                  if (\r\n                    wallet.contracts[i].contract_id === contract.contract_id &&\r\n                    wallet.contracts[i].is_a === contract.is_a\r\n                  ) {\r\n                    for (const prop in contract) {\r\n                      if (hasOwnProperty(contract, prop)) {\r\n                        wallet.contracts[i][prop] = contract[prop];\r\n                      }\r\n                    }\r\n                    findContract = true;\r\n                    break;\r\n                  }\r\n                }\r\n                if (findContract === false) {\r\n                  wallet.contracts.push(contract);\r\n                }\r\n                wallet.recountNewContracts();\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        this.backendService.backendObject[\r\n          Commands.handle_deeplink_click\r\n        ].connect(data => {\r\n          console.log(\r\n            '----------------- handle_deeplink_click -----------------'\r\n          );\r\n          console.log(data);\r\n          this.ngZone.run(() => {\r\n            if (data) {\r\n              this.variablesService.deeplink$.next(data);\r\n            }\r\n          });\r\n        });\r\n\r\n        this.backendService.eventSubscribe(\r\n          Commands.money_transfer_cancel,\r\n          data => {\r\n            console.log(\r\n              '----------------- money_transfer_cancel -----------------'\r\n            );\r\n            console.log(data);\r\n\r\n            if (!data.ti) {\r\n              return;\r\n            }\r\n\r\n            const wallet_id = data.wallet_id;\r\n            const tr_info = data.ti;\r\n            const wallet = this.variablesService.getWallet(wallet_id);\r\n\r\n            if (wallet) {\r\n              if (hasOwnProperty(tr_info, 'contract')) {\r\n                for (let i = 0; i < wallet.contracts.length; i++) {\r\n                  if (\r\n                    wallet.contracts[i].contract_id ===\r\n                      tr_info.contract[0].contract_id &&\r\n                    wallet.contracts[i].is_a === tr_info.contract[0].is_a\r\n                  ) {\r\n                    if (\r\n                      wallet.contracts[i].state === 1 ||\r\n                      wallet.contracts[i].state === 110\r\n                    ) {\r\n                      wallet.contracts[i].is_new = true;\r\n                      wallet.contracts[i].state = 140;\r\n                      wallet.recountNewContracts();\r\n                    }\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n\r\n              wallet.removeFromHistory(tr_info.tx_hash);\r\n\r\n              let error_tr = '';\r\n              switch (tr_info.tx_type) {\r\n                case 0:\r\n                  error_tr =\r\n                    this.translate.instant('ERRORS.TX_TYPE_NORMAL') +\r\n                    '<br>' +\r\n                    tr_info.tx_hash +\r\n                    '<br>' +\r\n                    wallet.name +\r\n                    '<br>' +\r\n                    wallet.address +\r\n                    '<br>' +\r\n                    this.translate.instant('ERRORS.TX_TYPE_NORMAL_TO') +\r\n                    ' ' +\r\n                    this.intToMoneyPipe.transform(tr_info.amount) +\r\n                    ' ' +\r\n                    this.translate.instant('ERRORS.TX_TYPE_NORMAL_END');\r\n                  break;\r\n                case 1:\r\n                  // this.translate.instant('ERRORS.TX_TYPE_PUSH_OFFER');\r\n                  break;\r\n                case 2:\r\n                  // this.translate.instant('ERRORS.TX_TYPE_UPDATE_OFFER');\r\n                  break;\r\n                case 3:\r\n                  // this.translate.instant('ERRORS.TX_TYPE_CANCEL_OFFER');\r\n                  break;\r\n                case 4:\r\n                  error_tr =\r\n                    this.translate.instant('ERRORS.TX_TYPE_NEW_ALIAS') +\r\n                    '<br>' +\r\n                    tr_info.tx_hash +\r\n                    '<br>' +\r\n                    wallet.name +\r\n                    '<br>' +\r\n                    wallet.address +\r\n                    '<br>' +\r\n                    this.translate.instant('ERRORS.TX_TYPE_NEW_ALIAS_END');\r\n                  break;\r\n                case 5:\r\n                  error_tr =\r\n                    this.translate.instant('ERRORS.TX_TYPE_UPDATE_ALIAS') +\r\n                    '<br>' +\r\n                    tr_info.tx_hash +\r\n                    '<br>' +\r\n                    wallet.name +\r\n                    '<br>' +\r\n                    wallet.address +\r\n                    '<br>' +\r\n                    this.translate.instant('ERRORS.TX_TYPE_NEW_ALIAS_END');\r\n                  break;\r\n                case 6:\r\n                  error_tr = this.translate.instant('ERRORS.TX_TYPE_COIN_BASE');\r\n                  break;\r\n              }\r\n              if (error_tr) {\r\n                this.modalService.prepareModal('error', error_tr);\r\n              }\r\n            }\r\n          }\r\n        );\r\n\r\n        this.backendService.eventSubscribe(Commands.on_core_event, data => {\r\n          console.log('----------------- on_core_event -----------------');\r\n          console.log(data);\r\n\r\n          data = JSON.parse(data);\r\n\r\n          if (data.events != null) {\r\n            for (let i = 0, length = data.events.length; i < length; i++) {\r\n              switch (data.events[i].method) {\r\n                case 'CORE_EVENT_BLOCK_ADDED':\r\n                  break;\r\n                case 'CORE_EVENT_ADD_ALIAS':\r\n                  if (\r\n                    this.variablesService.aliasesChecked[\r\n                      data.events[i].details.address\r\n                    ] != null\r\n                  ) {\r\n                    this.variablesService.aliasesChecked[\r\n                      data.events[i].details.address\r\n                    ]['name'] = '@' + data.events[i].details.alias;\r\n                    this.variablesService.aliasesChecked[\r\n                      data.events[i].details.address\r\n                    ]['address'] = data.events[i].details.address;\r\n                    this.variablesService.aliasesChecked[\r\n                      data.events[i].details.address\r\n                    ]['comment'] = data.events[i].details.comment;\r\n                  }\r\n                  if (this.variablesService.enableAliasSearch) {\r\n                    const newAlias = {\r\n                      name: '@' + data.events[i].details.alias,\r\n                      address: data.events[i].details.address,\r\n                      comment: data.events[i].details.comment,\r\n                    };\r\n                    this.variablesService.aliases =\r\n                      this.variablesService.aliases.concat(newAlias);\r\n                    this.variablesService.changeAliases();\r\n                  }\r\n                  break;\r\n                case 'CORE_EVENT_UPDATE_ALIAS':\r\n                  for (const address in this.variablesService.aliasesChecked) {\r\n                    if (\r\n                      hasOwnProperty(\r\n                        this.variablesService.aliasesChecked,\r\n                        address\r\n                      )\r\n                    ) {\r\n                      if (\r\n                        this.variablesService.aliasesChecked[address].name ===\r\n                        '@' + data.events[i].details.alias\r\n                      ) {\r\n                        if (\r\n                          this.variablesService.aliasesChecked[address]\r\n                            .address !== data.events[i].details.details.address\r\n                        ) {\r\n                          delete this.variablesService.aliasesChecked[address][\r\n                            'name'\r\n                          ];\r\n                          delete this.variablesService.aliasesChecked[address][\r\n                            'address'\r\n                          ];\r\n                          delete this.variablesService.aliasesChecked[address][\r\n                            'comment'\r\n                          ];\r\n                        } else {\r\n                          this.variablesService.aliasesChecked[\r\n                            address\r\n                          ].comment = data.events[i].details.details.comment;\r\n                        }\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n                  if (\r\n                    this.variablesService.aliasesChecked[\r\n                      data.events[i].details.details.address\r\n                    ] != null\r\n                  ) {\r\n                    this.variablesService.aliasesChecked[\r\n                      data.events[i].details.details.address\r\n                    ]['name'] = '@' + data.events[i].details.alias;\r\n                    this.variablesService.aliasesChecked[\r\n                      data.events[i].details.details.address\r\n                    ]['address'] = data.events[i].details.details.address;\r\n                    this.variablesService.aliasesChecked[\r\n                      data.events[i].details.details.address\r\n                    ]['comment'] = data.events[i].details.details.comment;\r\n                  }\r\n                  if (this.variablesService.enableAliasSearch) {\r\n                    const CurrentAlias = this.variablesService.aliases.find(\r\n                      element =>\r\n                        element.name === '@' + data.events[i].details.alias\r\n                    );\r\n                    if (CurrentAlias) {\r\n                      CurrentAlias.address =\r\n                        data.events[i].details.details.address;\r\n                      CurrentAlias.comment =\r\n                        data.events[i].details.details.comment;\r\n                    }\r\n                  }\r\n                  this.variablesService.changeAliases();\r\n                  break;\r\n                default:\r\n                  break;\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        this.intervalUpdateContractsState = setInterval(() => {\r\n          this.variablesService.wallets.forEach(wallet => {\r\n            wallet.contracts.forEach(contract => {\r\n              if (\r\n                contract.state === 201 &&\r\n                contract.height !== 0 &&\r\n                this.variablesService.height_app - contract.height >= 10\r\n              ) {\r\n                contract.state = 2;\r\n                contract.is_new = true;\r\n                console.warn('need check state in contracts');\r\n              } else if (\r\n                contract.state === 601 &&\r\n                contract.height !== 0 &&\r\n                this.variablesService.height_app - contract.height >= 10\r\n              ) {\r\n                contract.state = 6;\r\n                contract.is_new = true;\r\n              }\r\n            });\r\n          });\r\n        }, 30000);\r\n\r\n        this.expMedTsEvent = this.variablesService.getExpMedTsEvent.subscribe({\r\n          next: (newTimestamp: number) => {\r\n            this.variablesService.wallets.forEach(wallet => {\r\n              wallet.contracts.forEach(contract => {\r\n                if (\r\n                  contract.state === 1 &&\r\n                  contract.expiration_time <= newTimestamp\r\n                ) {\r\n                  contract.state = 110;\r\n                  contract.is_new = true;\r\n                  wallet.recountNewContracts();\r\n                } else if (\r\n                  contract.state === 5 &&\r\n                  contract.cancel_expiration_time <= newTimestamp\r\n                ) {\r\n                  contract.state = 130;\r\n                  contract.is_new = true;\r\n                  wallet.recountNewContracts();\r\n                }\r\n              });\r\n            });\r\n          },\r\n        });\r\n\r\n        this.backendService.getAppData((status, data) => {\r\n          if (data && Object.keys(data).length > 0) {\r\n            for (const key in data) {\r\n              if (\r\n                hasOwnProperty(data, key) &&\r\n                hasOwnProperty(this.variablesService.settings, key)\r\n              ) {\r\n                this.variablesService.settings[key] = data[key];\r\n              }\r\n            }\r\n            if (\r\n              hasOwnProperty(this.variablesService.settings, 'scale') &&\r\n              ['8px', '10px', '12px', '14px'].indexOf(\r\n                this.variablesService.settings.scale\r\n              ) !== -1\r\n            ) {\r\n              this.renderer.setStyle(\r\n                document.documentElement,\r\n                'font-size',\r\n                this.variablesService.settings.scale\r\n              );\r\n            } else {\r\n              this.variablesService.settings.scale = '10px';\r\n              this.renderer.setStyle(\r\n                document.documentElement,\r\n                'font-size',\r\n                this.variablesService.settings.scale\r\n              );\r\n            }\r\n          }\r\n          this.translate.use(this.variablesService.settings.language);\r\n          this.setBackendLocalization();\r\n\r\n          this.backendService.setLogLevel(\r\n            this.variablesService.settings.appLog\r\n          );\r\n          this.backendService.setEnableTor(\r\n            this.variablesService.settings.appUseTor\r\n          );\r\n\r\n          if (\r\n            !this.variablesService.settings.wallets ||\r\n            this.variablesService.settings.wallets.length === 0\r\n          ) {\r\n            return this.router\r\n              .navigate([`${paths.auth}/${pathsChildrenAuth.noWallet}`])\r\n              .then();\r\n          }\r\n\r\n          if (this.router.url !== '/login') {\r\n            this.backendService.haveSecureAppData(statusPass => {\r\n              if (statusPass) {\r\n                this.ngZone.run(() => {\r\n                  this.router.navigate(['/login'], {\r\n                    queryParams: { type: 'auth' },\r\n                  });\r\n                });\r\n              } else {\r\n                if (Object.keys(data).length !== 0) {\r\n                  this.needOpenWallets = JSON.parse(\r\n                    JSON.stringify(this.variablesService.settings.wallets)\r\n                  );\r\n                  this.ngZone.run(() => {\r\n                    this.variablesService.appLogin = true;\r\n                    this.router.navigate(['/']);\r\n                  });\r\n                } else {\r\n                  this.ngZone.run(() => {\r\n                    this.router.navigate(['/login'], {\r\n                      queryParams: { type: 'reg' },\r\n                    });\r\n                  });\r\n                }\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        this.backendService.dispatchAsyncCallResult();\r\n\r\n        this.backendService.handleCurrentActionState();\r\n      },\r\n      error: error => {\r\n        console.log(error);\r\n      },\r\n    });\r\n\r\n    this.variablesService.disable_price_fetch$\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: disable_price_fetch => {\r\n          if (!disable_price_fetch) {\r\n            this.updateMoneyEquivalent();\r\n            this.intervalUpdatePriceState = setInterval(() => {\r\n              this.updateMoneyEquivalent();\r\n            }, 30000);\r\n          } else {\r\n            if (this.intervalUpdatePriceState) {\r\n              clearInterval(this.intervalUpdatePriceState);\r\n            }\r\n          }\r\n        },\r\n      });\r\n\r\n    this.assetsFacade.loadWhitelist();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    if (this.intervalUpdateContractsState) {\r\n      clearInterval(this.intervalUpdateContractsState);\r\n    }\r\n    if (this.intervalUpdatePriceState) {\r\n      clearInterval(this.intervalUpdatePriceState);\r\n    }\r\n    this.expMedTsEvent.unsubscribe();\r\n  }\r\n\r\n  updateMoneyEquivalent(): void {\r\n    this.http\r\n      .get('https://api.coingecko.com/api/v3/ping')\r\n      .pipe(take(1))\r\n      .subscribe({\r\n        next: () => {\r\n          this.http\r\n            .get(\r\n              'https://api.coingecko.com/api/v3/simple/price?ids=zano&vs_currencies=usd&include_24hr_change=true'\r\n            )\r\n            .pipe(take(1))\r\n            .subscribe({\r\n              next: data => {\r\n                this.variablesService.moneyEquivalent = data['zano']['usd'];\r\n                this.variablesService.moneyEquivalentPercent =\r\n                  data['zano']['usd_24h_change'];\r\n              },\r\n              error: error => {\r\n                console.warn('api.coingecko.com price error: ', error);\r\n              },\r\n            });\r\n        },\r\n        error: error => {\r\n          console.warn('api.coingecko.com error: ', error);\r\n          setTimeout(() => {\r\n            this.updateMoneyEquivalent();\r\n          }, 30000);\r\n        },\r\n      });\r\n  }\r\n\r\n  getAliases(): void {\r\n    this.backendService.getAllAliases((status, data, error) => {\r\n      console.warn(error);\r\n\r\n      if (error === 'CORE_BUSY') {\r\n        window.setTimeout(() => {\r\n          this.getAliases();\r\n        }, 10000);\r\n      } else if (error === 'OVERFLOW') {\r\n        this.variablesService.aliases = [];\r\n        this.variablesService.enableAliasSearch = false;\r\n        this.variablesService.wallets.forEach(wallet => {\r\n          wallet.alias = this.backendService.getWalletAlias(wallet.address);\r\n        });\r\n      } else {\r\n        this.variablesService.enableAliasSearch = true;\r\n        if (data.aliases && data.aliases.length) {\r\n          this.variablesService.aliases = [];\r\n          data.aliases.forEach(alias => {\r\n            const newAlias = {\r\n              name: '@' + alias.alias,\r\n              address: alias.address,\r\n              comment: alias.comment,\r\n            };\r\n            this.variablesService.aliases.push(newAlias);\r\n          });\r\n          this.variablesService.wallets.forEach(wallet => {\r\n            wallet.alias = this.backendService.getWalletAlias(wallet.address);\r\n          });\r\n          this.variablesService.aliases = this.variablesService.aliases.sort(\r\n            (a, b) => {\r\n              if (a.name.length > b.name.length) {\r\n                return 1;\r\n              }\r\n              if (a.name.length < b.name.length) {\r\n                return -1;\r\n              }\r\n              if (a.name > b.name) {\r\n                return 1;\r\n              }\r\n              if (a.name < b.name) {\r\n                return -1;\r\n              }\r\n              return 0;\r\n            }\r\n          );\r\n          this.variablesService.changeAliases();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  addToStore(wallet, boolean): void {\r\n    const value = this.store.state.sync;\r\n    if (value && value.length > 0) {\r\n      const sync = value.filter(item => item.wallet_id === wallet.wallet_id);\r\n      if (sync && sync.length > 0) {\r\n        const result = value.map(item => {\r\n          if (item.wallet_id === wallet.wallet_id) {\r\n            return { sync: boolean, wallet_id: wallet.wallet_id };\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        this.store.set(StateKeys.sync, result);\r\n      } else {\r\n        value.push({ sync: boolean, wallet_id: wallet.wallet_id });\r\n        this.store.set(StateKeys.sync, value);\r\n      }\r\n    } else {\r\n      this.store.set(StateKeys.sync, [\r\n        { sync: boolean, wallet_id: wallet.wallet_id },\r\n      ]);\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { PagesModule } from './pages/pages.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport {\r\n  TranslateLoader,\r\n  TranslateModule,\r\n  TranslateModuleConfig,\r\n} from '@ngx-translate/core';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { ChartModule, HIGHCHARTS_MODULES } from 'angular-highcharts';\r\nimport * as highcharts from 'highcharts';\r\nimport exporting from 'highcharts/modules/exporting.src';\r\nimport { MoneyToIntPipeModule } from '@parts/pipes';\r\nimport { OpenWalletModalComponent } from '@parts/modals/open-wallet-modal/open-wallet-modal.component';\r\nimport { FlexModule } from '@angular/flex-layout';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RegisterContextTemplatesComponent } from '@parts/components/register-context-templates.component';\r\n\r\nexport function highchartsFactory(): any[] {\r\n  highcharts.setOptions({\r\n    time: {\r\n      useUTC: false,\r\n    },\r\n  });\r\n\r\n  return [exporting];\r\n}\r\n\r\nexport const provideHighchartsFactory = {\r\n  provide: HIGHCHARTS_MODULES,\r\n  useFactory: highchartsFactory,\r\n};\r\n\r\nexport function HttpLoaderFactory(httpClient: HttpClient): TranslateHttpLoader {\r\n  return new TranslateHttpLoader(httpClient, './assets/i18n/', '.json');\r\n}\r\n\r\nexport const translateModuleConfig: TranslateModuleConfig = {\r\n  loader: {\r\n    provide: TranslateLoader,\r\n    useFactory: HttpLoaderFactory,\r\n    deps: [HttpClient],\r\n  },\r\n};\r\n\r\n@NgModule({\r\n  declarations: [AppComponent, OpenWalletModalComponent],\r\n  imports: [\r\n    CommonModule,\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    TranslateModule.forRoot(translateModuleConfig),\r\n    AppRoutingModule,\r\n    PagesModule,\r\n    ChartModule,\r\n    MoneyToIntPipeModule,\r\n    FlexModule,\r\n    FormsModule,\r\n    RegisterContextTemplatesComponent,\r\n  ],\r\n  providers: [provideHighchartsFactory],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-full-layout',\r\n  template: `\r\n    <div class=\"overflow-auto p-2\" fxFlex=\"100\" fxFlexFill>\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class FullLayoutComponent {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FullLayoutComponent } from './full-layout.component';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { RouterOutlet } from '@angular/router';\r\n\r\n@NgModule({\r\n  declarations: [FullLayoutComponent],\r\n  imports: [CommonModule, RouterOutlet, FlexLayoutModule],\r\n  exports: [FullLayoutComponent],\r\n})\r\nexport class FullLayoutModule {}\r\n","import { Component, NgZone, OnDestroy } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IntToMoneyPipe } from '@parts/pipes/int-to-money-pipe/int-to-money.pipe';\r\nimport { Dialog, DialogConfig } from '@angular/cdk/dialog';\r\nimport {\r\n  ConfirmModalComponent,\r\n  ConfirmModalData,\r\n} from '@parts/modals/confirm-modal/confirm-modal.component';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { WalletsService } from '@parts/services/wallets.service';\r\n\r\n@Component({\r\n  selector: 'app-sidebar',\r\n  template: `\r\n    <div class=\"sidebar-header mb-2\">\r\n      <div class=\"logo\">\r\n        <img alt=\"zano-logo\" src=\"assets/icons/blue/zano-logo.svg\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"sidebar-content\">\r\n      <div\r\n        (cdkDropListDropped)=\"drop($event)\"\r\n        cdkDropList\r\n        cdkDropListLockAxis=\"y\"\r\n        class=\"sidebar-content-list scrolled-content mb-1\"\r\n      >\r\n        <app-wallet-card\r\n          *ngFor=\"let wallet of variablesService.wallets\"\r\n          [cdkDragData]=\"wallet\"\r\n          [ngClass]=\"{\r\n            active:\r\n              wallet?.wallet_id === variablesService?.currentWallet?.wallet_id,\r\n            auditable: wallet.is_auditable && !wallet.is_watch_only,\r\n            'watch-only': wallet.is_watch_only\r\n          }\"\r\n          [wallet]=\"wallet\"\r\n          (click)=\"selectWallet(wallet.wallet_id)\"\r\n          (eventClose)=\"beforeClose($event)\"\r\n          cdkDrag\r\n        ></app-wallet-card>\r\n      </div>\r\n\r\n      <div class=\"sidebar-nav scrolled-content\">\r\n        <ng-container *ngIf=\"stateVisibleUiKit\">\r\n          <button\r\n            [routerLink]=\"['/ui-kit']\"\r\n            class=\"outline small w-100 mb-1 px-2\"\r\n            fxLayout=\"row inline wrap\"\r\n            fxLayoutAlign=\"start center\"\r\n            routerLinkActive=\"active\"\r\n          >\r\n            <span>ui-kit</span>\r\n          </button>\r\n        </ng-container>\r\n\r\n        <button\r\n          (click)=\"goMainPage()\"\r\n          class=\"outline small w-100 mb-1 px-2\"\r\n          fxLayout=\"row inline wrap\"\r\n          fxLayoutAlign=\"start center\"\r\n        >\r\n          <i class=\"icon plus mr-1\"></i>\r\n          <span>{{ 'SIDEBAR.ADD_NEW' | translate }}</span>\r\n        </button>\r\n\r\n        <button\r\n          [routerLink]=\"['/settings']\"\r\n          class=\"outline small w-100 mb-1 px-2\"\r\n          fxLayout=\"row inline wrap\"\r\n          fxLayoutAlign=\"start center\"\r\n          routerLinkActive=\"active\"\r\n        >\r\n          <i class=\"icon settings mr-1\"></i>\r\n          <span>{{ 'SIDEBAR.SETTINGS' | translate }}</span>\r\n        </button>\r\n\r\n        <ng-container *ngIf=\"variablesService.appPass === ''; else masterPass\">\r\n          <button\r\n            (click)=\"logOut()\"\r\n            [delay]=\"500\"\r\n            [disabled]=\"variablesService.appPass === ''\"\r\n            [timeDelay]=\"500\"\r\n            class=\"outline small w-100 px-2\"\r\n            fxLayout=\"row inline wrap\"\r\n            fxLayoutAlign=\"start center\"\r\n            placement=\"bottom\"\r\n            tooltip=\"{{ 'SIDEBAR.LOG_OUT_TOOLTIP' | translate }}\"\r\n            tooltipClass=\"table-tooltip account-tooltip\"\r\n          >\r\n            <i class=\"icon logout mr-1\"></i>\r\n            <span>{{ 'SIDEBAR.LOG_OUT' | translate }}</span>\r\n          </button>\r\n        </ng-container>\r\n\r\n        <ng-template #masterPass>\r\n          <button\r\n            (click)=\"logOut()\"\r\n            class=\"outline small w-100 px-2\"\r\n            fxLayout=\"row inline wrap\"\r\n            fxLayoutAlign=\"start center\"\r\n          >\r\n            <i class=\"icon logout mr-1\"></i>\r\n            <span> {{ 'SIDEBAR.LOG_OUT' | translate }}</span>\r\n          </button>\r\n        </ng-template>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"sidebar-footer\">\r\n      <app-synchronization-status></app-synchronization-status>\r\n    </div>\r\n\r\n    <app-deeplink></app-deeplink>\r\n  `,\r\n  styles: [],\r\n})\r\nexport class SidebarComponent implements OnDestroy {\r\n  stateVisibleUiKit = false;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private walletsService: WalletsService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modal: ModalService,\r\n    private translate: TranslateService,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private ngZone: NgZone,\r\n    private dialog: Dialog\r\n  ) {}\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  goMainPage(): void {\r\n    if (\r\n      this.route.snapshot.queryParams &&\r\n      this.route.snapshot.queryParams.prevUrl === 'login'\r\n    ) {\r\n      this.ngZone.run(() => {\r\n        this.router.navigate(['/'], { queryParams: { prevUrl: 'login' } });\r\n      });\r\n    } else {\r\n      this.ngZone.run(() => {\r\n        this.router.navigate(['/']);\r\n      });\r\n    }\r\n  }\r\n\r\n  selectWallet(id: number): void {\r\n    this.ngZone.run(() => {\r\n      this.variablesService.setCurrentWallet(id);\r\n      this.router.navigate(['/wallet/assets']);\r\n    });\r\n  }\r\n\r\n  drop(event: CdkDragDrop<Wallet[]>): void {\r\n    moveItemInArray(\r\n      this.variablesService.wallets,\r\n      event.previousIndex,\r\n      event.currentIndex\r\n    );\r\n  }\r\n\r\n  beforeClose(wallet_id): void {\r\n    const dialogConfig: DialogConfig<ConfirmModalData> = {\r\n      data: {\r\n        title: 'WALLET.CONFIRM.MESSAGE',\r\n        message: 'WALLET.CONFIRM.TITLE',\r\n      },\r\n    };\r\n\r\n    this.dialog\r\n      .open<boolean>(ConfirmModalComponent, dialogConfig)\r\n      .closed.pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: confirmed => confirmed && this.closeWallet(wallet_id),\r\n      });\r\n  }\r\n\r\n  closeWallet(wallet_id): void {\r\n    this.walletsService.closeWallet(wallet_id);\r\n  }\r\n\r\n  logOut(): void {\r\n    this.variablesService.stopCountdown();\r\n    this.variablesService.appLogin = false;\r\n    this.variablesService.appPass = '';\r\n    this.ngZone.run(() => {\r\n      this.router.navigate(['/login'], { queryParams: { type: 'auth' } });\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SidebarComponent } from './sidebar.component';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { DisablePriceFetchModule, TooltipModule } from '@parts/directives';\r\nimport { ConfirmModalModule } from '@parts/modals/confirm-modal/confirm-modal.module';\r\nimport { DeeplinkModule } from '../../pages/deeplink/deeplink.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { IntToMoneyPipeModule } from '@parts/pipes';\r\nimport { StakingSwitchComponent } from '@parts/components/staking-switch.component';\r\nimport { SynchronizationStatusComponent } from '@parts/components/synchronization-status.component';\r\nimport { WalletCardComponent } from '@parts/components/wallet-card.component';\r\n\r\n@NgModule({\r\n  declarations: [SidebarComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    DragDropModule,\r\n    TooltipModule,\r\n    TranslateModule,\r\n    DisablePriceFetchModule,\r\n    ConfirmModalModule,\r\n    SynchronizationStatusComponent,\r\n    DeeplinkModule,\r\n    StakingSwitchComponent,\r\n    FlexLayoutModule,\r\n    IntToMoneyPipeModule,\r\n    WalletCardComponent,\r\n  ],\r\n  exports: [SidebarComponent],\r\n})\r\nexport class SidebarModule {}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-with-sidebar-layout',\r\n  template: `\r\n    <app-sidebar></app-sidebar>\r\n\r\n    <div class=\"overflow-auto p-2\" fxFlex=\"100\">\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n\r\n        display: flex;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class WithSidebarLayoutComponent {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WithSidebarLayoutComponent } from './with-sidebar-layout.component';\r\nimport { SidebarModule } from '../sidebar/sidebar.module';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { RouterOutlet } from '@angular/router';\r\n\r\n@NgModule({\r\n  declarations: [WithSidebarLayoutComponent],\r\n  imports: [CommonModule, RouterOutlet, FlexLayoutModule, SidebarModule],\r\n  exports: [WithSidebarLayoutComponent],\r\n})\r\nexport class WithSidebarLayoutModule {}\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CREATE_NEW_WALLET_HELP_PAGE } from '@parts/data/constants';\r\n\r\n@Component({\r\n  selector: 'app-add-wallet',\r\n  template: `\r\n    <div class=\"page-container\">\r\n      <div class=\"toolbar mb-2\">\r\n        <div class=\"left\">\r\n          <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n            <i class=\"icon dropdown-arrow-left\"></i>\r\n          </button>\r\n          <h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n        </div>\r\n        <div class=\"right\"></div>\r\n      </div>\r\n\r\n      <div class=\"page-content\">\r\n        <div\r\n          class=\"scrolled-content\"\r\n          fxFlex=\"1 1 auto\"\r\n          fxLayout=\"column\"\r\n          fxLayoutAlign=\"center center\"\r\n        >\r\n          <div\r\n            class=\"add-wallet w-100\"\r\n            fxLayout=\"row\"\r\n            fxLayoutAlign=\"center center\"\r\n          >\r\n            <div class=\"wrap-controls text-align-center max-w-38-rem\">\r\n              <h4 class=\"mb-2\">{{ 'MAIN.TITLE' | translate }}</h4>\r\n\r\n              <button\r\n                [routerLink]=\"['/create']\"\r\n                class=\"primary big w-100 mb-1\"\r\n                type=\"button\"\r\n              >\r\n                {{ 'MAIN.BUTTON_NEW_WALLET' | translate }}\r\n              </button>\r\n\r\n              <button\r\n                (click)=\"openWallet()\"\r\n                class=\"primary big w-100 mb-1\"\r\n                type=\"button\"\r\n              >\r\n                {{ 'MAIN.BUTTON_OPEN_WALLET' | translate }}\r\n              </button>\r\n\r\n              <button\r\n                [routerLink]=\"['/restore']\"\r\n                class=\"outline big w-100 mb-2\"\r\n                type=\"button\"\r\n              >\r\n                {{ 'MAIN.BUTTON_RESTORE_BACKUP' | translate }}\r\n              </button>\r\n\r\n              <p\r\n                (click)=\"openInBrowser()\"\r\n                class=\"text-align-center cursor-pointer\"\r\n                fxLayout=\"row\"\r\n                fxLayoutAlign=\"center center\"\r\n              >\r\n                <i class=\"icon question-circle mr-1\"></i>\r\n                <span class=\"color-primary\">{{ 'MAIN.HELP' | translate }}</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class AddWalletComponent {\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backendService: BackendService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  openWallet(): void {\r\n    this.backendService.openFileDialog(\r\n      this.translate.instant('MAIN.CHOOSE_PATH'),\r\n      '*',\r\n      this.variablesService.settings.default_path,\r\n      async (file_status, file_data) => {\r\n        if (file_status) {\r\n          this.variablesService.settings.default_path = file_data.path.substr(\r\n            0,\r\n            file_data.path.lastIndexOf('/')\r\n          );\r\n          await this.ngZone.run(async () => {\r\n            await this.router.navigate(['/open'], {\r\n              queryParams: { path: file_data.path },\r\n            });\r\n          });\r\n        } else {\r\n          console.error(file_data['error_code']);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  openInBrowser(): void {\r\n    this.backendService.openUrlInBrowser(CREATE_NEW_WALLET_HELP_PAGE);\r\n  }\r\n}\r\n","import { Component, inject, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { MoneyToIntPipe } from '@parts/pipes/money-to-int-pipe/money-to-int.pipe';\r\nimport { IntToMoneyPipe } from '@parts/pipes/int-to-money-pipe/int-to-money.pipe';\r\nimport BigNumber from 'bignumber.js';\r\nimport { Subject } from 'rxjs';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { regExpAliasName } from '@parts/utils/zano-validators';\r\n\r\n@Component({\r\n  selector: 'app-assign-alias',\r\n  template: `\r\n    <div class=\"page-container\">\r\n      <div class=\"toolbar mb-2\">\r\n        <div class=\"left\">\r\n          <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n            <i class=\"icon dropdown-arrow-left\"></i>\r\n          </button>\r\n          <h1>{{ 'BREADCRUMBS.ASSIGN_ALIAS' | translate }}</h1>\r\n        </div>\r\n        <div class=\"right\"></div>\r\n      </div>\r\n\r\n      <div class=\"page-content\">\r\n        <div class=\"breadcrumbs mb-2\">\r\n          <div class=\"breadcrumb\">\r\n            <a [routerLink]=\"['/wallet/history']\">{{ wallet.name }}</a>\r\n          </div>\r\n          <div class=\"breadcrumb\">\r\n            <span>{{ 'BREADCRUMBS.ASSIGN_ALIAS' | translate }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"scrolled-content\">\r\n          <form [formGroup]=\"assignForm\" class=\"form\">\r\n            <div class=\"form__field\">\r\n              <label\r\n                [delay]=\"50\"\r\n                for=\"alias-name\"\r\n                placement=\"bottom-left\"\r\n                tooltip=\"{{ 'ASSIGN_ALIAS.NAME.TOOLTIP' | translate }}\"\r\n                tooltipClass=\"table-tooltip assign-alias-tooltip\"\r\n              >\r\n                {{ 'ASSIGN_ALIAS.NAME.LABEL' | translate }}\r\n              </label>\r\n              <div class=\"has-no-edit-symbol\">\r\n                <input\r\n                  (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                  [placeholder]=\"'ASSIGN_ALIAS.NAME.PLACEHOLDER' | translate\"\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"name\"\r\n                  id=\"alias-name\"\r\n                  type=\"text\"\r\n                />\r\n              </div>\r\n              <div\r\n                *ngIf=\"\r\n                  assignForm.controls['name'].invalid &&\r\n                  (assignForm.controls['name'].dirty ||\r\n                    assignForm.controls['name'].touched)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div\r\n                  *ngIf=\"\r\n                    assignForm.controls['name'].errors['pattern'] &&\r\n                    assignForm.get('name').value.length > 6 &&\r\n                    assignForm.get('name').value.length <= 25\r\n                  \"\r\n                >\r\n                  {{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_WRONG' | translate }}\r\n                </div>\r\n                <div\r\n                  *ngIf=\"\r\n                    assignForm.get('name').value.length <= 6 ||\r\n                    assignForm.get('name').value.length > 25\r\n                  \"\r\n                >\r\n                  {{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_LENGTH' | translate }}\r\n                </div>\r\n                <div *ngIf=\"assignForm.controls['name'].hasError('required')\">\r\n                  {{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n                </div>\r\n              </div>\r\n              <div *ngIf=\"alias.exists\" class=\"error\">\r\n                <div>\r\n                  {{ 'ASSIGN_ALIAS.FORM_ERRORS.NAME_EXISTS' | translate }}\r\n                </div>\r\n              </div>\r\n              <div *ngIf=\"notEnoughMoney\" class=\"error\">\r\n                <div>\r\n                  {{ 'ASSIGN_ALIAS.FORM_ERRORS.NO_MONEY' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field textarea\">\r\n              <label\r\n                [delay]=\"50\"\r\n                for=\"alias-comment\"\r\n                placement=\"bottom-left\"\r\n                tooltip=\"{{ 'ASSIGN_ALIAS.COMMENT.TOOLTIP' | translate }}\"\r\n                tooltipClass=\"table-tooltip assign-alias-tooltip\"\r\n              >\r\n                {{ 'ASSIGN_ALIAS.COMMENT.LABEL' | translate }}\r\n              </label>\r\n              <textarea\r\n                (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                [maxLength]=\"variablesService.maxCommentLength\"\r\n                class=\"scrolled-content\"\r\n                formControlName=\"comment\"\r\n                id=\"alias-comment\"\r\n                placeholder=\"{{\r\n                  'ASSIGN_ALIAS.COMMENT.PLACEHOLDER' | translate\r\n                }}\"\r\n              >\r\n              </textarea>\r\n              <div\r\n                *ngIf=\"\r\n                  assignForm.get('comment').value.length >=\r\n                  variablesService.maxCommentLength\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                {{ 'ASSIGN_ALIAS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n              </div>\r\n            </div>\r\n\r\n            <p class=\"mb-2\">\r\n              {{\r\n                'ASSIGN_ALIAS.COST'\r\n                  | translate\r\n                    : {\r\n                        value: alias.price | intToMoney,\r\n                        currency: variablesService.defaultCurrency\r\n                      }\r\n              }}\r\n            </p>\r\n\r\n            <button\r\n              (click)=\"assignAlias()\"\r\n              [disabled]=\"!assignForm.valid || !canRegister || notEnoughMoney\"\r\n              class=\"primary big w-100\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'ASSIGN_ALIAS.BUTTON_ASSIGN' | translate }}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class AssignAliasComponent implements OnInit, OnDestroy {\r\n  wallet: Wallet;\r\n\r\n  fb = inject(FormBuilder);\r\n\r\n  assignForm = this.fb.group({\r\n    name: this.fb.nonNullable.control('', [\r\n      Validators.required,\r\n      Validators.pattern(regExpAliasName),\r\n    ]),\r\n    comment: this.fb.nonNullable.control('', [\r\n      Validators.maxLength(this.variablesService.maxCommentLength),\r\n    ]),\r\n  });\r\n\r\n  alias = {\r\n    name: '',\r\n    fee: this.variablesService.default_fee,\r\n    price: new BigNumber(0),\r\n    reward: '0',\r\n    rewardOriginal: '0',\r\n    comment: '',\r\n    exists: false,\r\n  };\r\n\r\n  canRegister = false;\r\n\r\n  notEnoughMoney = false;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private ngZone: NgZone,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private moneyToInt: MoneyToIntPipe,\r\n    private intToMoney: IntToMoneyPipe\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.wallet = this.variablesService.currentWallet;\r\n    this.assignForm\r\n      .get('name')\r\n      .valueChanges.pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: value => {\r\n          this.canRegister = false;\r\n          this.alias.exists = false;\r\n          const newName = value.toLowerCase().replace('@', '');\r\n          if (\r\n            !(\r\n              this.assignForm.controls['name'].errors &&\r\n              hasOwnProperty(this.assignForm.controls['name'].errors, 'pattern')\r\n            ) &&\r\n            newName.length >= 6 &&\r\n            newName.length <= 25\r\n          ) {\r\n            this.backend.getAliasByName(newName, status => {\r\n              this.ngZone.run(() => {\r\n                this.alias.exists = status;\r\n              });\r\n              if (!status) {\r\n                this.alias.price = new BigNumber(0);\r\n                this.backend.getAliasCoast(\r\n                  newName,\r\n                  (statusPrice, dataPrice) => {\r\n                    this.ngZone.run(() => {\r\n                      if (statusPrice) {\r\n                        this.alias.price = BigNumber.sum(\r\n                          dataPrice['coast'],\r\n                          this.variablesService.default_fee_big\r\n                        );\r\n                      }\r\n                      const unlocked_balance = new BigNumber(\r\n                        this.wallet.getBalanceByTicker('ZANO')?.unlocked || 0\r\n                      );\r\n                      this.notEnoughMoney =\r\n                        this.alias.price.isGreaterThan(unlocked_balance);\r\n                      this.alias.reward = this.intToMoney.transform(\r\n                        this.alias.price,\r\n                        false\r\n                      );\r\n                      this.alias.rewardOriginal = this.intToMoney.transform(\r\n                        dataPrice['coast'],\r\n                        false\r\n                      );\r\n                      this.canRegister = !this.notEnoughMoney;\r\n                    });\r\n                  }\r\n                );\r\n              } else {\r\n                this.notEnoughMoney = false;\r\n                this.alias.reward = '0';\r\n                this.alias.rewardOriginal = '0';\r\n              }\r\n            });\r\n          } else {\r\n            this.notEnoughMoney = false;\r\n            this.alias.reward = '0';\r\n            this.alias.rewardOriginal = '0';\r\n          }\r\n          this.alias.name = newName;\r\n        },\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  assignAlias(): void {\r\n    const alias = this.backend.getWalletAlias(this.wallet.address);\r\n    if (hasOwnProperty(alias, 'name')) {\r\n      this.modalService.prepareModal('info', 'ASSIGN_ALIAS.ONE_ALIAS');\r\n    } else {\r\n      this.alias.comment = this.assignForm.get('comment').value;\r\n      this.backend.registerAlias(\r\n        this.wallet.wallet_id,\r\n        this.alias.name,\r\n        this.wallet.address,\r\n        this.alias.fee,\r\n        this.alias.comment,\r\n        this.alias.rewardOriginal,\r\n        async status => {\r\n          if (status) {\r\n            this.wallet.wakeAlias = true;\r\n            this.modalService.prepareModal(\r\n              'info',\r\n              'ASSIGN_ALIAS.REQUEST_ADD_REG'\r\n            );\r\n            await this.ngZone.run(async () => {\r\n              await this.router.navigate(['/wallet/']);\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { paths, pathsChildrenAuth } from '../paths';\r\nimport { NoWalletComponent } from './no-wallet/no-wallet.component';\r\nimport { FullLayoutComponent } from '../../layouts/full-layout/full-layout.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: paths.auth,\r\n    component: FullLayoutComponent,\r\n    children: [\r\n      {\r\n        path: pathsChildrenAuth.noWallet,\r\n        component: NoWalletComponent,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AuthRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AuthRoutingModule } from './auth-routing.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { NoWalletComponent } from './no-wallet/no-wallet.component';\r\nimport { SynchronizationStatusComponent } from '@parts/components/synchronization-status.component';\r\n\r\n@NgModule({\r\n  declarations: [NoWalletComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AuthRoutingModule,\r\n    TranslateModule,\r\n    FlexLayoutModule,\r\n    SynchronizationStatusComponent,\r\n  ],\r\n})\r\nexport class AuthModule {}\r\n","import { Component, inject, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { Validators, ValidationErrors, FormBuilder } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { regExpPassword, ZanoValidators } from '@parts/utils/zano-validators';\r\nimport { WalletsService } from '@parts/services/wallets.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  template: `\r\n    <div class=\"auth\" fxFlexFill fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n      <div\r\n        class=\"card max-w-42-rem max-h-100 w-100 p-2 border-radius-0_8-rem bg-light-blue overflow-x-hidden\"\r\n      >\r\n        <div\r\n          class=\"logo border-radius-0_8-rem overflow-hidden mb-3\"\r\n          fxLayout=\"row\"\r\n          fxLayoutAlign=\"center center\"\r\n        >\r\n          <img alt=\"zano-logo\" src=\"assets/icons/blue/zano-logo.svg\" />\r\n        </div>\r\n\r\n        <form\r\n          (ngSubmit)=\"onSubmitCreatePass()\"\r\n          *ngIf=\"type === 'reg'\"\r\n          [formGroup]=\"regForm\"\r\n          class=\"form bg-light-blue-details\"\r\n        >\r\n          <div\r\n            class=\"form__field--wrapper pt-2 pl-2 pr-2 pb-1 mb-2 bg-light-blue-details border-radius-0_8-rem overflow-hidden\"\r\n          >\r\n            <div class=\"form__field mb-2\">\r\n              <label for=\"master-pass\">{{\r\n                'LOGIN.SETUP_MASTER_PASS' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                class=\"form__field--input\"\r\n                formControlName=\"password\"\r\n                id=\"master-pass\"\r\n                placeholder=\"{{\r\n                  'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\r\n                }}\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  regForm.controls['password'].dirty &&\r\n                  regForm.controls['password'].errors\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div *ngIf=\"regForm.controls['password'].errors.pattern\">\r\n                  {{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field\">\r\n              <label for=\"confirm-pass\">{{\r\n                'LOGIN.SETUP_CONFIRM_PASS' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                class=\"form__field--input\"\r\n                formControlName=\"confirmation\"\r\n                id=\"confirm-pass\"\r\n                placeholder=\"{{\r\n                  'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate\r\n                }}\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  regForm.controls['password'].dirty &&\r\n                  regForm.controls['confirmation'].dirty &&\r\n                  regForm.errors\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div *ngIf=\"regForm.errors['mismatch']\">\r\n                  {{ 'LOGIN.FORM_ERRORS.MISMATCH' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            [disabled]=\"\r\n              !regForm.controls['password'].value.length ||\r\n              !regForm.controls['confirmation'].value.length ||\r\n              (regForm.errors && regForm.errors['mismatch']) ||\r\n              regForm.controls['password'].errors\r\n            \"\r\n            class=\"primary big w-100 mb-1\"\r\n            type=\"submit\"\r\n          >\r\n            {{ 'LOGIN.BUTTON_NEXT' | translate }}\r\n          </button>\r\n\r\n          <button\r\n            (click)=\"onSkipCreatePass()\"\r\n            [disabled]=\"\r\n              regForm.controls['password'].value.length ||\r\n              regForm.controls['confirmation'].value.length\r\n            \"\r\n            class=\"primary big w-100\"\r\n            type=\"button\"\r\n          >\r\n            {{ 'LOGIN.BUTTON_SKIP' | translate }}\r\n          </button>\r\n        </form>\r\n\r\n        <form\r\n          (ngSubmit)=\"onSubmitAuthPass()\"\r\n          *ngIf=\"type !== 'reg'\"\r\n          [formGroup]=\"authForm\"\r\n          class=\"form\"\r\n        >\r\n          <div\r\n            class=\"form__field--wrapper pt-2 pl-2 pr-2 pb-1 mb-2 bg-light-blue-details border-radius-0_8-rem overflow-hidden\"\r\n          >\r\n            <div class=\"form__field\">\r\n              <label for=\"master-pass-login\">{{\r\n                'LOGIN.MASTER_PASS' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                [placeholder]=\"\r\n                  'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\r\n                \"\r\n                autofocus\r\n                class=\"form__field--input\"\r\n                formControlName=\"password\"\r\n                id=\"master-pass-login\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  authForm.controls['password'].invalid &&\r\n                  (authForm.controls['password'].dirty ||\r\n                    authForm.controls['password'].touched)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div\r\n                  *ngIf=\"\r\n                    authForm.controls['password'].hasError('wrong_password')\r\n                  \"\r\n                >\r\n                  {{ 'LOGIN.FORM_ERRORS.INVALID_PASS' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button class=\"primary big w-100 mb-1\" type=\"submit\">\r\n            {{ 'LOGIN.BUTTON_NEXT' | translate }}\r\n          </button>\r\n\r\n          <button\r\n            (click)=\"dropSecureAppData()\"\r\n            class=\"outline big w-100\"\r\n            type=\"button\"\r\n          >\r\n            {{ 'LOGIN.BUTTON_RESET' | translate }}\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      <app-synchronization-status\r\n        class=\"max-w-19-rem\"\r\n      ></app-synchronization-status>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n  fb = inject(FormBuilder);\r\n\r\n  regForm = this.fb.group(\r\n    {\r\n      password: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n      confirmation: this.fb.nonNullable.control(''),\r\n    },\r\n    {\r\n      validators: [ZanoValidators.formMatch('password', 'confirmation')],\r\n    }\r\n  );\r\n\r\n  authForm = this.fb.group({\r\n    password: this.fb.nonNullable.control(''),\r\n  });\r\n\r\n  type = 'reg';\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    public walletsService: WalletsService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.route.queryParams.pipe(takeUntil(this.destroy$)).subscribe({\r\n      next: params => {\r\n        if (params.type) {\r\n          this.type = params.type;\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  onSubmitCreatePass(): void {\r\n    if (this.regForm.valid) {\r\n      this.variablesService.appPass = this.regForm.get('password').value; // the pass what was written in input of login form by user\r\n\r\n      this.backend.setMasterPassword(\r\n        { pass: this.variablesService.appPass },\r\n        (status, data) => {\r\n          if (status) {\r\n            this.backend.storeSecureAppData({\r\n              pass: this.variablesService.appPass,\r\n            });\r\n            this.variablesService.appLogin = true;\r\n            this.variablesService.dataIsLoaded = true;\r\n            if (this.variablesService.settings.appLockTime) {\r\n              this.variablesService.startCountdown();\r\n            }\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/']);\r\n            });\r\n          } else {\r\n            console.log(data['error_code']);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  onSkipCreatePass(): void {\r\n    this.variablesService.appPass = '';\r\n    this.ngZone.run(() => {\r\n      this.variablesService.appLogin = true;\r\n      this.router.navigate(['/']);\r\n    });\r\n  }\r\n\r\n  dropSecureAppData(): void {\r\n    this.backend.dropSecureAppData(() => {\r\n      this.onSkipCreatePass();\r\n    });\r\n    this.variablesService.wallets = [];\r\n    this.variablesService.contacts = [];\r\n  }\r\n\r\n  onSubmitAuthPass(): void {\r\n    if (this.authForm.valid) {\r\n      this.variablesService.appPass = this.authForm.get('password').value;\r\n      if (this.variablesService.dataIsLoaded) {\r\n        this.backend.checkMasterPassword(\r\n          { pass: this.variablesService.appPass },\r\n          status => {\r\n            if (status) {\r\n              this.variablesService.appLogin = true;\r\n              if (this.variablesService.settings.appLockTime) {\r\n                this.variablesService.startCountdown();\r\n              }\r\n              this.ngZone.run(() => {\r\n                this.router.navigate(['/'], {\r\n                  queryParams: { prevUrl: 'login' },\r\n                });\r\n              });\r\n            } else {\r\n              this.ngZone.run(() => {\r\n                this.setAuthPassError({ wrong_password: true });\r\n              });\r\n            }\r\n          }\r\n        );\r\n      } else {\r\n        this.getData(this.variablesService.appPass);\r\n      }\r\n    }\r\n  }\r\n\r\n  getData(appPass): void {\r\n    this.backend.getSecureAppData({ pass: appPass }, (status, data) => {\r\n      if (!data.error_code) {\r\n        this.setAuthPassError(null);\r\n        this.variablesService.appLogin = true;\r\n        this.variablesService.dataIsLoaded = true;\r\n        if (this.variablesService.settings.appLockTime) {\r\n          this.variablesService.startCountdown();\r\n        }\r\n        this.variablesService.appPass = appPass;\r\n        const isEmptyObject =\r\n          Object.keys(data).length === 0 && data.constructor === Object;\r\n\r\n        if (this.variablesService.wallets.length > 0) {\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n          return;\r\n        }\r\n        if (hasOwnProperty(data, 'contracts')) {\r\n          if (Object.keys(data['contacts']).length !== 0) {\r\n            data['contacts'].map(contact => {\r\n              this.variablesService.contacts.push(contact);\r\n            });\r\n          }\r\n        }\r\n        if (hasOwnProperty(data, 'wallets')) {\r\n          if (Object.keys(data['wallets']).length !== 0) {\r\n            this.getWalletData(data['wallets']);\r\n          } else {\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/']);\r\n            });\r\n          }\r\n        }\r\n        if (\r\n          !hasOwnProperty(data, 'wallets') &&\r\n          !hasOwnProperty(data, 'contracts')\r\n        ) {\r\n          if (data.length !== 0 && !isEmptyObject) {\r\n            this.getWalletData(data);\r\n          } else {\r\n            this.ngZone.run(() => {\r\n              this.router.navigate(['/']);\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      if (data.error_code === 'WRONG_PASSWORD') {\r\n        this.ngZone.run(() => {\r\n          this.setAuthPassError({ wrong_password: true });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  getWalletData(walletData): void {\r\n    let openWallets = 0;\r\n    let runWallets = 0;\r\n    walletData.forEach((wallet, wallet_index) => {\r\n      this.backend.openWallet(\r\n        wallet.path,\r\n        wallet.pass,\r\n        this.variablesService.count,\r\n        true,\r\n        (open_status, open_data, open_error) => {\r\n          if (open_status || open_error === 'FILE_RESTORED') {\r\n            openWallets++;\r\n            this.ngZone.run(() => {\r\n              const new_wallet = new Wallet(\r\n                open_data.wallet_id,\r\n                wallet.name,\r\n                wallet.pass,\r\n                open_data['wi'].path,\r\n                open_data['wi'].address,\r\n                open_data['wi'].balance,\r\n                open_data['wi'].unlocked_balance,\r\n                open_data['wi'].mined_total,\r\n                open_data['wi'].tracking_hey\r\n              );\r\n              new_wallet.alias = this.backend.getWalletAlias(\r\n                new_wallet.address\r\n              );\r\n              if (wallet.staking) {\r\n                new_wallet.staking = true;\r\n                this.backend.startPosMining(new_wallet.wallet_id);\r\n              } else {\r\n                new_wallet.staking = false;\r\n              }\r\n              new_wallet.is_auditable = open_data['wi'].is_auditable;\r\n              new_wallet.is_watch_only = open_data['wi'].is_watch_only;\r\n              new_wallet.currentPage = 1;\r\n              new_wallet.exclude_mining_txs = false;\r\n              if (\r\n                open_data.recent_history &&\r\n                open_data.recent_history.history\r\n              ) {\r\n                new_wallet.total_history_item =\r\n                  open_data.recent_history.total_history_items;\r\n                new_wallet.totalPages = Math.ceil(\r\n                  open_data.recent_history.total_history_items /\r\n                    this.variablesService.count\r\n                );\r\n                new_wallet.totalPages > this.variablesService.maxPages\r\n                  ? (new_wallet.pages = new Array(5)\r\n                      .fill(1)\r\n                      .map((value, index) => value + index))\r\n                  : (new_wallet.pages = new Array(new_wallet.totalPages)\r\n                      .fill(1)\r\n                      .map((value, index) => value + index));\r\n                new_wallet.prepareHistory(open_data.recent_history.history);\r\n              } else {\r\n                new_wallet.total_history_item = 0;\r\n                new_wallet.pages = new Array(1).fill(1);\r\n                new_wallet.totalPages = 1;\r\n              }\r\n              this.backend.getContracts(\r\n                open_data.wallet_id,\r\n                (contracts_status, contracts_data) => {\r\n                  if (\r\n                    contracts_status &&\r\n                    hasOwnProperty(contracts_data, 'contracts')\r\n                  ) {\r\n                    this.ngZone.run(() => {\r\n                      new_wallet.prepareContractsAfterOpen(\r\n                        contracts_data.contracts,\r\n                        this.variablesService.exp_med_ts,\r\n                        this.variablesService.height_app,\r\n                        this.variablesService.settings.viewedContracts,\r\n                        this.variablesService.settings.notViewedContracts\r\n                      );\r\n                    });\r\n                  }\r\n                }\r\n              );\r\n              this.walletsService.addWallet(new_wallet);\r\n              if (this.variablesService.wallets.length === 1) {\r\n                this.router.navigate(['/wallet/']);\r\n              }\r\n            });\r\n            this.backend.runWallet(open_data.wallet_id, run_status => {\r\n              if (run_status) {\r\n                runWallets++;\r\n              } else {\r\n                if (\r\n                  wallet_index === walletData.length - 1 &&\r\n                  runWallets === 0\r\n                ) {\r\n                  this.ngZone.run(() => {\r\n                    this.router.navigate(['/']);\r\n                  });\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            if (wallet_index === walletData.length - 1 && openWallets === 0) {\r\n              this.ngZone.run(() => {\r\n                this.router.navigate(['/']);\r\n              });\r\n            }\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  private setAuthPassError(errors: ValidationErrors | null): void {\r\n    this.authForm.controls['password'].setErrors(errors);\r\n  }\r\n}\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { CREATE_NEW_WALLET_HELP_PAGE } from '@parts/data/constants';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { paths } from '../../paths';\r\n\r\n@Component({\r\n  selector: 'app-no-wallet',\r\n  template: `\r\n    <div\r\n      class=\"no-wallet-wrapper\"\r\n      fxFlexFill\r\n      fxLayout=\"row\"\r\n      fxLayoutAlign=\"center center\"\r\n    >\r\n      <div\r\n        class=\"card max-w-42-rem max-h-100 w-100 p-2 border-radius-0_8-rem bg-light-blue scrolled-content\"\r\n      >\r\n        <div class=\"logo mb-3\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n          <img alt=\"zano-logo\" src=\"assets/icons/blue/zano-logo.svg\" />\r\n        </div>\r\n\r\n        <h4 class=\"mb-2 text-align-center\">{{ 'MAIN.TITLE' | translate }}</h4>\r\n\r\n        <button\r\n          [routerLink]=\"['/' + paths.create]\"\r\n          class=\"primary big w-100 mb-1\"\r\n          type=\"button\"\r\n        >\r\n          {{ 'MAIN.BUTTON_NEW_WALLET' | translate }}\r\n        </button>\r\n\r\n        <button\r\n          (click)=\"openWallet()\"\r\n          class=\"primary big w-100 mb-1\"\r\n          type=\"button\"\r\n        >\r\n          {{ 'MAIN.BUTTON_OPEN_WALLET' | translate }}\r\n        </button>\r\n\r\n        <button\r\n          [routerLink]=\"['/' + paths.restore]\"\r\n          class=\"outline big w-100 mb-2\"\r\n          type=\"button\"\r\n        >\r\n          {{ 'MAIN.BUTTON_RESTORE_BACKUP' | translate }}\r\n        </button>\r\n\r\n        <p\r\n          (click)=\"openInBrowser()\"\r\n          class=\"text-align-center cursor-pointer\"\r\n          fxLayout=\"row\"\r\n          fxLayoutAlign=\"center center\"\r\n        >\r\n          <i class=\"icon question-circle mr-1\"></i>\r\n          <span class=\"color-primary\">{{ 'MAIN.HELP' | translate }}</span>\r\n        </p>\r\n      </div>\r\n\r\n      <app-synchronization-status\r\n        class=\"max-w-19-rem\"\r\n      ></app-synchronization-status>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class NoWalletComponent {\r\n  paths = paths;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  openWallet(): void {\r\n    this.backend.openFileDialog(\r\n      this.translate.instant('MAIN.CHOOSE_PATH'),\r\n      '*',\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (file_status) {\r\n          this.variablesService.settings.default_path = file_data.path.substr(\r\n            0,\r\n            file_data.path.lastIndexOf('/')\r\n          );\r\n          this.ngZone.run(() => {\r\n            this.router\r\n              .navigate(['/' + paths.open], {\r\n                queryParams: { path: file_data.path },\r\n              })\r\n              .then();\r\n          });\r\n        } else {\r\n          console.log(file_data['error_code']);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  openInBrowser(): void {\r\n    this.backend.openUrlInBrowser(CREATE_NEW_WALLET_HELP_PAGE);\r\n  }\r\n}\r\n","import { Component, inject, NgZone } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { Router } from '@angular/router';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { regExpPassword, ZanoValidators } from '@parts/utils/zano-validators';\r\n\r\n@Component({\r\n  selector: 'app-create-wallet',\r\n  template: `<div class=\"page-container\">\r\n    <div class=\"toolbar mb-2\">\r\n      <div class=\"left\">\r\n        <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n          <i class=\"icon dropdown-arrow-left\"></i>\r\n        </button>\r\n        <h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n      </div>\r\n      <div class=\"right\"></div>\r\n    </div>\r\n\r\n    <div class=\"page-content\">\r\n      <div class=\"breadcrumbs mb-2\">\r\n        <div class=\"breadcrumb\">\r\n          <a [routerLink]=\"['/add-wallet']\">{{\r\n            'BREADCRUMBS.ADD_WALLET' | translate\r\n          }}</a>\r\n        </div>\r\n        <div class=\"breadcrumb\">\r\n          <span>{{ 'BREADCRUMBS.CREATE_WALLET' | translate }}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"scrolled-content\">\r\n        <form [formGroup]=\"createForm\" class=\"form\">\r\n          <div class=\"form__field\">\r\n            <label for=\"wallet-name\">{{\r\n              'CREATE_WALLET.NAME' | translate\r\n            }}</label>\r\n            <input\r\n              (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n              [attr.readonly]=\"walletSaved ? '' : null\"\r\n              [maxlength]=\"variablesService.maxWalletNameLength + ''\"\r\n              [placeholder]=\"'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\"\r\n              class=\"form__field--input\"\r\n              formControlName=\"name\"\r\n              id=\"wallet-name\"\r\n              type=\"text\"\r\n            />\r\n            <div\r\n              *ngIf=\"\r\n                createForm.controls['name'].invalid &&\r\n                (createForm.controls['name'].dirty ||\r\n                  createForm.controls['name'].touched)\r\n              \"\r\n              class=\"error\"\r\n            >\r\n              <div *ngIf=\"createForm.controls['name'].errors['duplicate']\">\r\n                {{ 'CREATE_WALLET.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n              </div>\r\n              <div *ngIf=\"createForm.controls['name'].errors['required']\">\r\n                {{ 'CREATE_WALLET.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n              </div>\r\n            </div>\r\n            <div\r\n              *ngIf=\"\r\n                createForm.get('name').value.length >=\r\n                variablesService.maxWalletNameLength\r\n              \"\r\n              class=\"error\"\r\n            >\r\n              {{ 'CREATE_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form__field\">\r\n            <label for=\"wallet-password\">{{\r\n              'CREATE_WALLET.PASS' | translate\r\n            }}</label>\r\n            <input\r\n              (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n              [attr.readonly]=\"walletSaved ? '' : null\"\r\n              class=\"form__field--input\"\r\n              formControlName=\"password\"\r\n              id=\"wallet-password\"\r\n              placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_NEW' | translate }}\"\r\n              type=\"password\"\r\n            />\r\n            <div\r\n              *ngIf=\"\r\n                createForm.controls['password'].dirty &&\r\n                createForm.controls['password'].errors\r\n              \"\r\n              class=\"error\"\r\n            >\r\n              <div *ngIf=\"createForm.controls['password'].errors.pattern\">\r\n                {{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form__field\">\r\n            <label for=\"confirm-wallet-password\">{{\r\n              'CREATE_WALLET.CONFIRM' | translate\r\n            }}</label>\r\n            <input\r\n              (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n              [attr.readonly]=\"walletSaved ? '' : null\"\r\n              [class.invalid]=\"\r\n                createForm.errors &&\r\n                createForm.errors['mismatch'] &&\r\n                createForm.get('confirm').value.length > 0\r\n              \"\r\n              class=\"form__field--input\"\r\n              formControlName=\"confirm\"\r\n              id=\"confirm-wallet-password\"\r\n              placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate }}\"\r\n              type=\"password\"\r\n            />\r\n            <div\r\n              *ngIf=\"\r\n                createForm.controls['confirm'].dirty &&\r\n                createForm.controls['confirm'].dirty &&\r\n                createForm.errors\r\n              \"\r\n              class=\"error\"\r\n            >\r\n              <div\r\n                *ngIf=\"\r\n                  createForm.errors['mismatch'] &&\r\n                  createForm.get('confirm').value.length > 0\r\n                \"\r\n              >\r\n                {{ 'CREATE_WALLET.FORM_ERRORS.CONFIRM_NOT_MATCH' | translate }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            *ngIf=\"walletSaved\"\r\n            class=\"outline big w-100 mb-2\"\r\n            disabled\r\n            type=\"button\"\r\n          >\r\n            <i class=\"icon check-circle mr-1\"></i>{{ walletSavedName }}\r\n          </button>\r\n\r\n          <button\r\n            (click)=\"saveWallet()\"\r\n            *ngIf=\"!walletSaved\"\r\n            [disabled]=\"!createForm.valid\"\r\n            class=\"outline big w-100 mb-2\"\r\n            type=\"button\"\r\n          >\r\n            {{ 'CREATE_WALLET.BUTTON_SELECT' | translate }}\r\n          </button>\r\n\r\n          <button\r\n            (click)=\"createWallet()\"\r\n            [disabled]=\"!walletSaved\"\r\n            class=\"primary big w-100\"\r\n            type=\"button\"\r\n          >\r\n            {{ 'CREATE_WALLET.BUTTON_CREATE' | translate }}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div> `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class CreateWalletComponent {\r\n  fb = inject(FormBuilder);\r\n\r\n  createForm = this.fb.group(\r\n    {\r\n      name: this.fb.nonNullable.control('', [\r\n        Validators.required,\r\n        ZanoValidators.duplicate(\r\n          this.variablesService.walletNamesForComparisons\r\n        ),\r\n      ]),\r\n      password: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n      confirm: this.fb.nonNullable.control(''),\r\n    },\r\n    {\r\n      validators: [ZanoValidators.formMatch('password', 'confirm')],\r\n    }\r\n  );\r\n\r\n  wallet = {\r\n    id: '',\r\n  };\r\n\r\n  walletSaved = false;\r\n\r\n  walletSavedName = '';\r\n\r\n  progressWidth = '9rem';\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  async createWallet(): Promise<void> {\r\n    return await this.ngZone.run(async () => {\r\n      this.progressWidth = '100%';\r\n      await this.router.navigate(['/seed-phrase'], {\r\n        queryParams: { wallet_id: this.wallet.id },\r\n      });\r\n    });\r\n  }\r\n\r\n  saveWallet(): void {\r\n    if (\r\n      this.createForm.valid &&\r\n      this.createForm.get('name').value.length <=\r\n        this.variablesService.maxWalletNameLength\r\n    ) {\r\n      this.backend.saveFileDialog(\r\n        this.translate.instant('CREATE_WALLET.TITLE_SAVE'),\r\n        '*',\r\n        this.variablesService.settings.default_path,\r\n        (file_status, file_data) => {\r\n          if (file_status) {\r\n            this.variablesService.settings.default_path = file_data.path.substr(\r\n              0,\r\n              file_data.path.lastIndexOf('/')\r\n            );\r\n            this.walletSavedName = file_data.path.substr(\r\n              file_data.path.lastIndexOf('/') + 1,\r\n              file_data.path.length - 1\r\n            );\r\n            this.backend.generateWallet(\r\n              file_data.path,\r\n              this.createForm.get('password').value,\r\n              (generate_status, generate_data, errorCode) => {\r\n                if (generate_status) {\r\n                  this.wallet.id = generate_data.wallet_id;\r\n                  this.variablesService.opening_wallet = new Wallet(\r\n                    generate_data.wallet_id,\r\n                    this.createForm.get('name').value,\r\n                    this.createForm.get('password').value,\r\n                    generate_data['wi'].path,\r\n                    generate_data['wi'].address,\r\n                    generate_data['wi'].balance,\r\n                    generate_data['wi'].unlocked_balance,\r\n                    generate_data['wi'].mined_total,\r\n                    generate_data['wi'].tracking_hey\r\n                  );\r\n                  this.variablesService.opening_wallet.alias =\r\n                    this.backend.getWalletAlias(generate_data['wi'].address);\r\n                  this.variablesService.opening_wallet.total_history_item = 0;\r\n                  this.variablesService.opening_wallet.pages = new Array(\r\n                    1\r\n                  ).fill(1);\r\n                  this.variablesService.opening_wallet.totalPages = 1;\r\n                  this.variablesService.opening_wallet.currentPage = 1;\r\n                  this.ngZone.run(() => {\r\n                    this.walletSaved = true;\r\n                    this.progressWidth = '33%';\r\n                  });\r\n                } else {\r\n                  if (errorCode && errorCode === 'ALREADY_EXISTS') {\r\n                    this.modalService.prepareModal(\r\n                      'error',\r\n                      'CREATE_WALLET.ERROR_CANNOT_SAVE_TOP'\r\n                    );\r\n                  } else {\r\n                    this.modalService.prepareModal(\r\n                      'error',\r\n                      'CREATE_WALLET.ERROR_CANNOT_SAVE_SYSTEM'\r\n                    );\r\n                  }\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { delay, takeUntil } from 'rxjs/operators';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-deeplink',\r\n  template: `\r\n    <ng-container *ngIf=\"deeplink$ | async\">\r\n      <app-deeplink-modal\r\n        *ngIf=\"\r\n          variablesService?.daemon_state === 2 ||\r\n          !variablesService?.sync_started\r\n        \"\r\n      ></app-deeplink-modal>\r\n\r\n      <app-sync-modal\r\n        *ngIf=\"\r\n          variablesService?.daemon_state !== 2 || variablesService?.sync_started\r\n        \"\r\n      >\r\n      </app-sync-modal>\r\n    </ng-container>\r\n  `,\r\n  styles: [],\r\n})\r\nexport class DeeplinkComponent implements OnInit, OnDestroy {\r\n  deeplink$ = new BehaviorSubject<string | null>(null);\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(public variablesService: VariablesService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.variablesService.deeplink$\r\n      .pipe(delay(200), takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: data => {\r\n          this.deeplink$.next(data);\r\n        },\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DeeplinkModalModule } from './modals/deeplink-modal/deeplink-modal.module';\r\nimport { DeeplinkComponent } from './deeplink.component';\r\nimport { SyncModalModule } from './modals/sync-modal/sync-modal.module';\r\n\r\n@NgModule({\r\n  declarations: [DeeplinkComponent],\r\n  imports: [CommonModule, DeeplinkModalModule, SyncModalModule],\r\n  exports: [DeeplinkComponent, DeeplinkModalModule, SyncModalModule],\r\n})\r\nexport class DeeplinkModule {}\r\n","import {\r\n  Component,\r\n  HostBinding,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n} from '@angular/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { DeeplinkParams, PushOffer, Wallet } from '@api/models/wallet.model';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { MIXIN } from '@parts/data/constants';\r\nimport { Subject } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-deeplink-modal',\r\n  template: `\r\n    <div\r\n      class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-h-100\"\r\n      fxFlex=\"0 1 54rem\"\r\n      fxLayout=\"column\"\r\n    >\r\n      <ng-container *ngIf=\"walletsToPay.length > 1 && !secondStep\">\r\n        <div class=\"content mb-2\" fxFlex=\"0 0 auto\" fxLayout=\"column\">\r\n          <div class=\"form__field\" fxFlex=\"0 0 auto\">\r\n            <label>Select wallet for action:</label>\r\n            <ng-select\r\n              [(ngModel)]=\"walletToPayId\"\r\n              [clearable]=\"false\"\r\n              [items]=\"walletsToPay\"\r\n              [searchable]=\"false\"\r\n              bindLabel=\"name\"\r\n              bindValue=\"wallet_id\"\r\n            >\r\n              <ng-template let-item=\"item\" ng-label-tmp>\r\n                {{ item.name }}\r\n              </ng-template>\r\n              <ng-template let-index=\"index\" let-item=\"item\" ng-option-tmp>\r\n                {{ item.name }}\r\n              </ng-template>\r\n            </ng-select>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"controls\"\r\n          fxFlex=\"0 0 auto\"\r\n          fxLayout=\"row nowrap\"\r\n          fxLayoutAlign=\"space-between center\"\r\n          fxLayoutGap=\"1rem\"\r\n        >\r\n          <button\r\n            (click)=\"canselAction()\"\r\n            class=\"outline big w-100\"\r\n            type=\"button\"\r\n          >\r\n            {{ 'EXPORT_HISTORY.CANCEL' | translate }}\r\n          </button>\r\n          <button (click)=\"nextStep()\" class=\"primary big w-100\" type=\"submit\">\r\n            Next...\r\n          </button>\r\n        </div>\r\n      </ng-container>\r\n\r\n      <ng-container\r\n        *ngIf=\"\r\n          secondStep &&\r\n          marketplaceModalShow &&\r\n          actionData.action === 'marketplace_offer_create'\r\n        \"\r\n      >\r\n        <h4 class=\"mb-2\" fxFlex=\"0 0 auto\">Creating a marketplace offer</h4>\r\n        <div\r\n          class=\"content scrolled-content mb-2\"\r\n          fxFlex=\"1 1 auto\"\r\n          fxLayout=\"column\"\r\n        >\r\n          <div class=\"table-info\" fxFlex=\"0 0 auto\">\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Offer title' | translate }}\r\n              </div>\r\n              <div class=\"text\">{{ actionData.title }}</div>\r\n            </div>\r\n\r\n            <hr class=\"separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Description' | translate }}\r\n              </div>\r\n              <div class=\"text\">{{ actionData.description }}</div>\r\n            </div>\r\n\r\n            <hr class=\"separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Category' | translate }}\r\n              </div>\r\n              <div class=\"text\">{{ actionData.category }}</div>\r\n            </div>\r\n\r\n            <hr class=\"separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Price' | translate }}\r\n              </div>\r\n              <div class=\"text\">\r\n                {{ actionData.price }}\r\n                {{ this.variablesService.defaultCurrency }}\r\n              </div>\r\n            </div>\r\n\r\n            <hr class=\"separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Preview url' | translate }}\r\n              </div>\r\n              <div class=\"text\">{{ actionData.url || actionData.img_url }}</div>\r\n            </div>\r\n\r\n            <hr class=\"separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Contacts' | translate }}\r\n              </div>\r\n              <div class=\"text\">{{ actionData.contact }}</div>\r\n            </div>\r\n\r\n            <hr class=\"separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Comments' | translate }}\r\n              </div>\r\n              <div class=\"text\">\r\n                {{ actionData.comment || actionData.comments }}\r\n              </div>\r\n            </div>\r\n\r\n            <hr class=\"separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Mixins' | translate }}\r\n              </div>\r\n              <div class=\"text\">{{ actionData.mixins || defaultMixin }}</div>\r\n            </div>\r\n\r\n            <hr class=\"separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Transaction fee' | translate }}\r\n              </div>\r\n              <div class=\"text\">\r\n                {{\r\n                  actionData.price *\r\n                    (actionData.fee || this.variablesService.default_fee)\r\n                }}\r\n                {{ this.variablesService.defaultCurrency }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"controls\"\r\n          fxFlex=\"0 0 auto\"\r\n          fxLayout=\"row nowrap\"\r\n          fxLayoutAlign=\"space-between center\"\r\n          fxLayoutGap=\"1rem\"\r\n        >\r\n          <button\r\n            (click)=\"canselAction()\"\r\n            class=\"outline big w-100\"\r\n            type=\"button\"\r\n          >\r\n            {{ 'EXPORT_HISTORY.CANCEL' | translate }}\r\n          </button>\r\n          <button\r\n            (click)=\"marketplaceSend()\"\r\n            class=\"primary big w-100\"\r\n            type=\"submit\"\r\n          >\r\n            Sign & Send...\r\n          </button>\r\n        </div>\r\n      </ng-container>\r\n\r\n      <ng-container *ngIf=\"marketplaceConfirmHash\">\r\n        <h4 class=\"mb-2\" fxFlex=\"0 0 auto\">Operation successful</h4>\r\n\r\n        <div\r\n          class=\"content scrolled-content mb-2\"\r\n          fxFlex=\"1 1 auto\"\r\n          fxLayout=\"column\"\r\n        >\r\n          <div class=\"table-info\" fxFlex=\"0 0 auto\">\r\n            <div class=\"row\">\r\n              <div class=\"label max-w-19-rem w-100\">\r\n                {{ 'Operation hash' | translate }}\r\n              </div>\r\n              <div\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuOnlyCopy(\r\n                    $event,\r\n                    marketplaceConfirmHash\r\n                  )\r\n                \"\r\n                class=\"text\"\r\n                fxLayout=\"row\"\r\n                fxLayoutAlign=\"start center\"\r\n              >\r\n                {{ marketplaceConfirmHash }}\r\n                <i\r\n                  (click)=\"copyHash()\"\r\n                  [class.check]=\"copyAnimation\"\r\n                  [class.copy]=\"!copyAnimation\"\r\n                  class=\"icon ml-1\"\r\n                ></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"controls\"\r\n          fxFlex=\"0 0 auto\"\r\n          fxLayout=\"row\"\r\n          fxLayoutAlign=\"space-between center\"\r\n        >\r\n          <button\r\n            (click)=\"canselAction()\"\r\n            class=\"primary big w-100\"\r\n            type=\"button\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </ng-container>\r\n\r\n      <ng-container *ngIf=\"!walletsToPay.length\">\r\n        <h4 class=\"mb-2\" fxFlex=\"0 0 auto\">\r\n          Your wallets have not loaded yet. Try this action a little later.\r\n        </h4>\r\n\r\n        <div\r\n          class=\"controls\"\r\n          fxFlex=\"0 0 auto\"\r\n          fxLayout=\"row\"\r\n          fxLayoutAlign=\"space-between center\"\r\n        >\r\n          <button\r\n            (click)=\"canselAction()\"\r\n            class=\"primary big w-100\"\r\n            type=\"button\"\r\n          >\r\n            Ok\r\n          </button>\r\n        </div>\r\n      </ng-container>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n})\r\nexport class DeeplinkModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  secondStep = false;\r\n\r\n  walletToPayId = 0;\r\n\r\n  nextStepInterval;\r\n\r\n  marketplaceModalShow = true;\r\n\r\n  copyAnimation = false;\r\n\r\n  marketplaceConfirmHash: any = null;\r\n\r\n  actionData: DeeplinkParams = {};\r\n\r\n  defaultMixin = MIXIN;\r\n\r\n  walletsToPay: Array<Wallet> = [];\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private _router: Router,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private renderer: Renderer2\r\n  ) {\r\n    this.walletsToPay = this.variablesService.wallets.filter(\r\n      wallet => !wallet.is_watch_only || !wallet.is_auditable\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n\r\n    this.variablesService.deeplink$.pipe(takeUntil(this.destroy$)).subscribe({\r\n      next: deeplink => {\r\n        this.actionData = {};\r\n\r\n        if (deeplink) {\r\n          if (this.walletsToPay.length === 0) {\r\n            this.canselAction();\r\n            return;\r\n          }\r\n          this.actionData = this.parseDeeplink(deeplink);\r\n          if (this.walletsToPay.length === 1) {\r\n            this.walletToPayId = this.walletsToPay[0].wallet_id;\r\n            const { daemon_state, sync_started } = this.variablesService;\r\n\r\n            if (daemon_state === 2 && sync_started === false) {\r\n              this.nextStep();\r\n            } else {\r\n              this.nextStepInterval = setInterval(() => {\r\n                if (daemon_state === 2 && sync_started === false) {\r\n                  this.nextStep();\r\n                  clearInterval(this.nextStepInterval);\r\n                }\r\n              }, 1500);\r\n            }\r\n          }\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.variablesService.deeplink$.next(null);\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  parseDeeplink(deeplink): DeeplinkParams {\r\n    const quotesRex = new RegExp(/'|\"|”|%E2%80%9D|%22/g);\r\n    const spaceSymbolRex = new RegExp(/%20/g);\r\n    const newObj = {};\r\n\r\n    const newString = deeplink.substr(5); // delete zano:;\r\n    newString.split('&').forEach(str => {\r\n      const [key, value] = str.split('=');\r\n      newObj[key] = value\r\n        .replace(quotesRex, '')\r\n        .replace(spaceSymbolRex, ' ')\r\n        .trim();\r\n    });\r\n    return newObj;\r\n  }\r\n\r\n  canselAction(): void {\r\n    this.variablesService.deeplink$.next(null);\r\n    this.variablesService.sendActionData$.next({});\r\n    this.actionData = {};\r\n    this.secondStep = false;\r\n  }\r\n\r\n  marketplaceSend(): void {\r\n    const offerObject: PushOffer = {\r\n      wallet_id: this.walletToPayId,\r\n      od: {\r\n        ap: this.actionData.price || '',\r\n        at: '1',\r\n        cat: this.actionData.category || '',\r\n        cnt: this.actionData.contact || '',\r\n        com: this.actionData.comment || this.actionData.comments || '',\r\n        do: this.actionData.description || '',\r\n        et: 10,\r\n        fee: new BigNumber(\r\n          '' +\r\n            (+this.actionData.fee || +this.variablesService.default_fee) *\r\n              1000000000000\r\n        ),\r\n        lci: '',\r\n        lco: 'World Wide',\r\n        ot: 1,\r\n        pt: 'Credit cards, BTC, ZANO, ETH',\r\n        t: this.actionData.title || '',\r\n        url: this.actionData.url || this.actionData.img_url || '',\r\n      },\r\n    };\r\n    this.backend.push_offer(offerObject, (status, data) => {\r\n      this.ngZone.run(() => {\r\n        if (data.success) {\r\n          this.marketplaceModalShow = false;\r\n          this.marketplaceConfirmHash = data.tx_hash;\r\n        } else {\r\n          this.canselAction();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  copyHash(): void {\r\n    this.backend.setClipboard(this.marketplaceConfirmHash);\r\n    this.copyAnimation = true;\r\n    setTimeout(() => (this.copyAnimation = false), 2000);\r\n  }\r\n\r\n  nextStep(): void {\r\n    if (this.actionData.action === 'send') {\r\n      this.variablesService.sendActionData$.next(this.actionData);\r\n      this.variablesService.deeplink$.next(null);\r\n      this.variablesService.setCurrentWallet(this.walletToPayId);\r\n      this._router.navigate(['/wallet/send']).then();\r\n      this.secondStep = false;\r\n    } else if (this.actionData.action === 'escrow') {\r\n      this.variablesService.sendActionData$.next(this.actionData);\r\n      this.variablesService.deeplink$.next(null);\r\n      this.variablesService.setCurrentWallet(this.walletToPayId);\r\n      this._router.navigate(['/wallet/contracts/purchase']).then();\r\n      this.secondStep = false;\r\n    } else {\r\n      this.secondStep = true;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DeeplinkModalComponent } from './deeplink-modal.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [DeeplinkModalComponent],\r\n  imports: [\r\n    CommonModule,\r\n    NgSelectModule,\r\n    FormsModule,\r\n    FlexLayoutModule,\r\n    TranslateModule,\r\n  ],\r\n  exports: [DeeplinkModalComponent],\r\n})\r\nexport class DeeplinkModalModule {}\r\n","import {\r\n  Component,\r\n  HostBinding,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n} from '@angular/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-sync-modal',\r\n  template: `\r\n    <div\r\n      class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\"\r\n    >\r\n      <div class=\"content\" fxLayout=\"column\" fxLayoutAlign=\"center center\">\r\n        <h3 class=\"mb-2\">\r\n          This action is not available during synchronization...\r\n        </h3>\r\n        <button\r\n          (click)=\"canselAction()\"\r\n          class=\"primary big max-w-19-rem w-100\"\r\n          type=\"button\"\r\n        >\r\n          OK\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n})\r\nexport class SyncModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    public variablesService: VariablesService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  canselAction(): void {\r\n    this.variablesService.deeplink$.next(null);\r\n    this.variablesService.sendActionData$.next({});\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SyncModalComponent } from './sync-modal.component';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [SyncModalComponent],\r\n  imports: [CommonModule, FlexLayoutModule],\r\n  exports: [SyncModalComponent],\r\n})\r\nexport class SyncModalModule {}\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Component({\r\n  selector: 'app-edit-alias',\r\n  template: `\r\n    <div class=\"page-container\">\r\n      <div class=\"toolbar mb-2\">\r\n        <div class=\"left\">\r\n          <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n            <i class=\"icon dropdown-arrow-left\"></i>\r\n          </button>\r\n          <h1>{{ 'BREADCRUMBS.EDIT_ALIAS' | translate }}</h1>\r\n        </div>\r\n        <div class=\"right\"></div>\r\n      </div>\r\n\r\n      <div class=\"page-content\">\r\n        <div class=\"breadcrumbs mb-2\">\r\n          <div class=\"breadcrumb\">\r\n            <a [routerLink]=\"['/wallet/history']\">{{ wallet.name }}</a>\r\n          </div>\r\n          <div class=\"breadcrumb\">\r\n            <span>{{ 'BREADCRUMBS.EDIT_ALIAS' | translate }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"scrolled-content\">\r\n          <form class=\"form\">\r\n            <div class=\"form__field\">\r\n              <label for=\"alias-name\">\r\n                {{ 'EDIT_ALIAS.NAME.LABEL' | translate }}\r\n              </label>\r\n              <input\r\n                [value]=\"alias.name\"\r\n                class=\"form__field--input\"\r\n                id=\"alias-name\"\r\n                placeholder=\"{{ 'EDIT_ALIAS.NAME.PLACEHOLDER' | translate }}\"\r\n                readonly\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form__field textarea\">\r\n              <label for=\"alias-comment\">\r\n                {{ 'EDIT_ALIAS.COMMENT.LABEL' | translate }}\r\n              </label>\r\n              <textarea\r\n                (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                [(ngModel)]=\"alias.comment\"\r\n                [maxlength]=\"variablesService.maxCommentLength + ''\"\r\n                [ngModelOptions]=\"{ standalone: true }\"\r\n                id=\"alias-comment\"\r\n                placeholder=\"{{ 'EDIT_ALIAS.COMMENT.PLACEHOLDER' | translate }}\"\r\n              >\r\n              </textarea>\r\n              <div\r\n                *ngIf=\"alias.comment.length > 0 && notEnoughMoney\"\r\n                class=\"error\"\r\n              >\r\n                {{ 'EDIT_ALIAS.FORM_ERRORS.NO_MONEY' | translate }}\r\n              </div>\r\n              <div\r\n                *ngIf=\"\r\n                  alias.comment.length >= variablesService.maxCommentLength\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                {{ 'EDIT_ALIAS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"alias-cost mb-2\">\r\n              {{\r\n                'EDIT_ALIAS.COST'\r\n                  | translate\r\n                    : {\r\n                        value: variablesService.default_fee,\r\n                        currency: variablesService.defaultCurrency\r\n                      }\r\n              }}\r\n            </div>\r\n\r\n            <button\r\n              (click)=\"updateAlias()\"\r\n              [disabled]=\"\r\n                notEnoughMoney ||\r\n                oldAliasComment === alias.comment ||\r\n                alias.comment.length > variablesService.maxCommentLength\r\n              \"\r\n              class=\"primary big w-100\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'EDIT_ALIAS.BUTTON_EDIT' | translate }}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class EditAliasComponent implements OnInit {\r\n  wallet: Wallet;\r\n\r\n  alias: any;\r\n\r\n  oldAliasComment: string;\r\n\r\n  notEnoughMoney: boolean;\r\n\r\n  requestProcessing = false;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.wallet = this.variablesService.currentWallet;\r\n    const alias = this.backend.getWalletAlias(this.wallet.address);\r\n    this.alias = {\r\n      name: alias.name,\r\n      address: alias.address,\r\n      comment: alias.comment,\r\n    };\r\n    this.oldAliasComment = alias.comment;\r\n    const balance = new BigNumber(\r\n      this.wallet.getBalanceByTicker('ZANO')?.unlocked || 0\r\n    );\r\n    this.notEnoughMoney = balance.isLessThan(\r\n      this.variablesService.default_fee_big\r\n    );\r\n  }\r\n\r\n  updateAlias(): void {\r\n    if (\r\n      this.requestProcessing ||\r\n      this.notEnoughMoney ||\r\n      this.oldAliasComment === this.alias.comment ||\r\n      this.alias.comment.length > this.variablesService.maxCommentLength\r\n    ) {\r\n      return;\r\n    }\r\n    this.requestProcessing = true;\r\n    this.backend.updateAlias(\r\n      this.wallet.wallet_id,\r\n      this.alias,\r\n      this.variablesService.default_fee,\r\n      status => {\r\n        if (status) {\r\n          this.modalService.prepareModal('success', '');\r\n          this.wallet.alias['comment'] = this.alias.comment;\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n        }\r\n        this.requestProcessing = false;\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Component, NgZone } from '@angular/core';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { Contact } from '@api/models/contact.model';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { Papa } from 'ngx-papaparse';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-export-import',\r\n  template: `\r\n    <div class=\"page-container\">\r\n      <div class=\"toolbar mb-2\">\r\n        <div class=\"left\">\r\n          <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n            <i class=\"icon dropdown-arrow-left\"></i>\r\n          </button>\r\n          <h1>{{ 'CONTACTS.IMPORT_EXPORT' | translate }}</h1>\r\n        </div>\r\n        <div class=\"right\"></div>\r\n      </div>\r\n\r\n      <div class=\"page-content\">\r\n        <div class=\"scrolled-content\">\r\n          <div class=\"controls flex\">\r\n            <button\r\n              (click)=\"import()\"\r\n              class=\"primary big max-w-19-rem w-100 mr-1\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'CONTACTS.IMPORT' | translate }}\r\n            </button>\r\n            <button\r\n              (click)=\"export()\"\r\n              class=\"primary big max-w-19-rem w-100\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'CONTACTS.EXPORT' | translate }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    // language=scss\r\n    `\r\n      :host {\r\n        width: 100%;\r\n      }\r\n\r\n      .head {\r\n        justify-content: flex-end;\r\n      }\r\n\r\n      .contacts-title {\r\n        font-size: 1.7rem;\r\n        margin-bottom: 1rem;\r\n      }\r\n\r\n      .btn-wrapper {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        margin: 0 -0.5rem;\r\n        padding: 1.5rem 0;\r\n\r\n        button {\r\n          flex: 1 0 auto;\r\n          margin: 0 0.5rem;\r\n        }\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class ExportImportComponent {\r\n  constructor(\r\n    private variablesService: VariablesService,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private papa: Papa,\r\n    private translate: TranslateService,\r\n    private router: Router,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  import(): void {\r\n    this.backend.openFileDialog(\r\n      '',\r\n      '*',\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (file_status) {\r\n          this.variablesService.settings.default_path = file_data.path.substr(\r\n            0,\r\n            file_data.path.lastIndexOf('/')\r\n          );\r\n          if (this.isValid(file_data.path)) {\r\n            this.backend.loadFile(file_data.path, (status, data) => {\r\n              if (!status) {\r\n                this.modalService.prepareModal(\r\n                  'error',\r\n                  'CONTACTS.ERROR_IMPORT_EMPTY'\r\n                );\r\n              } else {\r\n                const options = {\r\n                  header: true,\r\n                };\r\n                const elements = this.papa.parse(data, options);\r\n                const isArray = Array.isArray(elements.data);\r\n                if (\r\n                  isArray &&\r\n                  elements.data.length !== 0 &&\r\n                  elements.errors.length === 0\r\n                ) {\r\n                  if (this.variablesService.contacts.length === 0) {\r\n                    elements.data.forEach(element => {\r\n                      this.variablesService.contacts.push(element);\r\n                    });\r\n                  } else {\r\n                    elements.data.forEach(element => {\r\n                      const indexName =\r\n                        this.variablesService.contacts.findIndex(\r\n                          contact => contact.name === element.name\r\n                        );\r\n                      const indexAddress =\r\n                        this.variablesService.contacts.findIndex(\r\n                          contact => contact.address === element.address\r\n                        );\r\n                      if (indexAddress === -1 && indexName === -1) {\r\n                        this.variablesService.contacts.push(element);\r\n                      }\r\n                      if (indexName !== -1 && indexAddress === -1) {\r\n                        this.variablesService.contacts.push({\r\n                          name: `${(element.name as string) || '---'} ${\r\n                            this.translate.instant('CONTACTS.COPY') as string\r\n                          }`,\r\n                          address: element.address,\r\n                          notes: element.notes,\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                  this.backend.getContactAlias();\r\n                  this.ngZone.run(() => {\r\n                    this.router.navigate(['/contacts']);\r\n                  });\r\n                }\r\n                if (elements.errors.length > 0) {\r\n                  this.modalService.prepareModal(\r\n                    'error',\r\n                    'CONTACTS.ERROR_IMPORT'\r\n                  );\r\n                  console.log(elements.errors);\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            this.modalService.prepareModal('error', 'CONTACTS.ERROR_TYPE_FILE');\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  export(): void {\r\n    const contacts: Array<Contact> = [];\r\n    this.variablesService.contacts.forEach(contact => {\r\n      delete contact.alias;\r\n      contacts.push(contact);\r\n    });\r\n\r\n    this.backend.saveFileDialog(\r\n      '',\r\n      '*',\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (\r\n          this.variablesService.contacts.length === 0 &&\r\n          !(file_data.error_code === 'CANCELED')\r\n        ) {\r\n          this.modalService.prepareModal('error', 'CONTACTS.ERROR_EMPTY_LIST');\r\n        }\r\n        const path = this.isValid(file_data.path)\r\n          ? file_data.path\r\n          : `${(file_data.path as string) || 'base-name'}.csv`;\r\n        if (\r\n          file_status &&\r\n          this.isValid(path) &&\r\n          this.variablesService.contacts.length > 0\r\n        ) {\r\n          this.backend.storeFile(path, this.papa.unparse(contacts));\r\n        }\r\n        if (!(file_data.error_code === 'CANCELED') && !this.isValid(path)) {\r\n          this.modalService.prepareModal('error', 'CONTACTS.ERROR_EXPORT');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  isValid(file): boolean {\r\n    return file.endsWith('.csv');\r\n  }\r\n}\r\n","import { Component, inject, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { Validators, ValidationErrors, FormBuilder } from '@angular/forms';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { regExpPassword, ZanoValidators } from '@parts/utils/zano-validators';\r\nimport { WalletsService } from '@parts/services/wallets.service';\r\n\r\n@Component({\r\n  selector: 'app-open-wallet',\r\n  template: `\r\n    <div class=\"page-container\">\r\n      <div class=\"toolbar mb-2\">\r\n        <div class=\"left\">\r\n          <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n            <i class=\"icon dropdown-arrow-left\"></i>\r\n          </button>\r\n          <h1>{{ 'BREADCRUMBS.OPEN_WALLET' | translate }}</h1>\r\n        </div>\r\n        <div class=\"right\"></div>\r\n      </div>\r\n\r\n      <div class=\"page-content\">\r\n        <div class=\"breadcrumbs mb-2\">\r\n          <div class=\"breadcrumb\">\r\n            <a [routerLink]=\"['/add-wallet']\">{{\r\n              'BREADCRUMBS.ADD_WALLET' | translate\r\n            }}</a>\r\n          </div>\r\n          <div class=\"breadcrumb\">\r\n            <span>{{ 'BREADCRUMBS.OPEN_WALLET' | translate }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"scrolled-content\">\r\n          <form [formGroup]=\"openForm\" class=\"form\">\r\n            <div class=\"form__field\">\r\n              <label for=\"wallet-name\">{{\r\n                'OPEN_WALLET.NAME' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                [maxLength]=\"variablesService.maxWalletNameLength\"\r\n                [placeholder]=\"\r\n                  'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\r\n                \"\r\n                class=\"form__field--input\"\r\n                formControlName=\"name\"\r\n                id=\"wallet-name\"\r\n                type=\"text\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  openForm.controls['name'].invalid &&\r\n                  (openForm.controls['name'].dirty ||\r\n                    openForm.controls['name'].touched)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div *ngIf=\"openForm.controls['name'].errors['duplicate']\">\r\n                  {{ 'OPEN_WALLET.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n                </div>\r\n                <div *ngIf=\"openForm.controls['name'].errors['required']\">\r\n                  {{ 'OPEN_WALLET.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n                </div>\r\n              </div>\r\n              <div\r\n                *ngIf=\"\r\n                  openForm.get('name').value.length >=\r\n                  variablesService.maxWalletNameLength\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                {{ 'OPEN_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field\">\r\n              <label for=\"wallet-password\">{{\r\n                'OPEN_WALLET.PASS' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                class=\"form__field--input\"\r\n                formControlName=\"password\"\r\n                id=\"wallet-password\"\r\n                placeholder=\"{{ 'PLACEHOLDERS.PASS_PLACEHOLDER' | translate }}\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  openForm.controls['password'].invalid &&\r\n                  (openForm.controls['password'].dirty ||\r\n                    openForm.controls['password'].touched)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                {{\r\n                  openForm.controls['password']?.errors['wrong_password']?.text\r\n                }}\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              (click)=\"openWallet()\"\r\n              [disabled]=\"!openForm.valid\"\r\n              class=\"primary big max-w-19-rem w-100\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'OPEN_WALLET.BUTTON' | translate }}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class OpenWalletComponent implements OnInit, OnDestroy {\r\n  fb = inject(FormBuilder);\r\n\r\n  filePath: string;\r\n\r\n  openForm = this.fb.group({\r\n    name: this.fb.nonNullable.control('', [\r\n      Validators.required,\r\n      ZanoValidators.duplicate(this.variablesService.walletNamesForComparisons),\r\n    ]),\r\n    password: this.fb.nonNullable.control('', [\r\n      Validators.pattern(regExpPassword),\r\n    ]),\r\n  });\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public walletsService: WalletsService,\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.route.queryParams.pipe(takeUntil(this.destroy$)).subscribe({\r\n      next: params => {\r\n        if (params.path) {\r\n          this.filePath = params.path;\r\n          let filename = '';\r\n          if (params.path.lastIndexOf('.') === -1) {\r\n            filename = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n          } else {\r\n            filename = params.path.substr(\r\n              params.path.lastIndexOf('/') + 1,\r\n              params.path.lastIndexOf('.') - 1 - params.path.lastIndexOf('/')\r\n            );\r\n          }\r\n          if (filename.length > 25) {\r\n            filename = filename.slice(0, 25);\r\n          }\r\n          this.openForm.get('name').setValue(filename);\r\n          this.openForm.get('name').markAsTouched();\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  openWallet(): void {\r\n    if (\r\n      this.openForm.valid &&\r\n      this.openForm.get('name').value.length <=\r\n        this.variablesService.maxWalletNameLength\r\n    ) {\r\n      this.backend.openWallet(\r\n        this.filePath,\r\n        this.openForm.get('password').value,\r\n        this.variablesService.count,\r\n        false,\r\n        (open_status, open_data, open_error) => {\r\n          console.log('open_data', open_data);\r\n          if (open_error === 'WRONG_PASSWORD') {\r\n            this.ngZone.run(() => {\r\n              this.openForm.get('password').setErrors({\r\n                wrong_password: {\r\n                  text: 'Wrong password',\r\n                },\r\n              } as ValidationErrors);\r\n            });\r\n          }\r\n          if (open_error && open_error === 'FILE_NOT_FOUND') {\r\n            let error_translate = this.translate.instant(\r\n              'OPEN_WALLET.FILE_NOT_FOUND1'\r\n            );\r\n            error_translate += ':<br>' + this.filePath;\r\n            error_translate += this.translate.instant(\r\n              'OPEN_WALLET.FILE_NOT_FOUND2'\r\n            );\r\n            this.modalService.prepareModal('error', error_translate);\r\n          } else {\r\n            if (open_status || open_error === 'FILE_RESTORED') {\r\n              let exists = false;\r\n              this.variablesService.wallets.forEach(wallet => {\r\n                if (wallet.address === open_data['wi'].address) {\r\n                  exists = true;\r\n                }\r\n              });\r\n\r\n              if (exists) {\r\n                this.modalService.prepareModal(\r\n                  'error',\r\n                  'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN'\r\n                );\r\n                this.backend.closeWallet(open_data.wallet_id, () => {\r\n                  this.ngZone.run(() => {\r\n                    this.router.navigate(['/']);\r\n                  });\r\n                });\r\n              } else {\r\n                const new_wallet = new Wallet(\r\n                  open_data.wallet_id,\r\n                  this.openForm.get('name').value,\r\n                  this.openForm.get('password').value,\r\n                  open_data['wi'].path,\r\n                  open_data['wi'].address,\r\n                  open_data['wi'].balance,\r\n                  open_data['wi'].unlocked_balance,\r\n                  open_data['wi'].mined_total,\r\n                  open_data['wi'].tracking_hey\r\n                );\r\n                new_wallet.alias = this.backend.getWalletAlias(\r\n                  new_wallet.address\r\n                );\r\n                new_wallet.currentPage = 1;\r\n                new_wallet.open_from_exist = true;\r\n                new_wallet.exclude_mining_txs = false;\r\n                new_wallet.is_auditable = open_data['wi'].is_auditable;\r\n                new_wallet.is_watch_only = open_data['wi'].is_watch_only;\r\n                if (\r\n                  open_data.recent_history &&\r\n                  open_data.recent_history.history\r\n                ) {\r\n                  new_wallet.total_history_item =\r\n                    open_data.recent_history.total_history_items;\r\n                  new_wallet.totalPages = Math.ceil(\r\n                    open_data.recent_history.total_history_items /\r\n                      this.variablesService.count\r\n                  );\r\n                  new_wallet.totalPages > this.variablesService.maxPages\r\n                    ? (new_wallet.pages = new Array(5)\r\n                        .fill(1)\r\n                        .map((value, index) => value + index))\r\n                    : (new_wallet.pages = new Array(new_wallet.totalPages)\r\n                        .fill(1)\r\n                        .map((value, index) => value + index));\r\n                  new_wallet.prepareHistory(open_data.recent_history.history);\r\n                } else {\r\n                  new_wallet.total_history_item = 0;\r\n                  new_wallet.pages = new Array(1).fill(1);\r\n                  new_wallet.totalPages = 1;\r\n                }\r\n                this.backend.getContracts(\r\n                  open_data.wallet_id,\r\n                  (contracts_status, contracts_data) => {\r\n                    if (\r\n                      contracts_status &&\r\n                      hasOwnProperty(contracts_data, 'contracts')\r\n                    ) {\r\n                      this.ngZone.run(() => {\r\n                        new_wallet.prepareContractsAfterOpen(\r\n                          contracts_data.contracts,\r\n                          this.variablesService.exp_med_ts,\r\n                          this.variablesService.height_app,\r\n                          this.variablesService.settings.viewedContracts,\r\n                          this.variablesService.settings.notViewedContracts\r\n                        );\r\n                      });\r\n                    }\r\n                  }\r\n                );\r\n                this.walletsService.addWallet(new_wallet);\r\n                this.backend.runWallet(\r\n                  open_data.wallet_id,\r\n                  (run_status, run_data) => {\r\n                    if (run_status) {\r\n                      if (this.variablesService.appPass) {\r\n                        this.backend.storeSecureAppData();\r\n                      }\r\n                      this.ngZone.run(() => {\r\n                        this.variablesService.setCurrentWallet(\r\n                          open_data.wallet_id\r\n                        );\r\n                        this.router.navigate(['/wallet/']);\r\n                      });\r\n                    } else {\r\n                      console.log(run_data['error_code']);\r\n                    }\r\n                  }\r\n                );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { RouterModule, Routes } from '@angular/router';\r\nimport { paths } from './paths';\r\nimport { WithSidebarLayoutComponent } from '../layouts/with-sidebar-layout/with-sidebar-layout.component';\r\nimport { AddWalletComponent } from './add-wallet/add-wallet.component';\r\nimport { WalletDetailsComponent } from './wallet-details/wallet-details.component';\r\nimport { FullLayoutComponent } from '../layouts/full-layout/full-layout.component';\r\nimport { LoginComponent } from './auth/login/login.component';\r\nimport { CreateWalletComponent } from './create-wallet/create-wallet.component';\r\nimport { OpenWalletComponent } from './open-wallet/open-wallet.component';\r\nimport { RestoreWalletComponent } from './restore-wallet/restore-wallet.component';\r\nimport { SeedPhraseComponent } from './seed-phrase/seed-phrase.component';\r\nimport { AssignAliasComponent } from './assign-alias/assign-alias.component';\r\nimport { EditAliasComponent } from './edit-alias/edit-alias.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { DeeplinkComponent } from './deeplink/deeplink.component';\r\nimport { NgModule } from '@angular/core';\r\nimport { ExportImportComponent } from './export-import/export-import.component';\r\nimport { TransferAliasComponent } from './transfer-alias/transfer-alias.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: paths.addWallet,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: AddWalletComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.details,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: WalletDetailsComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.login,\r\n    component: FullLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: LoginComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.create,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: CreateWalletComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.open,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: OpenWalletComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.restore,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: RestoreWalletComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.seedPhrase,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: SeedPhraseComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.assignAlias,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: AssignAliasComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.editAlias,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: EditAliasComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.transferAlias,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: TransferAliasComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.settings,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: SettingsComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.import,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ExportImportComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.deeplink,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: DeeplinkComponent,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: paths.uiKit,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        loadComponent: () =>\r\n          import('./ui-kit/ui-kit.component').then(c => c.UiKitComponent),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: paths.addWallet,\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PagesRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AuthModule } from './auth/auth.module';\r\nimport { WalletModule } from './wallet/wallet.module';\r\nimport { PagesRoutingModule } from './pages-routing.module';\r\nimport { LoginComponent } from './auth/login/login.component';\r\nimport { SettingsComponent } from './settings/settings.component';\r\nimport { AddWalletComponent } from './add-wallet/add-wallet.component';\r\nimport { CreateWalletComponent } from './create-wallet/create-wallet.component';\r\nimport { OpenWalletComponent } from './open-wallet/open-wallet.component';\r\nimport { RestoreWalletComponent } from './restore-wallet/restore-wallet.component';\r\nimport { SeedPhraseComponent } from './seed-phrase/seed-phrase.component';\r\nimport { AssignAliasComponent } from './assign-alias/assign-alias.component';\r\nimport { EditAliasComponent } from './edit-alias/edit-alias.component';\r\nimport { PurchaseComponent } from './wallet/tabs/contracts/purchase/purchase.component';\r\nimport { ModalContainerComponent } from '@parts/modals/modal-container/modal-container.component';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { DisablePriceFetchModule, DefaultImgModule } from '@parts/directives';\r\nimport { TooltipModule } from '@parts/directives/tooltip/tooltip.module';\r\nimport { ConfirmModalModule } from '@parts/modals/confirm-modal/confirm-modal.module';\r\nimport { DeeplinkModule } from './deeplink/deeplink.module';\r\nimport { FullLayoutModule } from '../layouts/full-layout/full-layout.module';\r\nimport { WithSidebarLayoutModule } from '../layouts/with-sidebar-layout/with-sidebar-layout.module';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { TransferAliasComponent } from './transfer-alias/transfer-alias.component';\r\nimport {\r\n  ContractStatusMessagesPipeModule,\r\n  ContractTimeLeftPipeModule,\r\n  HistoryTypeMessagesPipeModule,\r\n  IntToMoneyPipeModule,\r\n  IsAvailableAliasNamePipeModule,\r\n  MoneyToIntPipeModule,\r\n  SafeHtmlPipeModule,\r\n  ShortStringPipeModule,\r\n} from '@parts/pipes';\r\nimport { InputValidateModule } from '@parts/directives/input-validate';\r\nimport { InputDisableSelectionModule } from '@parts/directives/input-disable-selection';\r\nimport { BackButtonModule } from '@parts/directives/back-button/back-button.module';\r\nimport { UiKitComponent } from './ui-kit/ui-kit.component';\r\nimport { CheckboxComponent } from '@parts/components/checkbox.component';\r\nimport { CopyButtonComponent } from '@parts/components/copy-button.component';\r\nimport { StakingSwitchComponent } from '@parts/components/staking-switch.component';\r\nimport { SwitchComponent } from '@parts/components/switch.component';\r\nimport { SynchronizationStatusComponent } from '@parts/components/synchronization-status.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginComponent,\r\n    SettingsComponent,\r\n    AddWalletComponent,\r\n    CreateWalletComponent,\r\n    OpenWalletComponent,\r\n    RestoreWalletComponent,\r\n    SeedPhraseComponent,\r\n    AssignAliasComponent,\r\n    EditAliasComponent,\r\n    TransferAliasComponent,\r\n    PurchaseComponent,\r\n    ModalContainerComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    PagesRoutingModule,\r\n    AuthModule,\r\n    WalletModule,\r\n    NgSelectModule,\r\n    TranslateModule.forChild(),\r\n    FlexLayoutModule,\r\n    DisablePriceFetchModule,\r\n    TooltipModule,\r\n    ConfirmModalModule,\r\n    DeeplinkModule,\r\n    FullLayoutModule,\r\n    WithSidebarLayoutModule,\r\n    OverlayModule,\r\n    DefaultImgModule,\r\n    ContractStatusMessagesPipeModule,\r\n    ContractTimeLeftPipeModule,\r\n    HistoryTypeMessagesPipeModule,\r\n    IntToMoneyPipeModule,\r\n    IsAvailableAliasNamePipeModule,\r\n    MoneyToIntPipeModule,\r\n    SafeHtmlPipeModule,\r\n    ShortStringPipeModule,\r\n    InputValidateModule,\r\n    InputDisableSelectionModule,\r\n    BackButtonModule,\r\n\r\n    // Standalone components\r\n    UiKitComponent,\r\n    CheckboxComponent,\r\n    CopyButtonComponent,\r\n    StakingSwitchComponent,\r\n    SwitchComponent,\r\n    SynchronizationStatusComponent,\r\n  ],\r\n})\r\nexport class PagesModule {}\r\n","export enum paths {\r\n  auth = 'auth',\r\n  addWallet = 'add-wallet',\r\n  login = 'login',\r\n  wallet = 'wallet',\r\n  create = 'create',\r\n  open = 'open',\r\n  restore = 'restore',\r\n  seedPhrase = 'seed-phrase',\r\n  details = 'details',\r\n  assignAlias = 'assign-alias',\r\n  editAlias = 'edit-alias',\r\n  transferAlias = 'transfer-alias',\r\n  settings = 'settings',\r\n  import = 'import',\r\n  deeplink = 'deeplink',\r\n  uiKit = 'ui-kit',\r\n}\r\n\r\nexport enum pathsChildrenAuth {\r\n  noWallet = 'no-wallet',\r\n}\r\n\r\nexport enum pathsChildrenWallet {\r\n  assets = 'assets',\r\n  send = 'send',\r\n  receive = 'receive',\r\n  history = 'history',\r\n  contracts = 'contracts',\r\n  staking = 'staking',\r\n}\r\n\r\nexport enum pathsChildrenContracts {\r\n  purchase = 'purchase',\r\n}\r\n","import { Component, inject, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { pairwise, startWith, takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { regExpPassword, ZanoValidators } from '@parts/utils/zano-validators';\r\nimport { WalletsService } from '@parts/services/wallets.service';\r\n\r\n@Component({\r\n  selector: 'app-restore-wallet',\r\n  template: `\r\n    <div class=\"page-container\">\r\n      <div class=\"toolbar mb-2\">\r\n        <div class=\"left\">\r\n          <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n            <i class=\"icon dropdown-arrow-left\"></i>\r\n          </button>\r\n          <h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n        </div>\r\n        <div class=\"right\"></div>\r\n      </div>\r\n\r\n      <div class=\"page-content\">\r\n        <div class=\"breadcrumbs mb-2\">\r\n          <div class=\"breadcrumb\">\r\n            <a [routerLink]=\"['/add-wallet']\">{{\r\n              'BREADCRUMBS.ADD_WALLET' | translate\r\n            }}</a>\r\n          </div>\r\n          <div class=\"breadcrumb\">\r\n            <span>{{ 'BREADCRUMBS.RESTORE_WALLET' | translate }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"scrolled-content\">\r\n          <form [formGroup]=\"restoreForm\" class=\"form\">\r\n            <div class=\"form__field\">\r\n              <label for=\"wallet-name\">{{\r\n                'RESTORE_WALLET.LABEL_NAME' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                [attr.readonly]=\"walletSaved ? '' : null\"\r\n                [maxLength]=\"variablesService.maxWalletNameLength\"\r\n                [placeholder]=\"\r\n                  'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\r\n                \"\r\n                class=\"form__field--input\"\r\n                formControlName=\"name\"\r\n                id=\"wallet-name\"\r\n                type=\"text\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  restoreForm.controls['name'].invalid &&\r\n                  (restoreForm.controls['name'].dirty ||\r\n                    restoreForm.controls['name'].touched)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div *ngIf=\"restoreForm.controls['name'].errors['duplicate']\">\r\n                  {{ 'RESTORE_WALLET.FORM_ERRORS.NAME_DUPLICATE' | translate }}\r\n                </div>\r\n                <div\r\n                  *ngIf=\"\r\n                    restoreForm.get('name').value.length >=\r\n                    variablesService.maxWalletNameLength\r\n                  \"\r\n                >\r\n                  {{ 'RESTORE_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n                </div>\r\n                <div\r\n                  *ngIf=\"\r\n                    restoreForm.get('name').value.length >=\r\n                    variablesService.maxWalletNameLength\r\n                  \"\r\n                >\r\n                  {{ 'RESTORE_WALLET.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n                </div>\r\n                <div *ngIf=\"restoreForm.controls['name'].errors['required']\">\r\n                  {{ 'RESTORE_WALLET.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field\">\r\n              <label for=\"wallet-password\">{{\r\n                'RESTORE_WALLET.PASS' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                [attr.readonly]=\"walletSaved ? '' : null\"\r\n                class=\"form__field--input\"\r\n                formControlName=\"password\"\r\n                id=\"wallet-password\"\r\n                placeholder=\"{{\r\n                  'PLACEHOLDERS.WALET_PASSWORD_PLACEHOLDER' | translate\r\n                }}\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  restoreForm.controls['password'].dirty &&\r\n                  restoreForm.controls['password'].errors\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div *ngIf=\"restoreForm.controls['password'].errors.pattern\">\r\n                  {{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field\">\r\n              <label for=\"confirm-wallet-password\">{{\r\n                'RESTORE_WALLET.CONFIRM' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                [attr.readonly]=\"walletSaved ? '' : null\"\r\n                [class.invalid]=\"\r\n                  restoreForm.controls['password'].dirty &&\r\n                  restoreForm.controls['confirm'].dirty &&\r\n                  restoreForm.errors &&\r\n                  restoreForm.get('confirm').value.length > 0\r\n                \"\r\n                class=\"form__field--input\"\r\n                formControlName=\"confirm\"\r\n                id=\"confirm-wallet-password\"\r\n                placeholder=\"{{\r\n                  'PLACEHOLDERS.CONFIRM_WALET_PASSWORD_PLACEHOLDER' | translate\r\n                }}\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  restoreForm.controls['password'].dirty &&\r\n                  restoreForm.controls['confirm'].dirty &&\r\n                  restoreForm.errors &&\r\n                  restoreForm.get('confirm').value.length > 0\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div *ngIf=\"restoreForm.errors['mismatch']\">\r\n                  {{\r\n                    'RESTORE_WALLET.FORM_ERRORS.CONFIRM_NOT_MATCH' | translate\r\n                  }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"form__field\">\r\n              <label for=\"phrase-key\">{{\r\n                'RESTORE_WALLET.LABEL_PHRASE_KEY' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                [attr.readonly]=\"walletSaved ? '' : null\"\r\n                [placeholder]=\"\r\n                  'PLACEHOLDERS.SEED_PHRASE_PLACEHOLDER' | translate\r\n                \"\r\n                class=\"form__field--input\"\r\n                formControlName=\"key\"\r\n                id=\"phrase-key\"\r\n                type=\"text\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  restoreForm.controls['key'].invalid &&\r\n                  (restoreForm.controls['key'].dirty ||\r\n                    restoreForm.controls['key'].touched)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div *ngIf=\"restoreForm.controls['key'].errors['required']\">\r\n                  {{ 'RESTORE_WALLET.FORM_ERRORS.KEY_REQUIRED' | translate }}\r\n                </div>\r\n              </div>\r\n              <div\r\n                *ngIf=\"\r\n                  (restoreForm.controls['key'].dirty ||\r\n                    restoreForm.controls['key'].touched) &&\r\n                  !this.seedPhraseInfo?.syntax_correct\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                {{ 'Seed phrase not valid' | translate }}\r\n              </div>\r\n            </div>\r\n            <div\r\n              *ngIf=\"\r\n                this.seedPhraseInfo?.syntax_correct &&\r\n                this.seedPhraseInfo?.require_password\r\n              \"\r\n              class=\"form__field\"\r\n            >\r\n              <label for=\"seed-password\">{{\r\n                'RESTORE_WALLET.SEED_PASSWORD' | translate\r\n              }}</label>\r\n              <input\r\n                class=\"form__field--input\"\r\n                formControlName=\"seedPassword\"\r\n                id=\"seed-password\"\r\n                placeholder=\"{{\r\n                  'PLACEHOLDERS.SEED_PHRASE_PLACEHOLDER' | translate\r\n                }}\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  (restoreForm.controls['seedPassword'].dirty ||\r\n                    restoreForm.controls['seedPassword'].touched) &&\r\n                  !this.seedPhraseInfo?.hash_sum_matched\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <span>{{\r\n                  'RESTORE_WALLET.FORM_ERRORS.INCORRECT_PASSWORD' | translate\r\n                }}</span>\r\n              </div>\r\n              <div\r\n                *ngIf=\"this.seedPhraseInfo?.hash_sum_matched\"\r\n                class=\"success\"\r\n              >\r\n                <span>{{ 'RESTORE_WALLET.OK' | translate }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              *ngIf=\"walletSaved\"\r\n              class=\"outline big w-100 mb-2\"\r\n              disabled\r\n              type=\"button\"\r\n            >\r\n              <i class=\"icon\"></i>\r\n              {{ walletSavedName }}\r\n            </button>\r\n            <button\r\n              (click)=\"saveWallet()\"\r\n              *ngIf=\"!walletSaved\"\r\n              [disabled]=\"\r\n                (!this.seedPhraseInfo?.syntax_correct ||\r\n                  !this.seedPhraseInfo?.require_password ||\r\n                  !this.seedPhraseInfo?.hash_sum_matched) &&\r\n                (!this.seedPhraseInfo?.syntax_correct ||\r\n                  this.seedPhraseInfo?.require_password)\r\n              \"\r\n              class=\"outline big w-100 mb-2\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'RESTORE_WALLET.BUTTON_SELECT' | translate }}\r\n            </button>\r\n            <button\r\n              (click)=\"createWallet()\"\r\n              [disabled]=\"!walletSaved\"\r\n              class=\"primary big w-100 mb-2\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'RESTORE_WALLET.BUTTON_CREATE' | translate }}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class RestoreWalletComponent implements OnInit, OnDestroy {\r\n  fb = inject(FormBuilder);\r\n\r\n  restoreForm = this.fb.group(\r\n    {\r\n      name: this.fb.nonNullable.control('', [\r\n        Validators.required,\r\n        ZanoValidators.duplicate(\r\n          this.variablesService.walletNamesForComparisons\r\n        ),\r\n      ]),\r\n      key: this.fb.nonNullable.control('', Validators.required),\r\n      password: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n      confirm: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n      seedPassword: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n    },\r\n    {\r\n      validators: [ZanoValidators.formMatch('password', 'confirm')],\r\n    }\r\n  );\r\n\r\n  wallet = {\r\n    id: '',\r\n  };\r\n\r\n  walletSaved = false;\r\n\r\n  walletSavedName = '';\r\n\r\n  progressWidth = '9rem';\r\n\r\n  seedPhraseInfo = null;\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public walletsService: WalletsService,\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.checkValidSeedPhrasePassword();\r\n    this.changeDetectionSeedPhrasePassword();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  changeDetectionSeedPhrasePassword(): void {\r\n    this.restoreForm.controls.seedPassword.valueChanges\r\n      .pipe(startWith(null), pairwise(), takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: () => {\r\n          this.checkValidSeedPhrasePassword();\r\n        },\r\n      });\r\n    this.restoreForm.controls.key.valueChanges\r\n      .pipe(startWith(null), pairwise(), takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: () => {\r\n          this.checkValidSeedPhrasePassword();\r\n        },\r\n      });\r\n  }\r\n\r\n  checkValidSeedPhrasePassword(): void {\r\n    const seed_password = this.restoreForm.controls.seedPassword.value;\r\n    const seed_phrase = this.restoreForm.controls.key.value;\r\n    this.backend.getSeedPhraseInfo(\r\n      { seed_phrase, seed_password },\r\n      (status, data) => {\r\n        this.ngZone.run(() => {\r\n          this.seedPhraseInfo = data;\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  createWallet(): void {\r\n    this.ngZone.run(() => {\r\n      this.progressWidth = '100%';\r\n      this.runWallet();\r\n    });\r\n  }\r\n\r\n  saveWallet(): void {\r\n    if (\r\n      this.restoreForm.valid &&\r\n      this.restoreForm.get('name').value.length <=\r\n        this.variablesService.maxWalletNameLength\r\n    ) {\r\n      this.backend.isValidRestoreWalletText(\r\n        {\r\n          seed_phrase: this.restoreForm.get('key').value,\r\n          seed_password: this.restoreForm.get('seedPassword').value,\r\n        },\r\n        (valid_status, valid_data) => {\r\n          if (valid_data !== 'TRUE') {\r\n            this.ngZone.run(() => {\r\n              this.restoreForm.get('key').setErrors({ key_not_valid: true });\r\n            });\r\n          } else {\r\n            this.backend.saveFileDialog(\r\n              this.translate.instant('RESTORE_WALLET.CHOOSE_PATH'),\r\n              '*',\r\n              this.variablesService.settings.default_path,\r\n              (save_status, save_data) => {\r\n                if (save_status) {\r\n                  this.variablesService.settings.default_path =\r\n                    save_data.path.substr(0, save_data.path.lastIndexOf('/'));\r\n                  this.walletSavedName = save_data.path.substr(\r\n                    save_data.path.lastIndexOf('/') + 1,\r\n                    save_data.path.length - 1\r\n                  );\r\n                  this.backend.restoreWallet(\r\n                    save_data.path,\r\n                    this.restoreForm.get('password').value,\r\n                    this.restoreForm.get('key').value,\r\n                    this.restoreForm.get('seedPassword').value,\r\n                    (restore_status, restore_data) => {\r\n                      if (restore_status) {\r\n                        this.wallet.id = restore_data.wallet_id;\r\n                        this.variablesService.opening_wallet = new Wallet(\r\n                          restore_data.wallet_id,\r\n                          this.restoreForm.get('name').value,\r\n                          this.restoreForm.get('password').value,\r\n                          restore_data['wi'].path,\r\n                          restore_data['wi'].address,\r\n                          restore_data['wi'].balance,\r\n                          restore_data['wi'].unlocked_balance,\r\n                          restore_data['wi'].mined_total,\r\n                          restore_data['wi'].tracking_hey\r\n                        );\r\n                        this.variablesService.opening_wallet.is_auditable =\r\n                          restore_data['wi'].is_auditable;\r\n                        this.variablesService.opening_wallet.is_watch_only =\r\n                          restore_data['wi'].is_watch_only;\r\n                        this.variablesService.opening_wallet.currentPage = 1;\r\n                        this.variablesService.opening_wallet.alias =\r\n                          this.backend.getWalletAlias(\r\n                            this.variablesService.opening_wallet.address\r\n                          );\r\n                        this.variablesService.opening_wallet.pages = new Array(\r\n                          1\r\n                        ).fill(1);\r\n                        this.variablesService.opening_wallet.totalPages = 1;\r\n                        this.variablesService.opening_wallet.currentPage = 1;\r\n                        this.variablesService.opening_wallet.total_history_item = 0;\r\n                        this.variablesService.opening_wallet.restore = true;\r\n                        if (\r\n                          restore_data.recent_history &&\r\n                          restore_data.recent_history.history\r\n                        ) {\r\n                          this.variablesService.opening_wallet.totalPages =\r\n                            Math.ceil(\r\n                              restore_data.recent_history.total_history_items /\r\n                                this.variablesService.count\r\n                            );\r\n                          this.variablesService.opening_wallet.totalPages >\r\n                          this.variablesService.maxPages\r\n                            ? (this.variablesService.opening_wallet.pages =\r\n                                new Array(5)\r\n                                  .fill(1)\r\n                                  .map((value, index) => value + index))\r\n                            : (this.variablesService.opening_wallet.pages =\r\n                                new Array(\r\n                                  this.variablesService.opening_wallet.totalPages\r\n                                )\r\n                                  .fill(1)\r\n                                  .map((value, index) => value + index));\r\n                          this.variablesService.opening_wallet.prepareHistory(\r\n                            restore_data.recent_history.history\r\n                          );\r\n                        }\r\n                        this.backend.getContracts(\r\n                          this.variablesService.opening_wallet.wallet_id,\r\n                          (contracts_status, contracts_data) => {\r\n                            if (\r\n                              contracts_status &&\r\n                              hasOwnProperty(contracts_data, 'contracts')\r\n                            ) {\r\n                              this.ngZone.run(() => {\r\n                                this.variablesService.opening_wallet.prepareContractsAfterOpen(\r\n                                  contracts_data.contracts,\r\n                                  this.variablesService.exp_med_ts,\r\n                                  this.variablesService.height_app,\r\n                                  this.variablesService.settings\r\n                                    .viewedContracts,\r\n                                  this.variablesService.settings\r\n                                    .notViewedContracts\r\n                                );\r\n                              });\r\n                            }\r\n                          }\r\n                        );\r\n                        this.ngZone.run(() => {\r\n                          this.walletSaved = true;\r\n                          this.progressWidth = '50%';\r\n                        });\r\n                      } else {\r\n                        this.modalService.prepareModal(\r\n                          'error',\r\n                          'RESTORE_WALLET.NOT_CORRECT_FILE_OR_PASSWORD'\r\n                        );\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  runWallet(): void {\r\n    // add flag when wallet was restored form seed\r\n    this.variablesService.after_sync_request[this.wallet.id] = true;\r\n    let exists = false;\r\n    this.variablesService.wallets.forEach(wallet => {\r\n      if (wallet.address === this.variablesService.opening_wallet.address) {\r\n        exists = true;\r\n      }\r\n    });\r\n    if (!exists) {\r\n      this.backend.runWallet(this.wallet.id, (run_status, run_data) => {\r\n        if (run_status) {\r\n          this.walletsService.addWallet(this.variablesService.opening_wallet);\r\n          if (this.variablesService.appPass) {\r\n            this.backend.storeSecureAppData();\r\n          }\r\n          this.ngZone.run(() => {\r\n            this.variablesService.setCurrentWallet(this.wallet.id);\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n        } else {\r\n          console.log(run_data['error_code']);\r\n        }\r\n      });\r\n    } else {\r\n      this.variablesService.opening_wallet = null;\r\n      this.modalService.prepareModal(\r\n        'error',\r\n        'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN'\r\n      );\r\n      this.backend.closeWallet(this.wallet.id, () => {\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/']);\r\n        });\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Component, inject, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { regExpPassword, ZanoValidators } from '@parts/utils/zano-validators';\r\nimport { WalletsService } from '@parts/services/wallets.service';\r\n\r\n@Component({\r\n  selector: 'app-seed-phrase',\r\n  template: `\r\n    <div class=\"page-container\">\r\n      <div class=\"toolbar mb-2\">\r\n        <div class=\"left\">\r\n          <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n            <i class=\"icon dropdown-arrow-left\"></i>\r\n          </button>\r\n          <h1>{{ 'BREADCRUMBS.ADD_WALLET' | translate }}</h1>\r\n        </div>\r\n        <div class=\"right\"></div>\r\n      </div>\r\n\r\n      <div class=\"page-content\">\r\n        <div class=\"breadcrumbs mb-2\">\r\n          <div class=\"breadcrumb\">\r\n            <a [routerLink]=\"['/add-wallet']\">{{\r\n              'BREADCRUMBS.ADD_WALLET' | translate\r\n            }}</a>\r\n          </div>\r\n          <div class=\"breadcrumb\">\r\n            <span>{{ 'BREADCRUMBS.SAVE_PHRASE' | translate }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"scrolled-content\">\r\n          <div class=\"wrap-seed-phrase\" fxFlex=\"100\" fxLayout=\"column\">\r\n            <form [formGroup]=\"detailsForm\" class=\"form\">\r\n              <div class=\"form__field\">\r\n                <label>{{ 'WALLET_DETAILS.LABEL_NAME' | translate }}</label>\r\n                <input\r\n                  (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                  [maxLength]=\"variablesService.maxWalletNameLength\"\r\n                  [placeholder]=\"\r\n                    'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\r\n                  \"\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"name\"\r\n                  id=\"wallet-name\"\r\n                  readonly\r\n                  type=\"text\"\r\n                />\r\n                <div\r\n                  *ngIf=\"\r\n                    detailsForm.controls['name'].invalid &&\r\n                    (detailsForm.controls['name'].dirty ||\r\n                      detailsForm.controls['name'].touched)\r\n                  \"\r\n                  class=\"error\"\r\n                >\r\n                  <div *ngIf=\"detailsForm.controls['name'].errors['duplicate']\">\r\n                    {{\r\n                      'WALLET_DETAILS.FORM_ERRORS.NAME_DUPLICATE' | translate\r\n                    }}\r\n                  </div>\r\n                  <div\r\n                    *ngIf=\"\r\n                      detailsForm.get('name').value.length >=\r\n                      variablesService.maxWalletNameLength\r\n                    \"\r\n                  >\r\n                    {{ 'WALLET_DETAILS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n                  </div>\r\n                  <div *ngIf=\"detailsForm.controls['name'].errors['required']\">\r\n                    {{ 'WALLET_DETAILS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form__field\">\r\n                <label for=\"wallet-location\">{{\r\n                  'WALLET_DETAILS.LABEL_FILE_LOCATION' | translate\r\n                }}</label>\r\n                <input\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"path\"\r\n                  id=\"wallet-location\"\r\n                  readonly\r\n                  type=\"text\"\r\n                />\r\n              </div>\r\n            </form>\r\n\r\n            <ng-container *ngIf=\"!showSeed; else seedPhraseContent\">\r\n              <form\r\n                (ngSubmit)=\"onSubmitSeed()\"\r\n                [formGroup]=\"seedPhraseForm\"\r\n                class=\"form bg-light-blue-details p-2\"\r\n              >\r\n                <div class=\"form__field\">\r\n                  <label for=\"create-password\">{{\r\n                    'WALLET_DETAILS.CREATE_PASSWORD_SECURE' | translate\r\n                  }}</label>\r\n                  <input\r\n                    class=\"form__field--input\"\r\n                    formControlName=\"password\"\r\n                    id=\"create-password\"\r\n                    placeholder=\"{{\r\n                      'PLACEHOLDERS.PASSWORD_PLACEHOLDER' | translate\r\n                    }}\"\r\n                    type=\"password\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"form__field\">\r\n                  <label for=\"confirm-password\">{{\r\n                    'WALLET_DETAILS.FORM.CONFIRM_PASSWORD' | translate\r\n                  }}</label>\r\n                  <input\r\n                    [class.invalid]=\"\r\n                      seedPhraseForm.invalid &&\r\n                      seedPhraseForm.get('confirmPassword').value.length > 0\r\n                    \"\r\n                    class=\"form__field--input\"\r\n                    formControlName=\"confirmPassword\"\r\n                    id=\"confirm-password\"\r\n                    placeholder=\"{{\r\n                      'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate\r\n                    }}\"\r\n                    type=\"password\"\r\n                  />\r\n                  <div\r\n                    *ngIf=\"\r\n                      seedPhraseForm.invalid &&\r\n                      (seedPhraseForm.controls['confirmPassword'].dirty ||\r\n                        seedPhraseForm.controls['confirmPassword'].touched)\r\n                    \"\r\n                    class=\"error\"\r\n                  >\r\n                    <div\r\n                      *ngIf=\"\r\n                        seedPhraseForm.invalid &&\r\n                        seedPhraseForm.get('confirmPassword').value.length > 0\r\n                      \"\r\n                    >\r\n                      {{\r\n                        'WALLET_DETAILS.FORM_ERRORS.PASSWORDS_DONT_MATCH'\r\n                          | translate\r\n                      }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <button\r\n                  [disabled]=\"!seedPhraseForm.valid\"\r\n                  class=\"primary w-100 big mb-2\"\r\n                  type=\"submit\"\r\n                >\r\n                  <i class=\"icon check-shield mr-1\"></i>\r\n                  {{ 'WALLET_DETAILS.FORM.GENERATE_SECURE_SEED' | translate }}\r\n                </button>\r\n\r\n                <p class=\"text-align-center color-primary\">\r\n                  <i class=\"icon info-circle mr-1\"></i>\r\n                  {{\r\n                    'WALLET_DETAILS.FORM.SECURED_SEED_WILL_REQUIRE' | translate\r\n                  }}\r\n                </p>\r\n              </form>\r\n            </ng-container>\r\n\r\n            <ng-template #seedPhraseContent>\r\n              <div\r\n                class=\"seed-phrase bg-light-blue-details p-2 border-radius-0_8-rem\"\r\n              >\r\n                <div\r\n                  class=\"header mb-2\"\r\n                  fxLayout=\"row\"\r\n                  fxLayoutAlign=\"space-between center\"\r\n                >\r\n                  <div class=\"left\">\r\n                    <span>{{\r\n                      'WALLET_DETAILS.LABEL_SEED_PHRASE' | translate\r\n                    }}</span>\r\n                  </div>\r\n                  <div class=\"right\">\r\n                    <span\r\n                      *ngIf=\"\r\n                        seedPhraseForm.controls.password.value.length === 0\r\n                      \"\r\n                      class=\"status color-red\"\r\n                      fxLayout=\"row\"\r\n                      fxLayoutAlign=\"start center\"\r\n                    >\r\n                      {{ 'WALLET_DETAILS.SEED_IS_UNSECURED' | translate }}\r\n                      <i class=\"icon unsecured ml-1\"></i>\r\n                    </span>\r\n                    <span\r\n                      *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n                      class=\"status color-aqua\"\r\n                      fxLayout=\"row\"\r\n                      fxLayoutAlign=\"start center\"\r\n                    >\r\n                      {{ 'WALLET_DETAILS.SEED_IS_SECURED' | translate }}\r\n                      <i class=\"icon secured ml-1\"></i>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  (contextmenu)=\"\r\n                    variablesService.onContextMenuOnlyCopy($event, seedPhrase)\r\n                  \"\r\n                  class=\"content mb-1\"\r\n                  fxLayout=\"row wrap\"\r\n                >\r\n                  <ng-container\r\n                    *ngFor=\"\r\n                      let word of seedPhrase.split(' ');\r\n                      let index = index\r\n                    \"\r\n                  >\r\n                    <div\r\n                      class=\"item p-1 mr-1 mb-1 border-radius-0_8-rem\"\r\n                      fxLayout=\"row nowrap\"\r\n                      fxLayoutAlign=\"start center\"\r\n                    >\r\n                      <div\r\n                        class=\"number p-1 mr-1\"\r\n                        fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\"\r\n                      >\r\n                        {{ index + 1 }}\r\n                      </div>\r\n                      <span class=\"word\">{{ word }}</span>\r\n                    </div>\r\n                  </ng-container>\r\n                </div>\r\n                <div\r\n                  class=\"footer max-w-50-rem w-100\"\r\n                  fxLayout=\"column\"\r\n                  fxLayoutAlign=\"start center\"\r\n                >\r\n                  <div\r\n                    *ngIf=\"showSeed\"\r\n                    class=\"wrap-buttons w-100 mb-2\"\r\n                    fxLayout=\"row nowrap\"\r\n                  >\r\n                    <button\r\n                      (click)=\"runWallet()\"\r\n                      class=\"primary big w-100 mr-1\"\r\n                      type=\"button\"\r\n                    >\r\n                      {{ 'SEED_PHRASE.BUTTON_CREATE_ACCOUNT' | translate }}\r\n                    </button>\r\n                    <button\r\n                      (click)=\"copySeedPhrase()\"\r\n                      class=\"outline big w-100 ml-1\"\r\n                      type=\"button\"\r\n                    >\r\n                      <ng-container *ngIf=\"!seedPhraseCopied\">\r\n                        <i class=\"icon copy mr-1\"></i>\r\n                        {{ 'SEED_PHRASE.BUTTON_COPY' | translate }}\r\n                      </ng-container>\r\n                      <ng-container *ngIf=\"seedPhraseCopied\">\r\n                        <i class=\"icon check mr-1\"></i>\r\n                        {{ 'SEED_PHRASE.BUTTON_COPIED' | translate }}\r\n                      </ng-container>\r\n                    </button>\r\n                  </div>\r\n                  <p\r\n                    *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n                    class=\"text-align-center\"\r\n                  >\r\n                    <i class=\"icon info-circle mr-1\"></i>\r\n                    <span class=\"color-primary\">{{\r\n                      'WALLET_DETAILS.REMEMBER_YOU_WILL_REQUIRE' | translate\r\n                    }}</span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class SeedPhraseComponent implements OnInit, OnDestroy {\r\n  seedPhrase = '';\r\n\r\n  showSeed = false;\r\n\r\n  wallet_id: number;\r\n\r\n  seedPhraseCopied = false;\r\n\r\n  progressWidth = '66%';\r\n\r\n  fb = inject(FormBuilder);\r\n\r\n  detailsForm = this.fb.group({\r\n    name: this.fb.nonNullable.control('', [\r\n      ZanoValidators.duplicate(this.variablesService.walletNamesForComparisons),\r\n    ]),\r\n    path: this.fb.nonNullable.control(''),\r\n  });\r\n\r\n  seedPhraseForm = this.fb.group(\r\n    {\r\n      password: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n      confirmPassword: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n    },\r\n    {\r\n      validators: [ZanoValidators.formMatch('password', 'confirmPassword')],\r\n    }\r\n  );\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public walletsService: WalletsService,\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.showSeed = false;\r\n    this.getWalletId();\r\n    this.setWalletInfoNamePath();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  runWallet(): void {\r\n    let exists = false;\r\n    this.variablesService.wallets.forEach(wallet => {\r\n      if (wallet.address === this.variablesService.opening_wallet.address) {\r\n        exists = true;\r\n      }\r\n    });\r\n    if (!exists) {\r\n      this.backend.runWallet(this.wallet_id, (run_status, run_data) => {\r\n        if (run_status) {\r\n          this.walletsService.addWallet(this.variablesService.opening_wallet);\r\n          if (this.variablesService.appPass) {\r\n            this.backend.storeSecureAppData();\r\n          }\r\n          this.ngZone.run(() => {\r\n            this.variablesService.setCurrentWallet(this.wallet_id);\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n        } else {\r\n          console.log(run_data['error_code']);\r\n        }\r\n      });\r\n    } else {\r\n      this.variablesService.opening_wallet = null;\r\n      this.modalService.prepareModal(\r\n        'error',\r\n        'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN'\r\n      );\r\n      this.backend.closeWallet(this.wallet_id, () => {\r\n        this.ngZone.run(() => {\r\n          this.router.navigate(['/']);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  copySeedPhrase(): void {\r\n    this.backend.setClipboard(this.seedPhrase, () => {\r\n      this.ngZone.run(() => {\r\n        setTimeout(() => {\r\n          this.seedPhraseCopied = false;\r\n        }, 4000);\r\n        this.seedPhraseCopied = true;\r\n      });\r\n    });\r\n  }\r\n\r\n  showSeedPhrase(): void {\r\n    this.showSeed = true;\r\n    this.progressWidth = '100%';\r\n  }\r\n\r\n  onSubmitSeed(): void {\r\n    if (this.seedPhraseForm.valid) {\r\n      this.showSeedPhrase();\r\n      const wallet_id = this.wallet_id;\r\n      const seed_password = this.seedPhraseForm.controls.password.value;\r\n      this.backend.getSmartWalletInfo(\r\n        { wallet_id, seed_password },\r\n        (status, data) => {\r\n          if (hasOwnProperty(data, 'seed_phrase')) {\r\n            this.ngZone.run(() => {\r\n              this.seedPhrase = data['seed_phrase'].trim();\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  private setWalletInfoNamePath(): void {\r\n    this.detailsForm\r\n      .get('name')\r\n      .setValue(this.variablesService.opening_wallet.name);\r\n    this.detailsForm\r\n      .get('path')\r\n      .setValue(this.variablesService.opening_wallet.path);\r\n  }\r\n\r\n  private getWalletId(): void {\r\n    this.route.queryParams.pipe(takeUntil(this.destroy$)).subscribe({\r\n      next: params => {\r\n        if (params.wallet_id) {\r\n          this.wallet_id = params.wallet_id;\r\n        }\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { Component, inject, NgZone, OnInit, Renderer2 } from '@angular/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { scaleItems } from '@parts/data/scale-items';\r\nimport { regExpPassword, ZanoValidators } from '@parts/utils/zano-validators';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  template: `<div class=\"page-container\">\r\n    <div class=\"toolbar mb-2\">\r\n      <div class=\"left\">\r\n        <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n          <i class=\"icon dropdown-arrow-left\"></i>\r\n        </button>\r\n        <h1>{{ 'SETTINGS.TITLE' | translate }}</h1>\r\n      </div>\r\n      <div class=\"right\"></div>\r\n    </div>\r\n\r\n    <div class=\"page-content\">\r\n      <div class=\"scrolled-content\">\r\n        <div\r\n          class=\"settings\"\r\n          fxFlex=\"0 1 50rem\"\r\n          fxFlexFill\r\n          fxLayout=\"column\"\r\n          fxLayoutAlign=\"start stretch\"\r\n          fxLayoutGap=\"2rem\"\r\n        >\r\n          <div class=\"form__field\">\r\n            <label>{{ 'SETTINGS.LANGUAGE.TITLE' | translate }}</label>\r\n            <ng-select\r\n              (change)=\"onLanguageChange()\"\r\n              [(ngModel)]=\"variablesService.settings.language\"\r\n              [clearable]=\"false\"\r\n              [items]=\"languagesOptions\"\r\n              [searchable]=\"false\"\r\n              bindLabel=\"language\"\r\n              bindValue=\"name\"\r\n              class=\"with-circle\"\r\n            >\r\n              <ng-template let-item=\"item\" ng-label-tmp>\r\n                {{ item.language | translate }}\r\n              </ng-template>\r\n              <ng-template let-index=\"index\" let-item=\"item\" ng-option-tmp>\r\n                {{ item.language | translate }}\r\n              </ng-template>\r\n            </ng-select>\r\n          </div>\r\n\r\n          <div class=\"form__field\">\r\n            <label>{{ 'SETTINGS.APP_LOCK.TITLE' | translate }}</label>\r\n            <ng-select\r\n              (change)=\"onLockChange()\"\r\n              [(ngModel)]=\"variablesService.settings.appLockTime\"\r\n              [clearable]=\"false\"\r\n              [items]=\"appLockOptions\"\r\n              [searchable]=\"false\"\r\n              bindLabel=\"name\"\r\n              bindValue=\"id\"\r\n              class=\"with-circle\"\r\n            >\r\n              <ng-template let-item=\"item\" ng-label-tmp>\r\n                {{ item.name | translate }}\r\n              </ng-template>\r\n              <ng-template let-index=\"index\" let-item=\"item\" ng-option-tmp>\r\n                {{ item.name | translate }}\r\n              </ng-template>\r\n            </ng-select>\r\n          </div>\r\n\r\n          <div class=\"form__field\">\r\n            <label>{{ 'SETTINGS.SCALE.TITLE' | translate }}</label>\r\n            <ng-select\r\n              (change)=\"setScale()\"\r\n              [(ngModel)]=\"variablesService.settings.scale\"\r\n              [clearable]=\"false\"\r\n              [items]=\"appScaleOptions\"\r\n              [searchable]=\"false\"\r\n              bindLabel=\"name\"\r\n              bindValue=\"value\"\r\n              class=\"with-circle\"\r\n            >\r\n              <ng-template let-item=\"item\" ng-label-tmp>\r\n                {{ item.name | translate }}\r\n              </ng-template>\r\n              <ng-template let-index=\"index\" let-item=\"item\" ng-option-tmp>\r\n                {{ item.name | translate }}\r\n              </ng-template>\r\n            </ng-select>\r\n          </div>\r\n\r\n          <div class=\"form__field\">\r\n            <label>{{ 'SETTINGS.APP_LOG_TITLE' | translate }}</label>\r\n            <ng-select\r\n              (change)=\"onLogChange()\"\r\n              [(ngModel)]=\"variablesService.settings.appLog\"\r\n              [clearable]=\"false\"\r\n              [items]=\"appLogOptions\"\r\n              [searchable]=\"false\"\r\n              bindLabel=\"id\"\r\n              bindValue=\"id\"\r\n              class=\"with-circle\"\r\n            >\r\n            </ng-select>\r\n          </div>\r\n\r\n          <div class=\"form__field\">\r\n            <label>{{ 'SETTINGS.NOTIFICATIONS' | translate }}</label>\r\n            <app-switch\r\n              (emitChange)=\"toggleNotifications()\"\r\n              [value]=\"currentNotificationsState\"\r\n            ></app-switch>\r\n          </div>\r\n\r\n          <div class=\"form__field\">\r\n            <label>{{\r\n              'SETTINGS.USE_TOR_TO_RELAY_TRANSACTIONS' | translate\r\n            }}</label>\r\n            <app-switch\r\n              (emitChange)=\"toggleUseTor()\"\r\n              [value]=\"appUseTor\"\r\n            ></app-switch>\r\n          </div>\r\n\r\n          <form\r\n            (ngSubmit)=\"onSubmitChangePass()\"\r\n            [formGroup]=\"changeForm\"\r\n            class=\"form\"\r\n          >\r\n            <h4 class=\"master-password-title mb-2\">\r\n              {{ 'SETTINGS.MASTER_PASSWORD.TITLE' | translate }}\r\n            </h4>\r\n\r\n            <div *ngIf=\"variablesService.appPass\" class=\"form__field\">\r\n              <label for=\"old-password\">{{\r\n                'SETTINGS.MASTER_PASSWORD.OLD' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                [class.invalid]=\"\r\n                  changeForm.invalid &&\r\n                  changeForm.controls['password'].valid &&\r\n                  (changeForm.controls['password'].dirty ||\r\n                    changeForm.controls['password'].touched) &&\r\n                  changeForm.errors &&\r\n                  changeForm.errors['pass_mismatch'] &&\r\n                  changeForm.get('password').value.length > 0\r\n                \"\r\n                class=\"form__field--input\"\r\n                formControlName=\"password\"\r\n                id=\"old-password\"\r\n                placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_OLD' | translate }}\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  changeForm.invalid &&\r\n                  changeForm.controls['password'].valid &&\r\n                  (changeForm.controls['password'].dirty ||\r\n                    changeForm.controls['password'].touched) &&\r\n                  changeForm.errors &&\r\n                  changeForm.errors['pass_mismatch'] &&\r\n                  changeForm.get('password').value.length > 0\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                {{ 'SETTINGS.FORM_ERRORS.PASS_NOT_MATCH' | translate }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field\">\r\n              <label for=\"new-password\">{{\r\n                'SETTINGS.MASTER_PASSWORD.NEW' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                [class.invalid]=\"changeForm.controls['new_password'].errors\"\r\n                class=\"form__field--input\"\r\n                formControlName=\"new_password\"\r\n                id=\"new-password\"\r\n                placeholder=\"{{ 'PLACEHOLDERS.PLACEHOLDER_NEW' | translate }}\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  changeForm.controls['new_password'].dirty &&\r\n                  changeForm.controls['new_password'].errors\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div\r\n                  *ngIf=\"changeForm.controls['new_password'].errors?.pattern\"\r\n                >\r\n                  {{ 'ERRORS.WRONG_PASSWORD' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field\">\r\n              <label for=\"confirm-password\">{{\r\n                'SETTINGS.MASTER_PASSWORD.CONFIRM' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                [class.invalid]=\"\r\n                  changeForm.invalid &&\r\n                  (changeForm.controls['new_confirmation'].dirty ||\r\n                    changeForm.controls['new_confirmation'].touched) &&\r\n                  changeForm.errors &&\r\n                  changeForm.errors['mismatch'] &&\r\n                  changeForm.get('new_confirmation').value.length > 0\r\n                \"\r\n                class=\"form__field--input\"\r\n                formControlName=\"new_confirmation\"\r\n                id=\"confirm-password\"\r\n                placeholder=\"{{\r\n                  'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate\r\n                }}\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  changeForm.invalid &&\r\n                  (changeForm.controls['new_confirmation'].dirty ||\r\n                    changeForm.controls['new_confirmation'].touched) &&\r\n                  changeForm.errors &&\r\n                  changeForm.errors['mismatch'] &&\r\n                  changeForm.get('new_confirmation').value.length > 0\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                {{ 'SETTINGS.FORM_ERRORS.CONFIRM_NOT_MATCH' | translate }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"submit-button-container\">\r\n              <button\r\n                [disabled]=\"!changeForm.valid\"\r\n                class=\"primary big max-w-19-rem w-100\"\r\n                type=\"submit\"\r\n              >\r\n                {{ 'SETTINGS.MASTER_PASSWORD.BUTTON' | translate }}\r\n              </button>\r\n              <span\r\n                *ngIf=\"ifSaved\"\r\n                [class.active]=\"ifSaved\"\r\n                class=\"ml-1 color-aqua\"\r\n                >{{ 'SETTINGS.SETTINGS_SAVED' | translate }}</span\r\n              >\r\n            </div>\r\n          </form>\r\n          <p>Build version: {{ currentBuild }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div> `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class SettingsComponent implements OnInit {\r\n  ifSaved = false;\r\n\r\n  scale: string;\r\n\r\n  appUseTor: boolean;\r\n\r\n  fb = inject(FormBuilder);\r\n\r\n  changeForm = this.fb.group(\r\n    {\r\n      password: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n      new_password: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n      new_confirmation: this.fb.nonNullable.control(''),\r\n      appPass: this.fb.nonNullable.control(this.variablesService.appPass ?? ''),\r\n    },\r\n    {\r\n      validators: [\r\n        ZanoValidators.formMatch('new_password', 'new_confirmation'),\r\n        ZanoValidators.formMatch('password', 'appPass', 'pass_mismatch'),\r\n      ],\r\n    }\r\n  );\r\n\r\n  public currentNotificationsState;\r\n\r\n  languagesOptions = [\r\n    {\r\n      name: 'en',\r\n      language: 'SETTINGS.LANGUAGE.EN',\r\n    },\r\n    {\r\n      name: 'fr',\r\n      language: 'SETTINGS.LANGUAGE.FR',\r\n    },\r\n    {\r\n      name: 'de',\r\n      language: 'SETTINGS.LANGUAGE.DE',\r\n    },\r\n    {\r\n      name: 'id',\r\n      language: 'SETTINGS.LANGUAGE.ID',\r\n    },\r\n    {\r\n      name: 'it',\r\n      language: 'SETTINGS.LANGUAGE.IT',\r\n    },\r\n    {\r\n      name: 'pt',\r\n      language: 'SETTINGS.LANGUAGE.PT',\r\n    },\r\n  ];\r\n\r\n  appLockOptions = [\r\n    {\r\n      id: 5,\r\n      name: 'SETTINGS.APP_LOCK.TIME1',\r\n    },\r\n    {\r\n      id: 15,\r\n      name: 'SETTINGS.APP_LOCK.TIME2',\r\n    },\r\n    {\r\n      id: 60,\r\n      name: 'SETTINGS.APP_LOCK.TIME3',\r\n    },\r\n    {\r\n      id: 0,\r\n      name: 'SETTINGS.APP_LOCK.TIME4',\r\n    },\r\n  ];\r\n\r\n  appScaleOptions = scaleItems;\r\n\r\n  appLogOptions = [\r\n    {\r\n      id: -1,\r\n    },\r\n    {\r\n      id: 0,\r\n    },\r\n    {\r\n      id: 1,\r\n    },\r\n    {\r\n      id: 2,\r\n    },\r\n    {\r\n      id: 3,\r\n    },\r\n    {\r\n      id: 4,\r\n    },\r\n  ];\r\n\r\n  currentBuild = '';\r\n\r\n  appPass: any;\r\n\r\n  constructor(\r\n    public translate: TranslateService,\r\n    public variablesService: VariablesService,\r\n    private renderer: Renderer2,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone\r\n  ) {\r\n    this.scale = this.variablesService.settings.scale;\r\n    this.appUseTor = this.variablesService.settings.appUseTor;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.backend.getVersion((version, type) => {\r\n      this.ngZone.run(() => {\r\n        this.currentBuild = version;\r\n        this.variablesService.testnet = false;\r\n        if (type === 'testnet') {\r\n          this.currentBuild += ' TESTNET';\r\n          this.variablesService.testnet = true;\r\n        }\r\n        this.variablesService.networkType = type;\r\n      });\r\n    });\r\n    this.backend.getIsDisabledNotifications(res => {\r\n      this.currentNotificationsState = res;\r\n    });\r\n  }\r\n\r\n  setScale(): void {\r\n    this.scale = this.variablesService.settings.scale;\r\n    this.renderer.setStyle(document.documentElement, 'font-size', this.scale);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  onSubmitChangePass(): void {\r\n    if (this.changeForm.valid) {\r\n      this.onSave();\r\n      this.variablesService.appPass = this.changeForm.get('new_password').value;\r\n      if (this.variablesService.appPass) {\r\n        this.backend.setMasterPassword(\r\n          { pass: this.variablesService.appPass },\r\n          (status, data) => {\r\n            if (status) {\r\n              this.backend.storeSecureAppData({\r\n                pass: this.variablesService.appPass,\r\n              });\r\n              this.variablesService.appLogin = true;\r\n              this.variablesService.dataIsLoaded = true;\r\n              if (this.variablesService.settings.appLockTime) {\r\n                this.variablesService.startCountdown();\r\n              }\r\n            } else {\r\n              console.log(data['error_code']);\r\n            }\r\n          }\r\n        );\r\n      }\r\n      this.changeForm.reset();\r\n    }\r\n  }\r\n\r\n  toggleNotifications(): void {\r\n    if (!this.currentNotificationsState) {\r\n      this.backend.setIsDisabledNotifications('true');\r\n      this.currentNotificationsState = true;\r\n    } else {\r\n      this.backend.setIsDisabledNotifications('false');\r\n      this.currentNotificationsState = false;\r\n    }\r\n  }\r\n\r\n  toggleUseTor(): void {\r\n    this.appUseTor = !this.appUseTor;\r\n    this.variablesService.settings.appUseTor = this.appUseTor;\r\n    this.backend.setEnableTor(this.appUseTor);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  onSave(): void {\r\n    this.ifSaved = true;\r\n    setTimeout(() => {\r\n      this.ifSaved = false;\r\n    }, 3000);\r\n  }\r\n\r\n  onLockChange(): void {\r\n    if (\r\n      this.variablesService.appLogin &&\r\n      this.variablesService.settings.appLockTime\r\n    ) {\r\n      this.variablesService.restartCountdown();\r\n    }\r\n  }\r\n\r\n  onLogChange(): void {\r\n    this.backend.setLogLevel(this.variablesService.settings.appLog);\r\n    this.backend.storeAppData();\r\n  }\r\n\r\n  onLanguageChange(): void {\r\n    this.translate.use(this.variablesService.settings.language);\r\n    this.backend.storeAppData();\r\n  }\r\n}\r\n","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport BigNumber from 'bignumber.js';\r\n\r\n@Component({\r\n  selector: 'app-transfer-alias',\r\n  template: `\r\n    <div class=\"page-container\">\r\n      <div class=\"toolbar mb-2\">\r\n        <div class=\"left\">\r\n          <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n            <i class=\"icon dropdown-arrow-left\"></i>\r\n          </button>\r\n          <h1>{{ 'BREADCRUMBS.TRANSFER_ALIAS' | translate }}</h1>\r\n        </div>\r\n        <div class=\"right\"></div>\r\n      </div>\r\n\r\n      <div class=\"page-content\">\r\n        <div class=\"breadcrumbs mb-2\">\r\n          <div class=\"breadcrumb\">\r\n            <a [routerLink]=\"['/wallet/history']\">{{ wallet.name }}</a>\r\n          </div>\r\n          <div class=\"breadcrumb\">\r\n            <span>{{ 'BREADCRUMBS.TRANSFER_ALIAS' | translate }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"scrolled-content\">\r\n          <form class=\"form\">\r\n            <div class=\"form__field\">\r\n              <label for=\"alias-name\">\r\n                {{ 'TRANSFER_ALIAS.NAME.LABEL' | translate }}\r\n              </label>\r\n              <input\r\n                [value]=\"alias.name\"\r\n                class=\"form__field--input\"\r\n                id=\"alias-name\"\r\n                name=\"alias-name\"\r\n                placeholder=\"{{ 'EDIT_ALIAS.NAME.PLACEHOLDER' | translate }}\"\r\n                readonly\r\n                type=\"text\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"form__field textarea\">\r\n              <label for=\"alias-comment\">\r\n                {{ 'TRANSFER_ALIAS.COMMENT.LABEL' | translate }}\r\n              </label>\r\n              <textarea\r\n                [(ngModel)]=\"alias.comment\"\r\n                id=\"alias-comment\"\r\n                name=\"alias-comment\"\r\n                placeholder=\"{{ 'EDIT_ALIAS.COMMENT.PLACEHOLDER' | translate }}\"\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div class=\"form__field\">\r\n              <label for=\"alias-transfer\">\r\n                {{ 'TRANSFER_ALIAS.ADDRESS.LABEL' | translate }}\r\n              </label>\r\n              <input\r\n                (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                (input)=\"changeAddress()\"\r\n                [(ngModel)]=\"transferAddress\"\r\n                [class.invalid]=\"\r\n                  transferAddress.length > 0 &&\r\n                  (transferAddressAlias ||\r\n                    !transferAddressValid ||\r\n                    (transferAddressValid && !permissionSend) ||\r\n                    notEnoughMoney)\r\n                \"\r\n                class=\"form__field--input\"\r\n                id=\"alias-transfer\"\r\n                name=\"alias-transfer\"\r\n                placeholder=\"{{\r\n                  'TRANSFER_ALIAS.ADDRESS.PLACEHOLDER' | translate\r\n                }}\"\r\n                type=\"text\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  transferAddress.length > 0 &&\r\n                  (transferAddressAlias ||\r\n                    !transferAddressValid ||\r\n                    (transferAddressValid && !permissionSend) ||\r\n                    notEnoughMoney)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div *ngIf=\"!transferAddressValid\">\r\n                  {{ 'TRANSFER_ALIAS.FORM_ERRORS.WRONG_ADDRESS' | translate }}\r\n                </div>\r\n                <div\r\n                  *ngIf=\"\r\n                    transferAddressAlias ||\r\n                    (transferAddressValid && !permissionSend)\r\n                  \"\r\n                >\r\n                  {{ 'TRANSFER_ALIAS.FORM_ERRORS.ALIAS_EXISTS' | translate }}\r\n                </div>\r\n                <div *ngIf=\"notEnoughMoney\">\r\n                  {{ 'TRANSFER_ALIAS.FORM_ERRORS.NO_MONEY' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"alias-cost mb-2\">\r\n              {{\r\n                'TRANSFER_ALIAS.COST'\r\n                  | translate\r\n                    : {\r\n                        value: variablesService.default_fee,\r\n                        currency: variablesService.defaultCurrency\r\n                      }\r\n              }}\r\n            </div>\r\n\r\n            <button\r\n              (click)=\"transferAlias()\"\r\n              [disabled]=\"\r\n                transferAddressAlias || !transferAddressValid || notEnoughMoney\r\n              \"\r\n              class=\"primary big w-100\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'TRANSFER_ALIAS.BUTTON_TRANSFER' | translate }}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class TransferAliasComponent implements OnInit {\r\n  wallet: Wallet;\r\n\r\n  alias: any;\r\n\r\n  transferAddress = '';\r\n\r\n  transferAddressValid: boolean;\r\n\r\n  transferAddressAlias: boolean;\r\n\r\n  permissionSend: boolean;\r\n\r\n  notEnoughMoney: boolean;\r\n\r\n  requestProcessing = false;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.wallet = this.variablesService.currentWallet;\r\n    const alias = this.backend.getWalletAlias(this.wallet.address);\r\n    this.alias = {\r\n      name: alias.name,\r\n      address: alias.address,\r\n      comment: alias.comment,\r\n      tracking_key: alias.tracking_key,\r\n    };\r\n    const unlocked_balance = new BigNumber(\r\n      this.wallet.getBalanceByTicker('ZANO')?.unlocked || 0\r\n    );\r\n    this.notEnoughMoney = unlocked_balance.isLessThan(\r\n      this.variablesService.default_fee_big\r\n    );\r\n  }\r\n\r\n  changeAddress(): void {\r\n    this.backend.validateAddress(this.transferAddress, status => {\r\n      this.transferAddressValid = status;\r\n      if (status) {\r\n        this.backend.getPoolInfo((statusPool, dataPool) => {\r\n          if (\r\n            hasOwnProperty(dataPool, 'aliases_que') &&\r\n            dataPool.aliases_que.length\r\n          ) {\r\n            this.setStatus(\r\n              !dataPool.aliases_que.some(\r\n                el => el.address === this.transferAddress\r\n              )\r\n            );\r\n          } else {\r\n            this.setStatus(status);\r\n          }\r\n        });\r\n      } else {\r\n        this.setStatus(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  setStatus(statusSet): void {\r\n    this.permissionSend = statusSet;\r\n    if (statusSet) {\r\n      this.backend.getAliasByAddress(this.transferAddress, status => {\r\n        this.ngZone.run(() => {\r\n          if (status) {\r\n            this.transferAddressAlias = true;\r\n            this.permissionSend = false;\r\n          } else {\r\n            this.transferAddressAlias = false;\r\n          }\r\n        });\r\n      });\r\n    } else {\r\n      this.ngZone.run(() => {\r\n        this.transferAddressAlias = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  transferAlias(): void {\r\n    if (\r\n      this.requestProcessing ||\r\n      !this.permissionSend ||\r\n      !this.transferAddressValid ||\r\n      this.notEnoughMoney\r\n    ) {\r\n      return;\r\n    }\r\n    this.requestProcessing = true;\r\n    const newAlias = {\r\n      name: this.alias.name,\r\n      address: this.transferAddress,\r\n      comment: this.alias.comment,\r\n      tracking_key: this.alias.tracking_key,\r\n    };\r\n    this.backend.updateAlias(\r\n      this.wallet.wallet_id,\r\n      newAlias,\r\n      this.variablesService.default_fee,\r\n      (status, data) => {\r\n        if (status && hasOwnProperty(data, 'success') && data.success) {\r\n          this.modalService.prepareModal(\r\n            'info',\r\n            'TRANSFER_ALIAS.REQUEST_SEND_REG'\r\n          );\r\n          this.ngZone.run(() => {\r\n            this.router.navigate(['/wallet/']);\r\n          });\r\n        }\r\n        this.requestProcessing = false;\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-breadcrumbs',\r\n  template: `\r\n    <h3>Default</h3>\r\n    <div class=\"breadcrumbs mb-2\">\r\n      <div class=\"breadcrumb\">\r\n        <a>test 1 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <span>test 2 (text)</span>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 3 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <span>test 4 (text)</span>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 5 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 6 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <span>last item (text)</span>\r\n      </div>\r\n    </div>\r\n\r\n    <h3>With scroll</h3>\r\n    <div class=\"breadcrumbs scrolled mb-2\">\r\n      <div class=\"breadcrumb\">\r\n        <a>test 1 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <span>test 2 (text)</span>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 3 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <span>test 4 (text)</span>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 5 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 6 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 7 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <span>test 8 (text)</span>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 9 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <span>test 10 (text)</span>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 11 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <a>test 12 (link)</a>\r\n      </div>\r\n      <div class=\"breadcrumb\">\r\n        <span>last item (text)</span>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n})\r\nexport class BreadcrumbsComponent {}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-buttons',\r\n  template: `\r\n    <h3 class=\"mb-1\">Primary</h3>\r\n    <button class=\"m-1 primary small\">Add Wallet</button>\r\n    <button class=\"m-1 primary big\">Add / Save</button>\r\n    <button class=\"m-1 primary big\" disabled>Add / Save</button>\r\n\r\n    <h3 class=\"mb-1\">Outline</h3>\r\n    <button class=\"m-1 outline small\">\r\n      <i class=\"icon plus mr-1\"></i>Add Wallet\r\n    </button>\r\n    <button class=\"m-1 outline big\">Add / Save</button>\r\n    <button class=\"m-1 outline big\" disabled>Add / Save</button>\r\n\r\n    <h3 class=\"mb-1\">Circle</h3>\r\n    <button class=\"m-1 btn-icon circle small mr-2\">\r\n      <i class=\"icon dropdown-arrow-left\"></i>\r\n    </button>\r\n    <button class=\"m-1 btn-icon circle big mr-2\">\r\n      <i class=\"icon dropdown-arrow-left\"></i>\r\n    </button>\r\n    <button class=\"m-1 btn-icon circle big mr-2\" disabled>\r\n      <i class=\"icon dropdown-arrow-left\"></i>\r\n    </button>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n})\r\nexport class ButtonsComponent {}\r\n","import { Component } from '@angular/core';\r\nimport { CheckboxComponent } from '@parts/components/checkbox.component';\r\n\r\n@Component({\r\n  selector: 'app-checkboxs',\r\n  template: `<h3 class=\"mb-2\">Disabled = true</h3>\r\n    <app-checkbox\r\n      [disabled]=\"true\"\r\n      class=\"mb-1 max-w-50-rem w-100\"\r\n      label=\"LabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabelLabel\"\r\n    ></app-checkbox>\r\n\r\n    <h3 class=\"mb-2\">Default</h3>\r\n    <app-checkbox\r\n      class=\"mb-1 max-w-50-rem w-100\"\r\n      label=\"Label\"\r\n    ></app-checkbox> `,\r\n  styles: [],\r\n  imports: [CheckboxComponent],\r\n  standalone: true,\r\n})\r\nexport class CheckboxsComponent {}\r\n","export * from './checkboxs.component';\r\nexport * from './inputs.component';\r\nexport * from './selects.component';\r\nexport * from './switches.component';\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-inputs',\r\n  template: `\r\n    <h3 class=\"mb-3\">Input type=\"text\"</h3>\r\n\r\n    <h4 class=\"mb-2\">Disabled = true</h4>\r\n\r\n    <div class=\"form__field\">\r\n      <label for=\"test-id1\">Label</label>\r\n      <input\r\n        class=\"form__field--input\"\r\n        disabled\r\n        id=\"test-id1\"\r\n        name=\"test1\"\r\n        placeholder=\"Enter a name here\"\r\n        type=\"text\"\r\n      />\r\n    </div>\r\n\r\n    <h4 class=\"mb-3\">Without label</h4>\r\n\r\n    <div class=\"form__field\">\r\n      <input\r\n        class=\"form__field--input\"\r\n        name=\"test1\"\r\n        placeholder=\"Enter a name here\"\r\n        type=\"text\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"form__field\">\r\n      <input\r\n        class=\"form__field--input\"\r\n        name=\"test1\"\r\n        placeholder=\"Enter a name here\"\r\n        type=\"text\"\r\n        value=\"Name\"\r\n      />\r\n    </div>\r\n\r\n    <h3 class=\"mb-3\">Input type=\"password\"</h3>\r\n\r\n    <h4 class=\"mb-2\">Disabled = true</h4>\r\n\r\n    <div class=\"form__field\">\r\n      <label for=\"test-id4\">Label</label>\r\n      <input\r\n        class=\"form__field--input\"\r\n        disabled\r\n        id=\"test-id4\"\r\n        name=\"test1\"\r\n        placeholder=\"Enter a name here\"\r\n        type=\"password\"\r\n        value=\"Name\"\r\n      />\r\n    </div>\r\n\r\n    <h4 class=\"mb-3\">Without label</h4>\r\n\r\n    <div class=\"form__field\">\r\n      <input\r\n        class=\"form__field--input\"\r\n        name=\"1234567890\"\r\n        placeholder=\"Enter a name here\"\r\n        type=\"password\"\r\n        value=\"Name\"\r\n      />\r\n    </div>\r\n\r\n    <h4 class=\"mb-3\">With error</h4>\r\n\r\n    <div class=\"form__field\">\r\n      <input\r\n        class=\"form__field--input invalid\"\r\n        name=\"1234567890\"\r\n        placeholder=\"Enter a name here\"\r\n        type=\"password\"\r\n        value=\"Name\"\r\n      />\r\n      <div class=\"error\">Error text</div>\r\n    </div>\r\n\r\n    <h4 class=\"mb-3\">With success</h4>\r\n\r\n    <div class=\"form__field\">\r\n      <input\r\n        class=\"form__field--input\"\r\n        name=\"1234567890\"\r\n        placeholder=\"Enter a name here\"\r\n        type=\"password\"\r\n        value=\"Name\"\r\n      />\r\n      <div class=\"success\">Success text</div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n})\r\nexport class InputsComponent {}\r\n","import { Component } from '@angular/core';\r\nimport { scaleItems } from '@parts/data/scale-items';\r\nimport { ScaleItems } from '@api/models/scale.model';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n@Component({\r\n  selector: 'app-selects',\r\n  template: `\r\n    <div class=\"form__field mb-2\">\r\n      <label>Default</label>\r\n      <ng-select\r\n        [clearable]=\"false\"\r\n        [items]=\"scaleItems\"\r\n        [searchable]=\"false\"\r\n        bindLabel=\"name\"\r\n        bindValue=\"value\"\r\n      >\r\n        <ng-template let-item=\"item\" ng-label-tmp>\r\n          {{ item.name | translate }}\r\n        </ng-template>\r\n        <ng-template let-index=\"index\" let-item=\"item\" ng-option-tmp>\r\n          {{ item.name | translate }}\r\n        </ng-template>\r\n      </ng-select>\r\n    </div>\r\n\r\n    <div class=\"form__field\">\r\n      <label>With circle</label>\r\n      <ng-select\r\n        [clearable]=\"false\"\r\n        [items]=\"scaleItems\"\r\n        [searchable]=\"false\"\r\n        bindLabel=\"name\"\r\n        bindValue=\"value\"\r\n        class=\"with-circle\"\r\n      >\r\n        <ng-template let-item=\"item\" ng-label-tmp>\r\n          {{ item.name | translate }}\r\n        </ng-template>\r\n        <ng-template let-index=\"index\" let-item=\"item\" ng-option-tmp>\r\n          {{ item.name | translate }}\r\n        </ng-template>\r\n      </ng-select>\r\n    </div>\r\n\r\n    <h3 class=\"mb-1\">\r\n      if you use formControlName class ng-invalid set red border if select\r\n      ng-touched\r\n    </h3>\r\n    <div class=\"form__field\">\r\n      <label>With error</label>\r\n      <ng-select\r\n        [clearable]=\"false\"\r\n        [items]=\"scaleItems\"\r\n        [searchable]=\"false\"\r\n        bindLabel=\"name\"\r\n        bindValue=\"value\"\r\n        class=\"with-circle invalid\"\r\n      >\r\n        <ng-template let-item=\"item\" ng-label-tmp>\r\n          {{ item.name | translate }}\r\n        </ng-template>\r\n        <ng-template let-index=\"index\" let-item=\"item\" ng-option-tmp>\r\n          {{ item.name | translate }}\r\n        </ng-template>\r\n      </ng-select>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n  imports: [TranslateModule, NgSelectModule],\r\n})\r\nexport class SelectsComponent {\r\n  scaleItems: ScaleItems = [...scaleItems];\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { SwitchComponent } from '@parts/components/switch.component';\r\n\r\n@Component({\r\n  selector: 'app-switches',\r\n  template: `\r\n    <h3 class=\"mb-1\">Switch default</h3>\r\n    <app-switch class=\"mb-1\"></app-switch>\r\n\r\n    <h3 class=\"mb-1\">value = true</h3>\r\n    <app-switch [value]=\"true\" class=\"mb-1\"></app-switch>\r\n\r\n    <h3 class=\"mb-1\">value = true, disabled = true</h3>\r\n    <app-switch [disabled]=\"true\" [value]=\"true\" class=\"mb-1\"></app-switch>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n  imports: [SwitchComponent],\r\n})\r\nexport class SwitchesComponent {}\r\n","import { Component } from '@angular/core';\r\nimport {\r\n  CheckboxsComponent,\r\n  InputsComponent,\r\n  SelectsComponent,\r\n  SwitchesComponent,\r\n} from './components';\r\n\r\n@Component({\r\n  selector: 'app-form',\r\n  template: `\r\n    <div class=\"mb-2\">\r\n      <h2 class=\"mb-1\">Inputs</h2>\r\n      <app-inputs></app-inputs>\r\n    </div>\r\n\r\n    <div class=\"mb-2\">\r\n      <h2 class=\"mb-1\">Selects</h2>\r\n      <app-selects></app-selects>\r\n    </div>\r\n\r\n    <div class=\"mb-2\">\r\n      <h2 class=\"mb-1\">Checkbox</h2>\r\n      <app-checkboxs></app-checkboxs>\r\n    </div>\r\n\r\n    <div class=\"mb-2\">\r\n      <h2 class=\"mb-1\">Switches</h2>\r\n      <app-switches></app-switches>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n  imports: [\r\n    SwitchesComponent,\r\n    CheckboxsComponent,\r\n    SelectsComponent,\r\n    InputsComponent,\r\n  ],\r\n})\r\nexport class FormComponent {}\r\n","export * from './form/form.component';\r\nexport * from './form/components';\r\nexport * from './breadcrumbs.component';\r\nexport * from './buttons.component';\r\nexport * from './progress-bars.component';\r\nexport * from './wallets.component';\r\n","import { Component } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexModule } from '@angular/flex-layout';\r\n\r\n@Component({\r\n  selector: 'app-progress-bars',\r\n  template: `\r\n    <div\r\n      class=\"synchronization-status\"\r\n      fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\"\r\n    >\r\n      <div class=\"status-container\">\r\n        <div class=\"offline mb-0_5\">\r\n          <span>{{ 'SIDEBAR.SYNCHRONIZATION.OFFLINE' | translate }}</span>\r\n        </div>\r\n        <div class=\"syncing text-ellipsis mb-0_5\">\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.SYNCING' | translate }} {{ 100\r\n          }}{{ 'SIDEBAR.SYNCHRONIZATION.SLASH' | translate }}{{ 20000 }}\r\n        </div>\r\n        <div class=\"online mb-0_5\">\r\n          <span>{{ 'SIDEBAR.SYNCHRONIZATION.ONLINE' | translate }}</span>\r\n        </div>\r\n        <div class=\"loading mb-0_5\">\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.LOADING' | translate }}\r\n        </div>\r\n        <div class=\"offline mb-0_5\">\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.ERROR' | translate }}\r\n        </div>\r\n        <div class=\"online mb-0_5\">\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.COMPLETE' | translate }}\r\n        </div>\r\n        <div class=\"syncing text-ellipsis mb-0_5\">\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.DOWNLOADING' | translate }}\r\n          {{ 2345 }}\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.SLASH' | translate }}\r\n          {{ 18000 }}{{ 'SIDEBAR.SYNCHRONIZATION.MB' | translate }}\r\n        </div>\r\n\r\n        <div class=\"progress-bar-container mb-1\">\r\n          <div class=\"syncing\">\r\n            <div class=\"progress-bar\">\r\n              <div [style.width]=\"50 + '%'\" class=\"fill\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"progress-bar-container mb-1\">\r\n          <div class=\"loading\"></div>\r\n        </div>\r\n\r\n        <div class=\"progress-bar-container mb-1\">\r\n          <div class=\"syncing downloading\">\r\n            <div class=\"progress-bar\">\r\n              <div [style.width]=\"44 + '%'\" class=\"fill\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"update-container\">\r\n        <div class=\"update-text standard mb-0_5\">\r\n          <span [style.cursor]=\"'pointer'\">{{\r\n            'SIDEBAR.UPDATE.STANDARD' | translate\r\n          }}</span>\r\n        </div>\r\n        <i class=\"icon update standard\"></i>\r\n      </div>\r\n\r\n      <div class=\"update-container\">\r\n        <div class=\"update-text important\">\r\n          <span [style.cursor]=\"'pointer'\">{{\r\n            'SIDEBAR.UPDATE.IMPORTANT' | translate\r\n          }}</span>\r\n          <span style=\"font-size: 1rem\">{{\r\n            'SIDEBAR.UPDATE.IMPORTANT_HINT' | translate\r\n          }}</span>\r\n        </div>\r\n        <i class=\"icon update important\"></i>\r\n      </div>\r\n\r\n      <div class=\"update-container\">\r\n        <div class=\"update-text critical\">\r\n          <span [style.cursor]=\"'pointer'\">{{\r\n            'SIDEBAR.UPDATE.CRITICAL' | translate\r\n          }}</span>\r\n          <span style=\"font-size: 1rem\">{{\r\n            'SIDEBAR.UPDATE.IMPORTANT_HINT' | translate\r\n          }}</span>\r\n        </div>\r\n        <i class=\"icon update critical\"></i>\r\n      </div>\r\n\r\n      <div class=\"update-container\">\r\n        <div class=\"update-text time-orange\">\r\n          <span>{{ 'SIDEBAR.UPDATE.TIME' | translate }}</span>\r\n        </div>\r\n        <i class=\"icon time-orange\"></i>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n  imports: [TranslateModule, FlexModule],\r\n})\r\nexport class ProgressBarsComponent {}\r\n","import { Component } from '@angular/core';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexModule } from '@angular/flex-layout';\r\nimport { CheckboxComponent } from '@parts/components/checkbox.component';\r\nimport { SwitchComponent } from '@parts/components/switch.component';\r\n\r\n@Component({\r\n  selector: 'app-wallets',\r\n  template: `\r\n    <form class=\"mb-2\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <app-checkbox\r\n        (emitChange)=\"classWalletActive = !classWalletActive\"\r\n        [value]=\"classWalletActive\"\r\n        class=\"mb-1\"\r\n        label=\"classWalletActive\"\r\n      ></app-checkbox>\r\n      <app-checkbox\r\n        (emitChange)=\"classWalletAuditable = !classWalletAuditable\"\r\n        [value]=\"classWalletAuditable\"\r\n        class=\"mb-1\"\r\n        label=\"classWalletAuditable\"\r\n      ></app-checkbox>\r\n      <app-checkbox\r\n        (emitChange)=\"classWalletWatchOnly = !classWalletWatchOnly\"\r\n        [value]=\"classWalletWatchOnly\"\r\n        class=\"mb-1\"\r\n        label=\"classWalletWatchOnly\"\r\n      ></app-checkbox>\r\n      <app-checkbox\r\n        (emitChange)=\"showIndicator = !showIndicator\"\r\n        [value]=\"showIndicator\"\r\n        class=\"mb-1\"\r\n        label=\"showIndicator\"\r\n      ></app-checkbox>\r\n      <app-checkbox\r\n        (emitChange)=\"showPrice = !showPrice\"\r\n        [value]=\"showPrice\"\r\n        class=\"mb-1\"\r\n        label=\"showPrice\"\r\n      ></app-checkbox>\r\n      <app-checkbox\r\n        (emitChange)=\"percentRed = !percentRed\"\r\n        [value]=\"percentRed\"\r\n        class=\"mb-1\"\r\n        label=\"percentRed\"\r\n      ></app-checkbox>\r\n      <app-checkbox\r\n        (emitChange)=\"showStaking = !showStaking\"\r\n        [value]=\"showStaking\"\r\n        class=\"mb-1\"\r\n        label=\"showStaking\"\r\n      ></app-checkbox>\r\n      <app-checkbox\r\n        (emitChange)=\"showProgressBar = !showProgressBar\"\r\n        [value]=\"showProgressBar\"\r\n        class=\"mb-1\"\r\n        label=\"showProgressBar\"\r\n      ></app-checkbox>\r\n    </form>\r\n\r\n    <div\r\n      [class.active]=\"classWalletActive\"\r\n      [class.auditable]=\"classWalletAuditable\"\r\n      [class.watch-only]=\"classWalletWatchOnly\"\r\n      cdkDrag\r\n      class=\"wallet\"\r\n    >\r\n      <div class=\"content\">\r\n        <div class=\"header\">\r\n          <div class=\"left\">\r\n            <div class=\"name text-ellipsis\">\r\n              <span *ngIf=\"showIndicator\" class=\"indicator\"> 12 </span>\r\n\r\n              <span class=\"name\">test</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"right\">\r\n            <button type=\"button\">\r\n              <i class=\"icon close\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"balance\">\r\n          <span class=\"text-ellipsis mr-1\">9999</span>\r\n          <span>ZANO</span>\r\n        </div>\r\n\r\n        <ng-container *ngIf=\"showPrice\">\r\n          <h4 class=\"price\">\r\n            $999\r\n\r\n            <span [class.red]=\"percentRed\" class=\"percent\">20%</span>\r\n          </h4>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"showStaking\">\r\n          <div class=\"staking\">\r\n            <span class=\"text\">{{\r\n              'SIDEBAR.ACCOUNT.STAKING' | translate\r\n            }}</span>\r\n            <app-switch></app-switch>\r\n          </div>\r\n        </ng-container>\r\n\r\n        <div *ngIf=\"showProgressBar\" class=\"account-synchronization\">\r\n          <div class=\"progress-bar\">\r\n            <div [style.width]=\"33 + '%'\" class=\"fill\"></div>\r\n          </div>\r\n          <div class=\"progress-percent\">33%</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n  imports: [\r\n    CheckboxComponent,\r\n    DragDropModule,\r\n    SwitchComponent,\r\n    TranslateModule,\r\n    FlexModule,\r\n  ],\r\n})\r\nexport class WalletsComponent {\r\n  classWalletActive = true;\r\n\r\n  classWalletAuditable = false;\r\n\r\n  classWalletWatchOnly = false;\r\n\r\n  showIndicator = false;\r\n\r\n  showPrice = true;\r\n\r\n  percentRed = false;\r\n\r\n  showStaking = true;\r\n\r\n  showProgressBar = false;\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport {\r\n  BreadcrumbsComponent,\r\n  ButtonsComponent,\r\n  FormComponent,\r\n  ProgressBarsComponent,\r\n  WalletsComponent,\r\n} from './components';\r\n\r\n@Component({\r\n  selector: 'app-ui-kit',\r\n  template: `\r\n    <div fxFlex=\"0 1 50rem\" fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n      <div class=\"mb-2\">\r\n        <h2 class=\"mb-1\">Buttons</h2>\r\n        <app-buttons></app-buttons>\r\n      </div>\r\n\r\n      <div class=\"mb-2\">\r\n        <h2 class=\"mb-1\">Form</h2>\r\n        <app-form></app-form>\r\n      </div>\r\n\r\n      <div class=\"mb-2\">\r\n        <h2 class=\"mb-1\">Breadcrumbs</h2>\r\n        <app-breadcrumbs></app-breadcrumbs>\r\n      </div>\r\n\r\n      <div class=\"mb-2\">\r\n        <h2 class=\"mb-1\">Progress bars</h2>\r\n        <app-progress-bars></app-progress-bars>\r\n      </div>\r\n\r\n      <div class=\"mb-2\">\r\n        <h2 class=\"mb-1\">Wallets</h2>\r\n        <app-wallets></app-wallets>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n  imports: [\r\n    FlexLayoutModule,\r\n    ButtonsComponent,\r\n    WalletsComponent,\r\n    BreadcrumbsComponent,\r\n    FormComponent,\r\n    ProgressBarsComponent,\r\n  ],\r\n})\r\nexport class UiKitComponent {}\r\n","import { Component, inject, NgZone, OnInit } from '@angular/core';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { Router } from '@angular/router';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { regExpPassword, ZanoValidators } from '@parts/utils/zano-validators';\r\n\r\n@Component({\r\n  selector: 'app-wallet-details',\r\n  template: `\r\n    <div class=\"page-container\">\r\n      <div class=\"toolbar mb-2\">\r\n        <div class=\"left\">\r\n          <button appBackButton class=\"btn-icon circle big mr-2\" type=\"button\">\r\n            <i class=\"icon dropdown-arrow-left\"></i>\r\n          </button>\r\n          <h1>{{ 'BREADCRUMBS.WALLET_DETAILS' | translate }}</h1>\r\n        </div>\r\n        <div class=\"right\"></div>\r\n      </div>\r\n\r\n      <div class=\"page-content\">\r\n        <div class=\"breadcrumbs mb-2\">\r\n          <div class=\"breadcrumb\">\r\n            <a [routerLink]=\"['/wallet/history']\">{{\r\n              variablesService.currentWallet.name\r\n            }}</a>\r\n          </div>\r\n          <div class=\"breadcrumb\">\r\n            <span>{{ 'BREADCRUMBS.WALLET_DETAILS' | translate }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"scrolled-content\">\r\n          <div fxFlexFill fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n            <form\r\n              (ngSubmit)=\"onSubmitEdit()\"\r\n              [formGroup]=\"detailsForm\"\r\n              class=\"form\"\r\n            >\r\n              <div class=\"form__field\">\r\n                <label for=\"wallet-name\">{{\r\n                  'WALLET_DETAILS.LABEL_NAME' | translate\r\n                }}</label>\r\n                <input\r\n                  (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                  [maxLength]=\"variablesService.maxWalletNameLength\"\r\n                  [placeholder]=\"\r\n                    'PLACEHOLDERS.WALLET_NAME_PLACEHOLDER' | translate\r\n                  \"\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"name\"\r\n                  id=\"wallet-name\"\r\n                  type=\"text\"\r\n                />\r\n                <div\r\n                  *ngIf=\"\r\n                    detailsForm.controls['name'].invalid &&\r\n                    (detailsForm.controls['name'].dirty ||\r\n                      detailsForm.controls['name'].touched)\r\n                  \"\r\n                  class=\"error\"\r\n                >\r\n                  <div *ngIf=\"detailsForm.controls['name'].errors['duplicate']\">\r\n                    {{\r\n                      'WALLET_DETAILS.FORM_ERRORS.NAME_DUPLICATE' | translate\r\n                    }}\r\n                  </div>\r\n                  <div\r\n                    *ngIf=\"\r\n                      detailsForm.get('name').value.length >=\r\n                      variablesService.maxWalletNameLength\r\n                    \"\r\n                  >\r\n                    {{ 'WALLET_DETAILS.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n                  </div>\r\n                  <div\r\n                    *ngIf=\"detailsForm.controls['name'].hasError('required')\"\r\n                  >\r\n                    {{ 'WALLET_DETAILS.FORM_ERRORS.NAME_REQUIRED' | translate }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                [disabled]=\"\r\n                  detailsForm.invalid && !detailsForm.controls['name'].dirty\r\n                \"\r\n                class=\"primary big max-w-19-rem w-100 mb-1\"\r\n                type=\"submit\"\r\n              >\r\n                {{ 'SETTINGS.MASTER_PASSWORD.BUTTON' | translate }}\r\n              </button>\r\n              <p *ngIf=\"ifSaved\" [class.active]=\"ifSaved\" class=\"saved-message\">\r\n                Saved!\r\n              </p>\r\n\r\n              <div class=\"form__field\">\r\n                <label for=\"wallet-location\">{{\r\n                  'WALLET_DETAILS.LABEL_FILE_LOCATION' | translate\r\n                }}</label>\r\n                <input\r\n                  (contextmenu)=\"\r\n                    variablesService.onContextMenuOnlyCopy(\r\n                      $event,\r\n                      detailsForm.get('path')?.value\r\n                    )\r\n                  \"\r\n                  class=\"form__field--input cursor-default\"\r\n                  formControlName=\"path\"\r\n                  id=\"wallet-location\"\r\n                  readonly\r\n                  type=\"text\"\r\n                />\r\n              </div>\r\n            </form>\r\n\r\n            <ng-container *ngIf=\"!showSeed; else seedPhraseContent\">\r\n              <form\r\n                (ngSubmit)=\"onSubmitSeed()\"\r\n                [formGroup]=\"seedPhraseForm\"\r\n                class=\"form bg-light-blue-details p-2\"\r\n                fxFlex=\"0 0 auto\"\r\n                fxLayout=\"column\"\r\n                fxLayoutAlign=\"start center\"\r\n              >\r\n                <div class=\"form__field\">\r\n                  <label for=\"create-password\">{{\r\n                    'WALLET_DETAILS.CREATE_PASSWORD_SECURE' | translate\r\n                  }}</label>\r\n                  <input\r\n                    class=\"form__field--input\"\r\n                    formControlName=\"password\"\r\n                    id=\"create-password\"\r\n                    placeholder=\"{{\r\n                      'PLACEHOLDERS.PASSWORD_PLACEHOLDER' | translate\r\n                    }}\"\r\n                    type=\"password\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"form__field\">\r\n                  <label for=\"confirm-password\">{{\r\n                    'WALLET_DETAILS.FORM.CONFIRM_PASSWORD' | translate\r\n                  }}</label>\r\n                  <input\r\n                    [class.invalid]=\"\r\n                      seedPhraseForm.invalid &&\r\n                      seedPhraseForm.get('confirmPassword').value.length > 0\r\n                    \"\r\n                    class=\"form__field--input\"\r\n                    formControlName=\"confirmPassword\"\r\n                    id=\"confirm-password\"\r\n                    placeholder=\"{{\r\n                      'PLACEHOLDERS.PLACEHOLDER_CONFIRM' | translate\r\n                    }}\"\r\n                    type=\"password\"\r\n                  />\r\n                  <div\r\n                    *ngIf=\"\r\n                      seedPhraseForm.invalid &&\r\n                      (seedPhraseForm.controls['confirmPassword'].dirty ||\r\n                        seedPhraseForm.controls['confirmPassword'].touched)\r\n                    \"\r\n                    class=\"error\"\r\n                  >\r\n                    <div\r\n                      *ngIf=\"\r\n                        seedPhraseForm.invalid &&\r\n                        seedPhraseForm.get('confirmPassword').value.length > 0\r\n                      \"\r\n                    >\r\n                      {{\r\n                        'WALLET_DETAILS.FORM_ERRORS.PASSWORDS_DONT_MATCH'\r\n                          | translate\r\n                      }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <button\r\n                  [disabled]=\"!seedPhraseForm.valid\"\r\n                  class=\"primary big w-100 mb-2\"\r\n                  type=\"submit\"\r\n                >\r\n                  <i class=\"icon check-shield mr-1\"></i>\r\n                  {{ 'WALLET_DETAILS.FORM.GENERATE_SECURE_SEED' | translate }}\r\n                </button>\r\n\r\n                <p\r\n                  class=\"color-primary\"\r\n                  fxLayout=\"row\"\r\n                  fxLayoutAlign=\"center center\"\r\n                >\r\n                  <i class=\"icon info-circle mr-1\"></i>\r\n                  {{\r\n                    'WALLET_DETAILS.FORM.SECURED_SEED_WILL_REQUIRE' | translate\r\n                  }}\r\n                </p>\r\n              </form>\r\n            </ng-container>\r\n\r\n            <ng-template #seedPhraseContent>\r\n              <div\r\n                class=\"seed-phrase bg-light-blue-details p-2 border-radius-0_8-rem\"\r\n                fxFlex=\"0 0 auto\"\r\n                fxLayout=\"column\"\r\n              >\r\n                <div\r\n                  class=\"header mb-2\"\r\n                  fxFlex=\"0 0 auto\"\r\n                  fxLayout=\"row\"\r\n                  fxLayoutAlign=\"space-between center\"\r\n                >\r\n                  <div class=\"left\">\r\n                    <span>{{\r\n                      'WALLET_DETAILS.LABEL_SEED_PHRASE' | translate\r\n                    }}</span>\r\n                  </div>\r\n                  <div class=\"right\">\r\n                    <span\r\n                      *ngIf=\"\r\n                        seedPhraseForm.controls.password.value.length === 0\r\n                      \"\r\n                      class=\"status color-red\"\r\n                      fxLayout=\"row\"\r\n                      fxLayoutAlign=\"start center\"\r\n                    >\r\n                      {{ 'WALLET_DETAILS.SEED_IS_UNSECURED' | translate }}\r\n                      <i class=\"icon unsecured ml-1\"></i>\r\n                    </span>\r\n                    <span\r\n                      *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n                      class=\"status color-aqua\"\r\n                      fxLayout=\"row\"\r\n                      fxLayoutAlign=\"start center\"\r\n                    >\r\n                      {{ 'WALLET_DETAILS.SEED_IS_SECURED' | translate }}\r\n                      <i class=\"icon secured ml-1\"></i>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  (contextmenu)=\"\r\n                    variablesService.onContextMenuOnlyCopy($event, seedPhrase)\r\n                  \"\r\n                  class=\"content mb-1\"\r\n                  fxLayout=\"row wrap\"\r\n                >\r\n                  <ng-container\r\n                    *ngFor=\"\r\n                      let word of seedPhrase.split(' ');\r\n                      let index = index\r\n                    \"\r\n                  >\r\n                    <div\r\n                      class=\"item p-1 mr-1 mb-1 border-radius-0_8-rem\"\r\n                      fxLayout=\"row nowrap\"\r\n                      fxLayoutAlign=\"start center\"\r\n                    >\r\n                      <div\r\n                        class=\"number p-1 mr-1\"\r\n                        fxLayout=\"row\"\r\n                        fxLayoutAlign=\"center center\"\r\n                      >\r\n                        {{ index + 1 }}\r\n                      </div>\r\n                      <span class=\"word\" fxLayout=\"row\">{{ word }}</span>\r\n                    </div>\r\n                  </ng-container>\r\n                </div>\r\n                <div class=\"footer max-w-50-rem w-100\" fxLayout=\"column\">\r\n                  <button\r\n                    (click)=\"copySeedPhrase()\"\r\n                    class=\"outline big w-100 mb-2\"\r\n                    type=\"button\"\r\n                  >\r\n                    <ng-container *ngIf=\"!seedPhraseCopied\">\r\n                      <i class=\"icon copy mr-1\"></i>\r\n                      {{ 'SEED_PHRASE.BUTTON_COPY' | translate }}\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"seedPhraseCopied\">\r\n                      <i class=\"icon check mr-1\"></i>\r\n                      {{ 'SEED_PHRASE.BUTTON_COPIED' | translate }}\r\n                    </ng-container>\r\n                  </button>\r\n                  <p\r\n                    *ngIf=\"seedPhraseForm.controls.password.value.length > 0\"\r\n                    class=\"text-align-center\"\r\n                  >\r\n                    <i class=\"icon info-circle mr-1\"></i>\r\n                    <span class=\"color-primary\">{{\r\n                      'WALLET_DETAILS.REMEMBER_YOU_WILL_REQUIRE' | translate\r\n                    }}</span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </ng-template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class WalletDetailsComponent implements OnInit {\r\n  seedPhrase = '';\r\n\r\n  showSeed = false;\r\n\r\n  seedPhraseCopied = false;\r\n\r\n  ifSaved = false;\r\n\r\n  fb = inject(FormBuilder);\r\n\r\n  detailsForm = this.fb.group({\r\n    name: this.fb.nonNullable.control('', [\r\n      Validators.required,\r\n      ZanoValidators.duplicate(this.variablesService.walletNamesForComparisons),\r\n    ]),\r\n    path: this.fb.nonNullable.control(''),\r\n  });\r\n\r\n  seedPhraseForm = this.fb.group(\r\n    {\r\n      password: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n      confirmPassword: this.fb.nonNullable.control(\r\n        '',\r\n        Validators.pattern(regExpPassword)\r\n      ),\r\n    },\r\n    {\r\n      validators: [ZanoValidators.formMatch('password', 'confirmPassword')],\r\n    }\r\n  );\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.showSeed = false;\r\n    this.detailsForm\r\n      .get('name')\r\n      .setValue(this.variablesService.currentWallet.name);\r\n    this.detailsForm\r\n      .get('path')\r\n      .setValue(this.variablesService.currentWallet.path);\r\n  }\r\n\r\n  showSeedPhrase(): void {\r\n    this.showSeed = true;\r\n  }\r\n\r\n  onSubmitSeed(): void {\r\n    if (this.seedPhraseForm.valid) {\r\n      this.showSeedPhrase();\r\n      const wallet_id = this.variablesService.currentWallet.wallet_id;\r\n      const seed_password = this.seedPhraseForm.controls.password.value;\r\n      this.backend.getSmartWalletInfo(\r\n        { wallet_id, seed_password },\r\n        (status, data) => {\r\n          if (hasOwnProperty(data, 'seed_phrase')) {\r\n            this.ngZone.run(() => {\r\n              this.seedPhrase = data['seed_phrase'].trim();\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  onSave(): void {\r\n    this.ifSaved = true;\r\n    setTimeout(() => {\r\n      this.ifSaved = false;\r\n    }, 3000);\r\n  }\r\n\r\n  onSubmitEdit(): void {\r\n    if (this.detailsForm.value) {\r\n      this.onSave();\r\n      this.variablesService.currentWallet.name =\r\n        this.detailsForm.get('name').value;\r\n      this.detailsForm.reset({\r\n        name: this.variablesService.currentWallet.name,\r\n        path: this.variablesService.currentWallet.path,\r\n      });\r\n    }\r\n  }\r\n\r\n  copySeedPhrase(): void {\r\n    this.backend.setClipboard(this.seedPhrase, () => {\r\n      this.ngZone.run(() => {\r\n        setTimeout(() => {\r\n          this.seedPhraseCopied = false;\r\n        }, 4000);\r\n        this.seedPhraseCopied = true;\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { Subject } from 'rxjs';\r\nimport { Asset, ParamsRemoveCustomAssetId } from '@api/models/assets.model';\r\nimport { Store } from '@store/store';\r\nimport { PaginatePipeArgs } from 'ngx-pagination';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { CdkOverlayOrigin } from '@angular/cdk/overlay';\r\nimport { AssetDetailsComponent } from '@parts/modals/asset-details/asset-details.component';\r\nimport { Dialog, DialogConfig } from '@angular/cdk/dialog';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport {\r\n  ConfirmModalComponent,\r\n  ConfirmModalData,\r\n} from '@parts/modals/confirm-modal/confirm-modal.component';\r\nimport { WalletsService } from '@parts/services/wallets.service';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { LOCKED_BALANCE_HELP_PAGE } from '@parts/data/constants';\r\nimport { IntToMoneyPipe } from '@parts/pipes';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-assets',\r\n  template: `\r\n    <div fxFlexFill fxLayout=\"column\">\r\n      <div\r\n        class=\"scrolled-content\"\r\n        [class.mb-2]=\"isShowPagination\"\r\n        fxFlex=\"1 1 auto\"\r\n      >\r\n        <table class=\"assets-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>\r\n                <div class=\"bg title\">\r\n                  {{ 'ASSETS.TABLE.LABELS.NAME' | translate }}\r\n                </div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">\r\n                  {{ 'ASSETS.TABLE.LABELS.BALANCE' | translate }}\r\n                </div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">\r\n                  {{ 'ASSETS.TABLE.LABELS.VALUE' | translate }}\r\n                </div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">\r\n                  {{ 'ASSETS.TABLE.LABELS.PRICE' | translate }}\r\n                </div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">&nbsp;</div>\r\n              </th>\r\n            </tr>\r\n            <div class=\"row-divider\"></div>\r\n          </thead>\r\n          <tbody>\r\n            <ng-container\r\n              *ngIf=\"variablesService.currentWallet.balances$ | async as assets\"\r\n            >\r\n              <ng-container\r\n                *ngFor=\"\r\n                  let asset of assets | paginate : paginatePipeArgs;\r\n                  trackBy: trackByAssets\r\n                \"\r\n              >\r\n                <tr\r\n                  [delay]=\"500\"\r\n                  [placement]=\"'bottom'\"\r\n                  [timeDelay]=\"1000\"\r\n                  [tooltipClass]=\"'balance-tooltip'\"\r\n                  [tooltip]=\"getBalanceTooltip(asset)\"\r\n                >\r\n                  <td>\r\n                    <div\r\n                      class=\"text-ellipsis\"\r\n                      fxLayout=\"row\"\r\n                      fxLayoutAlign=\"start center\"\r\n                      fxLayoutGap=\"2rem\"\r\n                    >\r\n                      <div class=\"token-logo mr-1\">\r\n                        <img\r\n                          [src]=\"\r\n                            (asset | getWhiteAssetInfo | async)?.logo ||\r\n                            defaultImgSrc\r\n                          \"\r\n                          [alt]=\"asset.asset_info.ticker\"\r\n                          defaultImgAlt=\"default\"\r\n                          [defaultImgSrc]=\"defaultImgSrc\"\r\n                          appDefaultImg\r\n                        />\r\n                      </div>\r\n                      <b class=\"text-ellipsis\">{{\r\n                        asset.asset_info.full_name\r\n                      }}</b>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"text-ellipsis\">\r\n                      <b>\r\n                        {{ asset.total | intToMoney }}\r\n                        {{ asset.asset_info.ticker }}\r\n                      </b>\r\n                    </div>\r\n                  </td>\r\n                  <ng-container\r\n                    *ngIf=\"\r\n                      (asset | getWhiteAssetInfo | async)?.price_url\r\n                        | getPriceByUrl\r\n                        | async as price;\r\n                      else templateNotLoadPrice\r\n                    \"\r\n                  >\r\n                    <td>\r\n                      <div class=\"text-ellipsis\">\r\n                        <b>{{\r\n                          (asset.total | intToMoney) * price.usd\r\n                            | currency : 'USD'\r\n                        }}</b>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div class=\"text-ellipsis\">\r\n                        <b class=\"mr-0_5\">{{ price.usd | currency : 'USD' }}</b>\r\n                        <span\r\n                          [class.color-aqua]=\"price.usd_24h_change > 0\"\r\n                          [class.color-red]=\"price.usd_24h_change < 0\"\r\n                          >{{ price.usd_24h_change | number : '1.2-2' }}%</span\r\n                        >\r\n                      </div>\r\n                    </td>\r\n                  </ng-container>\r\n                  <ng-template #templateNotLoadPrice>\r\n                    <td></td>\r\n                    <td></td>\r\n                  </ng-template>\r\n                  <td>\r\n                    <div\r\n                      class=\"text-ellipsis\"\r\n                      fxLayout=\"row\"\r\n                      fxLayoutAlign=\"end center\"\r\n                    >\r\n                      <button\r\n                        #trigger=\"cdkOverlayOrigin\"\r\n                        (click)=\"\r\n                          $event.stopPropagation();\r\n                          toggleDropDownMenu(trigger, asset)\r\n                        \"\r\n                        [disabled]=\"false\"\r\n                        cdkOverlayOrigin\r\n                        class=\"btn-icon circle small ml-auto\"\r\n                        type=\"button\"\r\n                      >\r\n                        <i class=\"icon dots rotate-90\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                <tr class=\"row-divider\"></tr>\r\n              </ng-container>\r\n            </ng-container>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <pagination-template\r\n        *ngIf=\"isShowPagination\"\r\n        #p=\"paginationApi\"\r\n        [id]=\"paginationId\"\r\n        class=\"ngx-pagination custom-pagination\"\r\n        (pageChange)=\"currentPage = $event\"\r\n      >\r\n        <button\r\n          (click)=\"p.previous()\"\r\n          [disabled]=\"p.isFirstPage()\"\r\n          class=\"pagination-previous btn-icon circle small mr-0_5\"\r\n        >\r\n          <i class=\"icon arrow-left-stroke\"></i>\r\n        </button>\r\n\r\n        <div\r\n          *ngFor=\"let page of p.pages; trackBy: trackByPages\"\r\n          [class.current]=\"p.getCurrent() === page.value\"\r\n          class=\"mr-0_5\"\r\n        >\r\n          <a\r\n            (click)=\"p.setCurrent(page.value)\"\r\n            *ngIf=\"p.getCurrent() !== page.value\"\r\n          >\r\n            <span>{{ page.label }}</span>\r\n          </a>\r\n          <div *ngIf=\"p.getCurrent() === page.value\">\r\n            <span>{{ page.label }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          (click)=\"p.next()\"\r\n          [disabled]=\"p.isLastPage()\"\r\n          class=\"pagination-next btn-icon circle small\"\r\n        >\r\n          <i class=\"icon arrow-right-stroke\"></i>\r\n        </button>\r\n      </pagination-template>\r\n    </div>\r\n\r\n    <ng-template\r\n      (backdropClick)=\"$event.stopPropagation(); isOpenDropDownMenu = false\"\r\n      [cdkConnectedOverlayBackdropClass]=\"'opacity-0'\"\r\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\r\n      [cdkConnectedOverlayOrigin]=\"triggerOrigin\"\r\n      [cdkConnectedOverlayOpen]=\"isOpenDropDownMenu\"\r\n      [cdkConnectedOverlayPositions]=\"[\r\n        {\r\n          originX: 'end',\r\n          originY: 'top',\r\n          overlayX: 'end',\r\n          overlayY: 'top',\r\n          offsetY: 30\r\n        }\r\n      ]\"\r\n      cdkConnectedOverlay\r\n    >\r\n      <ul (click)=\"isOpenDropDownMenu = false\" class=\"list\">\r\n        <li class=\"item\">\r\n          <button\r\n            class=\"w-100 px-2 py-1\"\r\n            type=\"button\"\r\n            (click)=\"assetDetails()\"\r\n          >\r\n            <i class=\"icon info-icon mr-1\"></i>\r\n            <span>{{ 'ASSETS.DROP_DOWN_MENU.ASSET_DETAILS' | translate }}</span>\r\n          </button>\r\n        </li>\r\n\r\n        <ng-container *ngIf=\"!(currentAsset | hasInAssetsWhitelist | async)\">\r\n          <li class=\"item\">\r\n            <button\r\n              class=\"w-100 px-2 py-1\"\r\n              type=\"button\"\r\n              (click)=\"beforeRemoveAsset()\"\r\n            >\r\n              <i class=\"icon delete mr-1\"></i>\r\n              <span>{{\r\n                'ASSETS.DROP_DOWN_MENU.REMOVE_ASSET' | translate\r\n              }}</span>\r\n            </button>\r\n          </li>\r\n        </ng-container>\r\n      </ul>\r\n    </ng-template>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: auto;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class AssetsComponent implements OnInit, OnDestroy {\r\n  currentPage = 1;\r\n\r\n  itemsPerPage = 10;\r\n\r\n  paginationId = 'pagination-assets-id';\r\n\r\n  get paginatePipeArgs(): PaginatePipeArgs {\r\n    return {\r\n      id: this.paginationId,\r\n      itemsPerPage: this.itemsPerPage,\r\n      currentPage: this.currentPage,\r\n    };\r\n  }\r\n\r\n  get isShowPagination(): boolean {\r\n    const { currentWallet } = this.variablesService;\r\n    if (currentWallet) {\r\n      const { balances } = currentWallet;\r\n      return (balances?.length || 0) > this.itemsPerPage;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  triggerOrigin!: CdkOverlayOrigin;\r\n\r\n  currentAsset!: Asset;\r\n\r\n  isOpenDropDownMenu = false;\r\n\r\n  defaultImgSrc = 'assets/icons/currency-icons/custom_token.svg';\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backendService: BackendService,\r\n    private walletsService: WalletsService,\r\n    private store: Store,\r\n    private dialog: Dialog,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.listenChangeWallet();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  toggleDropDownMenu(trigger: CdkOverlayOrigin, asset: Asset): void {\r\n    this.isOpenDropDownMenu = !this.isOpenDropDownMenu;\r\n    this.triggerOrigin = trigger;\r\n    this.currentAsset = asset;\r\n  }\r\n\r\n  trackByAssets(\r\n    index: number,\r\n    { asset_info: { asset_id } }: Asset\r\n  ): number | string {\r\n    return asset_id || index;\r\n  }\r\n\r\n  trackByPages(index: number): number | string {\r\n    return index;\r\n  }\r\n\r\n  assetDetails(): void {\r\n    const dialogConfig: DialogConfig = {\r\n      data: {\r\n        asset: this.currentAsset,\r\n      },\r\n    };\r\n    this.dialog.open(AssetDetailsComponent, dialogConfig);\r\n  }\r\n\r\n  beforeRemoveAsset(): void {\r\n    if (!this.currentAsset) {\r\n      return;\r\n    }\r\n    const {\r\n      asset_info: { full_name },\r\n    } = this.currentAsset;\r\n    const dialogConfig: DialogConfig<ConfirmModalData> = {\r\n      data: {\r\n        title: `Do you want delete \"${full_name}\"`,\r\n      },\r\n    };\r\n\r\n    this.dialog\r\n      .open<boolean>(ConfirmModalComponent, dialogConfig)\r\n      .closed.pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: confirmed => confirmed && this.removeAsset(),\r\n      });\r\n  }\r\n\r\n  removeAsset(): void {\r\n    const { wallet_id } = this.variablesService.currentWallet;\r\n    const {\r\n      asset_info: { asset_id },\r\n    } = this.currentAsset;\r\n    const params: ParamsRemoveCustomAssetId = {\r\n      wallet_id,\r\n      asset_id,\r\n    };\r\n    this.backendService.removeCustomAssetId(params, () => {\r\n      this.walletsService.updateWalletInfo(wallet_id);\r\n      this.currentAsset = undefined;\r\n    });\r\n  }\r\n\r\n  getBalanceTooltip(balance: Asset): HTMLDivElement {\r\n    const tooltip = document.createElement('div');\r\n    const scrollWrapper = document.createElement('div');\r\n    if (!balance) {\r\n      return null;\r\n    }\r\n\r\n    scrollWrapper.classList.add('balance-scroll-list');\r\n    [balance].forEach(({ unlocked, total, asset_info: { ticker } }: Asset) => {\r\n      const available = document.createElement('span');\r\n      available.setAttribute('class', 'available');\r\n      available.innerHTML = this.translate.instant('WALLET.AVAILABLE_BALANCE', {\r\n        available: this.intToMoneyPipe.transform(unlocked),\r\n        currency: ticker || '---',\r\n      });\r\n      scrollWrapper.appendChild(available);\r\n      const locked = document.createElement('span');\r\n      locked.setAttribute('class', 'locked');\r\n      locked.innerHTML = this.translate.instant('WALLET.LOCKED_BALANCE', {\r\n        locked: this.intToMoneyPipe.transform(\r\n          new BigNumber(total).minus(unlocked)\r\n        ),\r\n        currency: ticker || '---',\r\n      });\r\n      scrollWrapper.appendChild(locked);\r\n    });\r\n    tooltip.appendChild(scrollWrapper);\r\n    const link = document.createElement('span');\r\n    link.setAttribute('class', 'link');\r\n    link.innerHTML = this.translate.instant('WALLET.LOCKED_BALANCE_LINK');\r\n    link.addEventListener('click', () => {\r\n      this.backendService.openUrlInBrowser(LOCKED_BALANCE_HELP_PAGE);\r\n    });\r\n    tooltip.appendChild(link);\r\n    return tooltip;\r\n  }\r\n\r\n  private listenChangeWallet(): void {\r\n    this.variablesService.getWalletChangedEvent\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: () => {\r\n          this.currentPage = 0;\r\n        },\r\n      });\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-contracts-tab',\r\n  template: ` <router-outlet></router-outlet> `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: auto;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class ContractsTabComponent {}\r\n","import { Component } from '@angular/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-contracts',\r\n  template: `\r\n    <div\r\n      *ngIf=\"\r\n        variablesService.currentWallet.contracts.length;\r\n        else emptyContracts\r\n      \"\r\n      class=\"container\"\r\n      fxFlexFill\r\n      fxLayout=\"column\"\r\n    >\r\n      <div class=\"wrap-table scrolled-content mb-2\" fxFlex=\"1 1 auto\">\r\n        <table class=\"contracts-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>\r\n                <div class=\"bg title\">\r\n                  {{ 'CONTRACTS.CONTRACTS' | translate }}\r\n                </div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">{{ 'CONTRACTS.DATE' | translate }}</div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">{{ 'CONTRACTS.AMOUNT' | translate }}</div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">{{ 'CONTRACTS.STATUS' | translate }}</div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">\r\n                  {{ 'CONTRACTS.COMMENTS' | translate }}\r\n                </div>\r\n              </th>\r\n            </tr>\r\n            <div class=\"row-divider\"></div>\r\n          </thead>\r\n          <tbody>\r\n            <ng-container *ngFor=\"let item of sortedArrayContracts\">\r\n              <tr\r\n                [routerLink]=\"'/wallet/contracts/purchase/' + item.contract_id\"\r\n              >\r\n                <td>\r\n                  <div class=\"contract\" fxLayout=\"row\" fxLayoutAlign=\" center\">\r\n                    <i *ngIf=\"!item.is_new\" class=\"icon alert mr-1\"></i>\r\n                    <i *ngIf=\"item.is_new\" class=\"icon new mr-1\"></i>\r\n                    <i\r\n                      [class.purchase-arrow-down]=\"item.is_a\"\r\n                      [class.purchase-arrow-up]=\"!item.is_a\"\r\n                      class=\"icon mr-1\"\r\n                    ></i>\r\n                    <span\r\n                      [delay]=\"500\"\r\n                      [showWhenNoOverflow]=\"false\"\r\n                      placement=\"top-left\"\r\n                      tooltip=\"{{ item.private_detailes.t }}\"\r\n                      tooltipClass=\"table-tooltip\"\r\n                      >{{ item.private_detailes.t }}</span\r\n                    >\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div>\r\n                    {{ item.timestamp * 1000 | date : 'dd-MM-yyyy HH:mm' }}\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div>\r\n                    {{ item.private_detailes.to_pay | intToMoney }}\r\n                    {{ variablesService.defaultCurrency }}\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div\r\n                    [class.color-red]=\"item.state === 4\"\r\n                    [delay]=\"500\"\r\n                    class=\"status\"\r\n                    placement=\"top\"\r\n                    tooltip=\"{{\r\n                      item.state | contractStatusMessages : item.is_a\r\n                    }}\"\r\n                    tooltipClass=\"table-tooltip\"\r\n                  >\r\n                    {{ item.state | contractStatusMessages : item.is_a }}\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div\r\n                    [delay]=\"500\"\r\n                    [showWhenNoOverflow]=\"false\"\r\n                    class=\"comment\"\r\n                    placement=\"top-right\"\r\n                    tooltip=\"{{ item.private_detailes.c }}\"\r\n                    tooltipClass=\"table-tooltip\"\r\n                  >\r\n                    {{ item.private_detailes.c }}\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <div class=\"row-divider\"></div>\r\n            </ng-container>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div\r\n        class=\"buttons-wrap w-100\"\r\n        fxFlex=\"0 0 auto\"\r\n        fxLayout=\"row\"\r\n        fxLayoutAlign=\"start center\"\r\n      >\r\n        <button\r\n          [routerLink]=\"'/wallet/contracts/purchase'\"\r\n          class=\"primary big max-w-19-rem w-100\"\r\n          type=\"button\"\r\n        >\r\n          {{ 'CONTRACTS.PURCHASE_BUTTON' | translate }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <ng-template #emptyContracts>\r\n      <div\r\n        class=\"container\"\r\n        fxFlexFill\r\n        fxLayout=\"column\"\r\n        fxLayoutAlign=\"center center\"\r\n      >\r\n        <span class=\"mb-2\">{{ 'CONTRACTS.EMPTY' | translate }}</span>\r\n        <button\r\n          [routerLink]=\"'/wallet/contracts/purchase'\"\r\n          class=\"primary big max-w-19-rem w-100\"\r\n          type=\"button\"\r\n        >\r\n          {{ 'CONTRACTS.PURCHASE_BUTTON' | translate }}\r\n        </button>\r\n      </div>\r\n    </ng-template>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: auto;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class ContractsComponent {\r\n  constructor(public variablesService: VariablesService) {}\r\n\r\n  get sortedArrayContracts(): any[] {\r\n    return this.variablesService.currentWallet.contracts.sort((a, b) => {\r\n      if (a.is_new < b.is_new) {\r\n        return 1;\r\n      }\r\n      if (a.is_new > b.is_new) {\r\n        return -1;\r\n      }\r\n      if (a.timestamp < b.timestamp) {\r\n        return 1;\r\n      }\r\n      if (a.timestamp > b.timestamp) {\r\n        return -1;\r\n      }\r\n      if (a.contract_id < b.contract_id) {\r\n        return 1;\r\n      }\r\n      if (a.contract_id > b.contract_id) {\r\n        return -1;\r\n      }\r\n      return 0;\r\n    });\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  HostListener,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport {\r\n  UntypedFormControl,\r\n  UntypedFormGroup,\r\n  ValidationErrors,\r\n  Validators,\r\n} from '@angular/forms';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { IntToMoneyPipe } from '@parts/pipes/int-to-money-pipe/int-to-money.pipe';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { NavigationService } from '@parts/services/back.service';\r\n\r\n@Component({\r\n  selector: 'app-purchase',\r\n  template: `\r\n    <div\r\n      class=\"container\"\r\n      fxFlexFill\r\n      fxLayout=\"column\"\r\n      fxLayoutAlign=\"start strech\"\r\n    >\r\n      <div class=\"breadcrumbs mb-2\">\r\n        <div class=\"breadcrumb\">\r\n          <a [routerLink]=\"'/wallet/contracts'\">{{\r\n            'BREADCRUMBS.CONTRACTS' | translate\r\n          }}</a>\r\n        </div>\r\n        <div *ngIf=\"newPurchase\" class=\"breadcrumb\">\r\n          <span>{{ 'BREADCRUMBS.NEW_PURCHASE' | translate }}</span>\r\n        </div>\r\n        <div *ngIf=\"!newPurchase\" class=\"breadcrumb\">\r\n          <span>{{ 'BREADCRUMBS.OLD_PURCHASE' | translate }}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"scrolled-content\">\r\n        <div class=\"form-wrap\" fxFlex=\"1 1 auto\" fxLayout=\"row\">\r\n          <form [formGroup]=\"purchaseForm\" class=\"form\">\r\n            <div class=\"form__field\">\r\n              <label for=\"purchase-description\">{{\r\n                'PURCHASE.DESCRIPTION' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                [placeholder]=\"\r\n                  'PLACEHOLDERS.DESCRIPTION_PLACEHOLDER' | translate\r\n                \"\r\n                [readonly]=\"!newPurchase\"\r\n                class=\"form__field--input\"\r\n                formControlName=\"description\"\r\n                id=\"purchase-description\"\r\n                maxlength=\"100\"\r\n                type=\"text\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  purchaseForm.controls['description'].invalid &&\r\n                  (purchaseForm.controls['description'].dirty ||\r\n                    purchaseForm.controls['description'].touched)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div\r\n                  *ngIf=\"\r\n                    newPurchase &&\r\n                    purchaseForm.controls['description'].value.length >= 100\r\n                  \"\r\n                >\r\n                  {{ 'PURCHASE.FORM_ERRORS.COMMENT_MAXIMUM' | translate }}\r\n                </div>\r\n                <div\r\n                  *ngIf=\"\r\n                    purchaseForm.controls['description'].hasError('required')\r\n                  \"\r\n                >\r\n                  {{ 'PURCHASE.FORM_ERRORS.DESC_REQUIRED' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field--row\">\r\n              <div class=\"form__field form__field-dropdown\">\r\n                <label for=\"purchase-seller\">{{\r\n                  'PURCHASE.SELLER' | translate\r\n                }}</label>\r\n                <input\r\n                  (contextmenu)=\"\r\n                    !newPurchase\r\n                      ? variablesService.onContextMenuOnlyCopy(\r\n                          $event,\r\n                          purchaseForm.controls['seller'].value\r\n                        )\r\n                      : variablesService.onContextMenu($event)\r\n                  \"\r\n                  (mousedown)=\"addressMouseDown($event)\"\r\n                  [placeholder]=\"'PLACEHOLDERS.SELLER_PLACEHOLDER' | translate\"\r\n                  [readonly]=\"!newPurchase\"\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"seller\"\r\n                  id=\"purchase-seller\"\r\n                  type=\"text\"\r\n                />\r\n\r\n                <div\r\n                  *ngIf=\"isOpen\"\r\n                  class=\"dropdown py-0_5 border-radius-0_8-rem bg-light-blue-details scrolled-content\"\r\n                >\r\n                  <div\r\n                    (click)=\"setAlias(item.name)\"\r\n                    *ngFor=\"let item of localAliases\"\r\n                    class=\"item p-1 text-ellipsis\"\r\n                  >\r\n                    {{ item.name }}\r\n                  </div>\r\n                </div>\r\n\r\n                <div\r\n                  *ngIf=\"\r\n                    purchaseForm.controls['seller'].invalid &&\r\n                    (purchaseForm.controls['seller'].dirty ||\r\n                      purchaseForm.controls['seller'].touched)\r\n                  \"\r\n                  class=\"error\"\r\n                >\r\n                  <div\r\n                    *ngIf=\"\r\n                      purchaseForm.controls['seller'].errors[\r\n                        'address_not_valid'\r\n                      ]\r\n                    \"\r\n                  >\r\n                    {{ 'PURCHASE.FORM_ERRORS.SELLER_NOT_VALID' | translate }}\r\n                  </div>\r\n                  <div\r\n                    *ngIf=\"\r\n                      purchaseForm.controls['seller'].errors['address_same']\r\n                    \"\r\n                  >\r\n                    {{ 'PURCHASE.FORM_ERRORS.SELLER_SAME' | translate }}\r\n                  </div>\r\n                  <div\r\n                    *ngIf=\"\r\n                      purchaseForm.controls['seller'].errors['alias_not_valid']\r\n                    \"\r\n                  >\r\n                    {{ 'PURCHASE.FORM_ERRORS.ALIAS_NOT_VALID' | translate }}\r\n                  </div>\r\n                  <div\r\n                    *ngIf=\"purchaseForm.controls['seller'].hasError('required')\"\r\n                  >\r\n                    {{ 'PURCHASE.FORM_ERRORS.SELLER_REQUIRED' | translate }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form__field\">\r\n                <label for=\"purchase-amount\">{{\r\n                  'PURCHASE.AMOUNT' | translate\r\n                }}</label>\r\n                <input\r\n                  (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                  [placeholder]=\"'PLACEHOLDERS.AMOUNT_PLACEHOLDER' | translate\"\r\n                  [readonly]=\"!newPurchase\"\r\n                  appInputValidate=\"money\"\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"amount\"\r\n                  id=\"purchase-amount\"\r\n                  type=\"text\"\r\n                />\r\n                <div\r\n                  *ngIf=\"\r\n                    purchaseForm.controls['amount'].invalid &&\r\n                    (purchaseForm.controls['amount'].dirty ||\r\n                      purchaseForm.controls['amount'].touched)\r\n                  \"\r\n                  class=\"error\"\r\n                >\r\n                  <div\r\n                    *ngIf=\"\r\n                      purchaseForm.controls['amount'].errors['amount_zero']\r\n                    \"\r\n                  >\r\n                    {{ 'PURCHASE.FORM_ERRORS.AMOUNT_ZERO' | translate }}\r\n                  </div>\r\n                  <div\r\n                    *ngIf=\"purchaseForm.controls['amount'].hasError('required')\"\r\n                  >\r\n                    {{ 'PURCHASE.FORM_ERRORS.AMOUNT_REQUIRED' | translate }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field--row\">\r\n              <div class=\"form__field\">\r\n                <label for=\"purchase-your-deposit\">{{\r\n                  (currentContract && !currentContract.is_a\r\n                    ? 'PURCHASE.BUYER_DEPOSIT'\r\n                    : 'PURCHASE.YOUR_DEPOSIT'\r\n                  ) | translate\r\n                }}</label>\r\n                <input\r\n                  (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                  [placeholder]=\"'PLACEHOLDERS.DEPOSIT_PLACEHOLDER' | translate\"\r\n                  [readonly]=\"!newPurchase\"\r\n                  appInputValidate=\"money\"\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"yourDeposit\"\r\n                  id=\"purchase-your-deposit\"\r\n                  type=\"text\"\r\n                />\r\n                <div\r\n                  *ngIf=\"\r\n                    purchaseForm.controls['yourDeposit'].invalid &&\r\n                    (purchaseForm.controls['yourDeposit'].dirty ||\r\n                      purchaseForm.controls['yourDeposit'].touched)\r\n                  \"\r\n                  class=\"error\"\r\n                >\r\n                  <div\r\n                    *ngIf=\"\r\n                      purchaseForm.controls['yourDeposit'].hasError('required')\r\n                    \"\r\n                  >\r\n                    {{\r\n                      'PURCHASE.FORM_ERRORS.YOUR_DEPOSIT_REQUIRED' | translate\r\n                    }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form__field\">\r\n                <div>\r\n                  <label for=\"purchase-seller-deposit\"\r\n                    >{{\r\n                      (currentContract && !currentContract.is_a\r\n                        ? 'PURCHASE.YOUR_DEPOSIT'\r\n                        : 'PURCHASE.SELLER_DEPOSIT'\r\n                      ) | translate\r\n                    }}\r\n                  </label>\r\n                  <app-checkbox\r\n                    (emitChange)=\"sameAmountChange()\"\r\n                    class=\"ml-2\"\r\n                    formControlName=\"sameAmount\"\r\n                    label=\"{{ 'PURCHASE.SAME_AMOUNT' | translate }}\"\r\n                  >\r\n                  </app-checkbox>\r\n                </div>\r\n                <input\r\n                  (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                  [placeholder]=\"\r\n                    'PLACEHOLDERS.SELLER_DEPOSIT_PLACEHOLDER' | translate\r\n                  \"\r\n                  [readonly]=\"!newPurchase\"\r\n                  [value]=\"\r\n                    sameAmountChecked\r\n                      ? purchaseForm.controls['amount'].value\r\n                      : ''\r\n                  \"\r\n                  appInputValidate=\"money\"\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"sellerDeposit\"\r\n                  id=\"purchase-seller-deposit\"\r\n                  type=\"text\"\r\n                />\r\n                <div\r\n                  *ngIf=\"\r\n                    purchaseForm.controls['sellerDeposit'].invalid &&\r\n                    (purchaseForm.controls['sellerDeposit'].dirty ||\r\n                      purchaseForm.controls['sellerDeposit'].touched)\r\n                  \"\r\n                  class=\"error\"\r\n                >\r\n                  <div\r\n                    *ngIf=\"\r\n                      purchaseForm.controls['sellerDeposit'].hasError(\r\n                        'required'\r\n                      )\r\n                    \"\r\n                  >\r\n                    {{\r\n                      'PURCHASE.FORM_ERRORS.SELLER_DEPOSIT_REQUIRED' | translate\r\n                    }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form__field\">\r\n              <label for=\"purchase-comment\">{{\r\n                'PURCHASE.COMMENT' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                [readonly]=\"!newPurchase\"\r\n                class=\"form__field--input\"\r\n                formControlName=\"comment\"\r\n                id=\"purchase-comment\"\r\n                maxlength=\"100\"\r\n                placeholder=\"{{\r\n                  'PLACEHOLDERS.COMMENT_PLACEHOLDER' | translate\r\n                }}\"\r\n                type=\"text\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  newPurchase &&\r\n                  purchaseForm.controls['comment'].value.length >= 100\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div>\r\n                  {{ 'PURCHASE.FORM_ERRORS.COMMENT_MAXIMUM' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              *ngIf=\"variablesService.appPass\"\r\n              class=\"form__field max-w-50-rem\"\r\n            >\r\n              <label for=\"password\">{{\r\n                'LOGIN.MASTER_PASS' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                [placeholder]=\"\r\n                  'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\r\n                \"\r\n                [readonly]=\"!newPurchase\"\r\n                autofocus\r\n                class=\"form__field--input\"\r\n                formControlName=\"password\"\r\n                id=\"password\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  purchaseForm.controls['password'].invalid &&\r\n                  (purchaseForm.controls['password'].dirty ||\r\n                    purchaseForm.controls['password'].touched)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div\r\n                  *ngIf=\"purchaseForm.controls['password'].hasError('required')\"\r\n                >\r\n                  {{ 'LOGIN.FORM_ERRORS.PASS_REQUIRED' | translate }}\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                *ngIf=\"\r\n                  purchaseForm.controls.password.errors &&\r\n                  purchaseForm.controls.password.errors.password_not_match\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div>\r\n                  {{ 'LOGIN.FORM_ERRORS.MISMATCH' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"details mb-2\">\r\n              <button\r\n                (click)=\"toggleOptions()\"\r\n                [class.border-radius-all]=\"!additionalOptions\"\r\n                class=\"header\"\r\n                type=\"button\"\r\n              >\r\n                <span>{{ 'PURCHASE.DETAILS' | translate }}</span>\r\n                <i\r\n                  [class.dropdown-arrow-down]=\"!additionalOptions\"\r\n                  [class.dropdown-arrow-up]=\"additionalOptions\"\r\n                  class=\"icon ml-1\"\r\n                ></i>\r\n              </button>\r\n\r\n              <div *ngIf=\"additionalOptions\" class=\"content\">\r\n                <div class=\"form__field--row\">\r\n                  <div class=\"form__field\">\r\n                    <label for=\"purchase-fee\">{{\r\n                      'PURCHASE.FEE' | translate\r\n                    }}</label>\r\n                    <input\r\n                      class=\"form__field--input\"\r\n                      formControlName=\"fee\"\r\n                      id=\"purchase-fee\"\r\n                      readonly\r\n                      type=\"text\"\r\n                    />\r\n                  </div>\r\n                  <div *ngIf=\"newPurchase\" class=\"form__field\">\r\n                    <label for=\"purchase-time\">{{\r\n                      'PURCHASE.WAITING_TIME' | translate\r\n                    }}</label>\r\n                    <ng-select\r\n                      [clearable]=\"false\"\r\n                      [searchable]=\"false\"\r\n                      class=\"custom-select\"\r\n                      formControlName=\"time\"\r\n                      id=\"purchase-time\"\r\n                    >\r\n                      <ng-option [value]=\"1\"\r\n                        >1 {{ 'PURCHASE.HOUR' | translate }}</ng-option\r\n                      >\r\n                      <ng-option\r\n                        *ngFor=\"\r\n                          let title of [\r\n                            2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,\r\n                            17, 18, 19, 20, 21, 22, 23, 24\r\n                          ]\r\n                        \"\r\n                        [value]=\"title\"\r\n                      >\r\n                        {{ title }} {{ 'PURCHASE.HOURS' | translate }}\r\n                      </ng-option>\r\n                    </ng-select>\r\n                  </div>\r\n                  <div class=\"form__field\">\r\n                    <label for=\"purchase-payment\">{{\r\n                      'PURCHASE.PAYMENT' | translate\r\n                    }}</label>\r\n                    <input\r\n                      (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                      [readonly]=\"!newPurchase\"\r\n                      class=\"form__field--input\"\r\n                      formControlName=\"payment\"\r\n                      id=\"purchase-payment\"\r\n                      placeholder=\"{{\r\n                        'PLACEHOLDERS.PURCHASE_PAYMENT_PLACEHOLDER' | translate\r\n                      }}\"\r\n                      type=\"text\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              (click)=\"createPurchase()\"\r\n              *ngIf=\"newPurchase\"\r\n              [disabled]=\"!purchaseForm.valid\"\r\n              class=\"primary big max-w-19-rem w-100\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'PURCHASE.SEND_BUTTON' | translate }}\r\n            </button>\r\n\r\n            <div\r\n              *ngIf=\"!newPurchase\"\r\n              class=\"purchase-states mt-2 mb-2\"\r\n              fxLayout=\"column\"\r\n              fxLayoutAlign=\"center center\"\r\n            >\r\n              <ng-container\r\n                *ngIf=\"\r\n                  currentContract.state === 1 &&\r\n                  !currentContract.is_a &&\r\n                  currentContract.private_detailes.b_pledge\r\n                    .plus(variablesService.default_fee_big)\r\n                    .plus(variablesService.default_fee_big)\r\n                    .isGreaterThan(\r\n                      variablesService.currentWallet.unlocked_balance\r\n                    )\r\n                \"\r\n              >\r\n                <span>{{ 'PURCHASE.NEED_MONEY' | translate }}</span>\r\n              </ng-container>\r\n            </div>\r\n\r\n            <div\r\n              *ngIf=\"!newPurchase\"\r\n              class=\"purchase-buttons\"\r\n              fxLayout=\"row\"\r\n              fxLayoutAlign=\"start center\"\r\n            >\r\n              <ng-container\r\n                *ngIf=\"!currentContract.is_a && currentContract.state === 1\"\r\n              >\r\n                <button\r\n                  (click)=\"acceptState()\"\r\n                  [disabled]=\"\r\n                    currentContract.private_detailes.b_pledge\r\n                      .plus(variablesService.default_fee_big)\r\n                      .plus(variablesService.default_fee_big)\r\n                      .isGreaterThan(\r\n                        variablesService.currentWallet.unlocked_balance\r\n                      )\r\n                  \"\r\n                  class=\"primary big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.BUTTON_MAKE_PLEDGE' | translate }}\r\n                </button>\r\n                <button\r\n                  (click)=\"ignoredContract()\"\r\n                  class=\"outline big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.BUTTON_IGNORE' | translate }}\r\n                </button>\r\n              </ng-container>\r\n\r\n              <ng-container\r\n                *ngIf=\"\r\n                  !showNullify &&\r\n                  !showTimeSelect &&\r\n                  currentContract.is_a &&\r\n                  (currentContract.state === 201 ||\r\n                    currentContract.state === 2 ||\r\n                    currentContract.state === 120 ||\r\n                    currentContract.state === 130)\r\n                \"\r\n              >\r\n                <button\r\n                  (click)=\"dealsDetailsFinish()\"\r\n                  [disabled]=\"\r\n                    currentContract.cancel_expiration_time === 0 &&\r\n                    (currentContract.height === 0 ||\r\n                      variablesService.height_app - currentContract.height < 10)\r\n                  \"\r\n                  class=\"primary big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.BUTTON_RECEIVED' | translate }}\r\n                </button>\r\n                <button\r\n                  (click)=\"showNullify = true\"\r\n                  [disabled]=\"\r\n                    currentContract.cancel_expiration_time === 0 &&\r\n                    (currentContract.height === 0 ||\r\n                      variablesService.height_app - currentContract.height < 10)\r\n                  \"\r\n                  class=\"outline big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.BUTTON_NULLIFY' | translate }}\r\n                </button>\r\n                <button\r\n                  (click)=\"showTimeSelect = true\"\r\n                  [disabled]=\"\r\n                    currentContract.cancel_expiration_time === 0 &&\r\n                    (currentContract.height === 0 ||\r\n                      variablesService.height_app - currentContract.height < 10)\r\n                  \"\r\n                  class=\"outline big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.BUTTON_CANCEL_BUYER' | translate }}\r\n                </button>\r\n              </ng-container>\r\n\r\n              <ng-container\r\n                *ngIf=\"!currentContract.is_a && currentContract.state === 5\"\r\n              >\r\n                <button\r\n                  (click)=\"dealsDetailsDontCanceling()\"\r\n                  class=\"outline big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.BUTTON_NOT_CANCEL' | translate }}\r\n                </button>\r\n                <button\r\n                  (click)=\"dealsDetailsSellerCancel()\"\r\n                  class=\"primary big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.BUTTON_CANCEL_SELLER' | translate }}\r\n                </button>\r\n              </ng-container>\r\n            </div>\r\n\r\n            <div\r\n              *ngIf=\"showNullify\"\r\n              class=\"nullify-block-row\"\r\n              fxLayout=\"column\"\r\n              fxLayoutAlign=\"center center\"\r\n            >\r\n              <div>{{ 'PURCHASE.NULLIFY_QUESTION' | translate }}</div>\r\n              <div\r\n                class=\"nullify-block-buttons my-1 mx-0 w-100\"\r\n                fxLayout=\"row\"\r\n                fxLayoutAlign=\"center center\"\r\n              >\r\n                <button\r\n                  (click)=\"showNullify = false\"\r\n                  class=\"primary big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.CANCEL' | translate }}\r\n                </button>\r\n                <button\r\n                  (click)=\"productNotGot()\"\r\n                  class=\"primary big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.BUTTON_NULLIFY_SHORT' | translate }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              *ngIf=\"\r\n                showTimeSelect &&\r\n                !newPurchase &&\r\n                currentContract.is_a &&\r\n                (currentContract.state === 201 ||\r\n                  currentContract.state === 2 ||\r\n                  currentContract.state === 120 ||\r\n                  currentContract.state === 130)\r\n              \"\r\n              class=\"time-cancel-block-row\"\r\n              fxLayout=\"column\"\r\n              fxLayoutAlign=\"center center\"\r\n            >\r\n              <div class=\"time-cancel-block-question mb-1\">\r\n                {{ 'PURCHASE.WAITING_TIME_QUESTION' | translate }}\r\n              </div>\r\n              <label class=\"mb-1\" for=\"purchase-timeCancel\">{{\r\n                'PURCHASE.WAITING_TIME' | translate\r\n              }}</label>\r\n              <div class=\"form__field\">\r\n                <ng-select\r\n                  [clearable]=\"false\"\r\n                  [searchable]=\"false\"\r\n                  formControlName=\"timeCancel\"\r\n                  id=\"purchase-timeCancel\"\r\n                >\r\n                  <ng-option [value]=\"1\"\r\n                    >1 {{ 'PURCHASE.HOUR' | translate }}</ng-option\r\n                  >\r\n                  <ng-option\r\n                    *ngFor=\"\r\n                      let title of [\r\n                        2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,\r\n                        18, 19, 20, 21, 22, 23, 24\r\n                      ]\r\n                    \"\r\n                    [value]=\"title\"\r\n                  >\r\n                    {{ title }} {{ 'PURCHASE.HOURS' | translate }}\r\n                  </ng-option>\r\n                </ng-select>\r\n              </div>\r\n              <div\r\n                class=\"time-cancel-block-buttons my-1 mx-0 w-100\"\r\n                fxLayout=\"row\"\r\n                fxLayoutAlign=\"center center\"\r\n              >\r\n                <button\r\n                  (click)=\"showTimeSelect = false\"\r\n                  class=\"outline big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.CANCEL' | translate }}\r\n                </button>\r\n                <button\r\n                  (click)=\"dealsDetailsCancel()\"\r\n                  class=\"primary big\"\r\n                  type=\"button\"\r\n                >\r\n                  {{ 'PURCHASE.BUTTON_CANCEL_BUYER' | translate }}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <!-- TODO - Do not delete, may be needed later. 12.05 decided to temporarily remove.  -->\r\n      <!--    <div class=\"progress-bar-container\">-->\r\n      <!--        <div class=\"progress-bar\">-->\r\n      <!--            <div class=\"progress-bar-full\"-->\r\n      <!--                 [style.width]=\"getProgressBarWidth()\"></div>-->\r\n      <!--        </div>-->\r\n      <!--        <div class=\"progress-labels h-100\" fxLayout=\"column\" fxLayoutAlign=\"center center\">-->\r\n      <!--            <ng-container *ngIf=\"newPurchase\">-->\r\n      <!--                <span>{{ 'PURCHASE.STATUS_MESSAGES.NEW_PURCHASE' | translate }}</span>-->\r\n      <!--            </ng-container>-->\r\n\r\n      <!--            <ng-container *ngIf=\"!newPurchase && currentContract.is_a\">-->\r\n      <!--                <span *ngIf=\"currentContract.state == 1\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_SELLER' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 110\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_SELLER' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 120\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_DELIVERY' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 130\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_CANCEL_SELLER' | translate-->\r\n      <!--                    }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 140\">{{ 'PURCHASE.STATUS_MESSAGES.EXPIRED' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 2\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_SELLER' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 201\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_CONFIRMATION' | translate }}-->\r\n      <!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n      <!--        <ng-container-->\r\n      <!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n      <!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n      <!--      </span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 3\">{{ 'PURCHASE.STATUS_MESSAGES.COMPLETED' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 4\"-->\r\n      <!--                      class=\"color-red\">-->\r\n      <!--        {{ 'PURCHASE.STATUS_MESSAGES.NOT_RECEIVED' | translate }}. {{ 'PURCHASE.STATUS_MESSAGES.NULLIFIED' | translate-->\r\n      <!--                    }}-->\r\n      <!--      </span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 5\">{{ 'PURCHASE.STATUS_MESSAGES.PROPOSAL_CANCEL_SELLER' | translate-->\r\n      <!--                    }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 6\">{{ 'PURCHASE.STATUS_MESSAGES.CANCELLED' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 601\">-->\r\n      <!--        {{ 'PURCHASE.STATUS_MESSAGES.BEING_CANCELLED' | translate }}-->\r\n      <!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n      <!--        <ng-container-->\r\n      <!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n      <!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n      <!--      </span>-->\r\n      <!--            </ng-container>-->\r\n\r\n      <!--            <ng-container *ngIf=\"!newPurchase && !currentContract.is_a\">-->\r\n      <!--                <span *ngIf=\"currentContract.state == 1\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_BUYER' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 110\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_BUYER' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 130\">{{ 'PURCHASE.STATUS_MESSAGES.IGNORED_CANCEL_BUYER' | translate-->\r\n      <!--                    }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 140\">{{ 'PURCHASE.STATUS_MESSAGES.EXPIRED' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 2\">{{ 'PURCHASE.STATUS_MESSAGES.WAITING_DELIVERY' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 201\">-->\r\n      <!--        {{ 'PURCHASE.STATUS_MESSAGES.WAITING_CONFIRMATION' | translate }}-->\r\n      <!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n      <!--        <ng-container-->\r\n      <!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n      <!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n      <!--      </span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 3\">{{ 'PURCHASE.STATUS_MESSAGES.COMPLETED' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 4\"-->\r\n      <!--                      class=\"color-red\">-->\r\n      <!--        {{ 'PURCHASE.STATUS_MESSAGES.NOT_RECEIVED' | translate }}. {{ 'PURCHASE.STATUS_MESSAGES.NULLIFIED' | translate}}-->\r\n      <!--      </span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 5\">{{ 'PURCHASE.STATUS_MESSAGES.PROPOSAL_CANCEL_BUYER' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 6\">{{ 'PURCHASE.STATUS_MESSAGES.CANCELLED' | translate }}</span>-->\r\n      <!--                <span *ngIf=\"currentContract.state == 601\">-->\r\n      <!--        {{ 'PURCHASE.STATUS_MESSAGES.BEING_CANCELLED' | translate }}-->\r\n      <!--                    <ng-container *ngIf=\"currentContract.height === 0\">(0/10)</ng-container>-->\r\n      <!--        <ng-container-->\r\n      <!--              *ngIf=\"currentContract.height !== 0 && (variablesService.height_app - currentContract.height) < 10\">-->\r\n      <!--          ({{variablesService.height_app - currentContract.height}}/10)</ng-container>-->\r\n      <!--      </span>-->\r\n      <!--            </ng-container>-->\r\n      <!--        </div>-->\r\n      <!--        <div class=\"progress-time\"-->\r\n      <!--             *ngIf=\"!newPurchase\">-->\r\n      <!--            <span *ngIf=\"currentContract.is_a && currentContract.state == 1\">-->\r\n      <!--                {{currentContract.expiration_time | contractTimeLeft: 0}}-->\r\n      <!--            </span>-->\r\n      <!--            <span *ngIf=\"currentContract.is_a && currentContract.state == 5\">-->\r\n      <!--                {{currentContract.cancel_expiration_time | contractTimeLeft: 2}}-->\r\n      <!--            </span>-->\r\n      <!--            <span *ngIf=\"!currentContract.is_a && currentContract.state == 1\">-->\r\n      <!--                {{currentContract.expiration_time | contractTimeLeft: 1}}-->\r\n      <!--            </span>-->\r\n      <!--            <span *ngIf=\"!currentContract.is_a && currentContract.state == 5\">-->\r\n      <!--                {{currentContract.cancel_expiration_time | contractTimeLeft: 1}}-->\r\n      <!--            </span>-->\r\n      <!--        </div>-->\r\n      <!--    </div>-->\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: auto;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class PurchaseComponent implements OnInit, OnDestroy {\r\n  isOpen = false;\r\n\r\n  localAliases = [];\r\n\r\n  newPurchase = false;\r\n\r\n  actionData = null;\r\n\r\n  historyBlock;\r\n\r\n  sameAmountChecked = false;\r\n\r\n  additionalOptions = false;\r\n\r\n  currentContract = null;\r\n\r\n  showTimeSelect = false;\r\n\r\n  showNullify = false;\r\n\r\n  purchaseForm = new UntypedFormGroup({\r\n    description: new UntypedFormControl('', Validators.required),\r\n    seller: new UntypedFormControl('', [\r\n      Validators.required,\r\n      (g: UntypedFormControl): ValidationErrors | null => {\r\n        if (g.value === this.variablesService.currentWallet.address) {\r\n          return { address_same: true };\r\n        }\r\n        return null;\r\n      },\r\n      (g: UntypedFormControl): ValidationErrors | null => {\r\n        this.localAliases = [];\r\n        if (g.value) {\r\n          if (g.value.indexOf('@') !== 0) {\r\n            this.isOpen = false;\r\n            this.backend.validateAddress(g.value, valid_status => {\r\n              this.ngZone.run(() => {\r\n                if (valid_status === false) {\r\n                  g.setErrors(\r\n                    Object.assign({ address_not_valid: true }, g.errors)\r\n                  );\r\n                } else {\r\n                  if (g.hasError('address_not_valid')) {\r\n                    delete g.errors['address_not_valid'];\r\n                    if (Object.keys(g.errors).length === 0) {\r\n                      g.setErrors(null);\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            });\r\n            return g.hasError('address_not_valid')\r\n              ? { address_not_valid: true }\r\n              : null;\r\n          } else {\r\n            this.isOpen = true;\r\n            this.localAliases = this.variablesService.aliases.filter(item => {\r\n              return item.name.indexOf(g.value) > -1;\r\n            });\r\n            // eslint-disable-next-line\r\n            if (!/^@?[a-z\\d\\-]{6,25}$/.test(g.value)) {\r\n              g.setErrors(Object.assign({ alias_not_valid: true }, g.errors));\r\n            } else {\r\n              this.backend.getAliasByName(\r\n                g.value.replace('@', ''),\r\n                (alias_status, alias_data) => {\r\n                  this.ngZone.run(() => {\r\n                    if (alias_status) {\r\n                      if (\r\n                        alias_data.address ===\r\n                        this.variablesService.currentWallet.address\r\n                      ) {\r\n                        g.setErrors(\r\n                          Object.assign({ address_same: true }, g.errors)\r\n                        );\r\n                      }\r\n                      if (g.hasError('alias_not_valid')) {\r\n                        delete g.errors['alias_not_valid'];\r\n                        if (Object.keys(g.errors).length === 0) {\r\n                          g.setErrors(null);\r\n                        }\r\n                      }\r\n                    } else {\r\n                      g.setErrors(\r\n                        Object.assign({ alias_not_valid: true }, g.errors)\r\n                      );\r\n                    }\r\n                  });\r\n                }\r\n              );\r\n            }\r\n            return g.hasError('alias_not_valid')\r\n              ? { alias_not_valid: true }\r\n              : null;\r\n          }\r\n        }\r\n        return null;\r\n      },\r\n    ]),\r\n    amount: new UntypedFormControl(null, [\r\n      Validators.required,\r\n      (g: UntypedFormControl): ValidationErrors | null => {\r\n        if (parseFloat(g.value) === 0) {\r\n          return { amount_zero: true };\r\n        }\r\n        return null;\r\n      },\r\n    ]),\r\n    yourDeposit: new UntypedFormControl(null, Validators.required),\r\n    sellerDeposit: new UntypedFormControl(null, Validators.required),\r\n    sameAmount: new UntypedFormControl({ value: false, disabled: false }),\r\n    comment: new UntypedFormControl(''),\r\n    fee: new UntypedFormControl(this.variablesService.default_fee),\r\n    time: new UntypedFormControl({ value: 12, disabled: false }),\r\n    timeCancel: new UntypedFormControl({ value: 12, disabled: false }),\r\n    payment: new UntypedFormControl(''),\r\n    password: new UntypedFormControl(''),\r\n  });\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private backend: BackendService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private navigationService: NavigationService\r\n  ) {}\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  onClick(targetElement): void {\r\n    if (targetElement.id !== 'purchase-seller' && this.isOpen) {\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe({\r\n      next: params => {\r\n        if (hasOwnProperty(params, 'id')) {\r\n          this.currentContract =\r\n            this.variablesService.currentWallet.getContract(params['id']);\r\n          this.purchaseForm.controls['seller'].setValidators([]);\r\n          this.purchaseForm.updateValueAndValidity();\r\n          this.purchaseForm.setValue({\r\n            description: this.currentContract.private_detailes.t,\r\n            seller: this.currentContract.private_detailes.b_addr,\r\n            amount: this.intToMoneyPipe.transform(\r\n              this.currentContract.private_detailes.to_pay\r\n            ),\r\n            yourDeposit: this.intToMoneyPipe.transform(\r\n              this.currentContract.private_detailes.a_pledge\r\n            ),\r\n            sellerDeposit: this.intToMoneyPipe.transform(\r\n              this.currentContract.private_detailes.b_pledge\r\n            ),\r\n            sameAmount: this.currentContract.private_detailes.to_pay.isEqualTo(\r\n              this.currentContract.private_detailes.b_pledge\r\n            ),\r\n            comment: this.currentContract.private_detailes.c,\r\n            fee: this.variablesService.default_fee,\r\n            time: 12,\r\n            timeCancel: 12,\r\n            payment: this.currentContract.payment_id,\r\n            password: this.variablesService.appPass,\r\n          });\r\n          this.purchaseForm.get('sameAmount').disable();\r\n          this.newPurchase = false;\r\n\r\n          if (this.currentContract.is_new) {\r\n            if (this.currentContract.is_a && this.currentContract.state === 2) {\r\n              this.currentContract.state = 120;\r\n            }\r\n            if (\r\n              this.currentContract.state === 130 &&\r\n              this.currentContract.cancel_expiration_time !== 0 &&\r\n              this.currentContract.cancel_expiration_time <\r\n                this.variablesService.exp_med_ts\r\n            ) {\r\n              this.currentContract.state = 2;\r\n            }\r\n            this.variablesService.settings.viewedContracts = this\r\n              .variablesService.settings.viewedContracts\r\n              ? this.variablesService.settings.viewedContracts\r\n              : [];\r\n            let findViewedCont = false;\r\n            for (\r\n              let j = 0;\r\n              j < this.variablesService.settings.viewedContracts.length;\r\n              j++\r\n            ) {\r\n              if (\r\n                this.variablesService.settings.viewedContracts[j]\r\n                  .contract_id === this.currentContract.contract_id &&\r\n                this.variablesService.settings.viewedContracts[j].is_a ===\r\n                  this.currentContract.is_a\r\n              ) {\r\n                this.variablesService.settings.viewedContracts[j].state =\r\n                  this.currentContract.state;\r\n                findViewedCont = true;\r\n                break;\r\n              }\r\n            }\r\n            if (!findViewedCont) {\r\n              this.variablesService.settings.viewedContracts.push({\r\n                contract_id: this.currentContract.contract_id,\r\n                is_a: this.currentContract.is_a,\r\n                state: this.currentContract.state,\r\n              });\r\n            }\r\n            this.currentContract.is_new = false;\r\n            setTimeout(() => {\r\n              this.variablesService.currentWallet.recountNewContracts();\r\n            }, 0);\r\n          }\r\n          this.checkAndChangeHistory();\r\n        } else {\r\n          this.newPurchase = true;\r\n        }\r\n      },\r\n    });\r\n\r\n    this.variablesService.getHeightAppEvent\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (newHeight: number) => {\r\n          if (\r\n            this.currentContract &&\r\n            this.currentContract.state === 201 &&\r\n            this.currentContract.height !== 0 &&\r\n            newHeight - this.currentContract.height >= 10\r\n          ) {\r\n            this.currentContract.state = 2;\r\n            this.currentContract.is_new = true;\r\n            this.variablesService.currentWallet.recountNewContracts();\r\n          } else if (\r\n            this.currentContract &&\r\n            this.currentContract.state === 601 &&\r\n            this.currentContract.height !== 0 &&\r\n            newHeight - this.currentContract.height >= 10\r\n          ) {\r\n            this.currentContract.state = 6;\r\n            this.currentContract.is_new = true;\r\n            this.variablesService.currentWallet.recountNewContracts();\r\n          }\r\n        },\r\n      });\r\n\r\n    if (this.variablesService.appPass) {\r\n      this.purchaseForm.controls.password.setValidators([\r\n        Validators.required,\r\n        (g: UntypedFormControl): ValidationErrors | null => {\r\n          if (g.value) {\r\n            this.backend.checkMasterPassword({ pass: g.value }, status => {\r\n              this.ngZone.run(() => {\r\n                if (status === false) {\r\n                  g.setErrors(\r\n                    Object.assign({ password_not_match: true }, g.errors)\r\n                  );\r\n                } else {\r\n                  if (g.hasError('password_not_match')) {\r\n                    delete g.errors['password_not_match'];\r\n                    if (Object.keys(g.errors).length === 0) {\r\n                      g.setErrors(null);\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            });\r\n            return g.hasError('password_not_match')\r\n              ? { password_not_match: true }\r\n              : null;\r\n          }\r\n          return null;\r\n        },\r\n      ]);\r\n    }\r\n    this.variablesService.sendActionData$\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: res => {\r\n          if (res.action === 'escrow') {\r\n            this.actionData = res;\r\n            this.fillDeepLinkData();\r\n            this.variablesService.sendActionData$.next({});\r\n          }\r\n        },\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  checkAndChangeHistory(): void {\r\n    if (this.currentContract.state === 201) {\r\n      this.historyBlock = this.variablesService.currentWallet.history.find(\r\n        item =>\r\n          item.tx_type === 8 &&\r\n          item.contract[0].contract_id === this.currentContract.contract_id &&\r\n          item.contract[0].is_a === this.currentContract.is_a\r\n      );\r\n    } else if (this.currentContract.state === 601) {\r\n      this.historyBlock = this.variablesService.currentWallet.history.find(\r\n        item =>\r\n          item.tx_type === 12 &&\r\n          item.contract[0].contract_id === this.currentContract.contract_id &&\r\n          item.contract[0].is_a === this.currentContract.is_a\r\n      );\r\n    }\r\n  }\r\n\r\n  addressMouseDown(e): void {\r\n    if (\r\n      e['button'] === 0 &&\r\n      this.purchaseForm.get('seller').value &&\r\n      this.purchaseForm.get('seller').value.indexOf('@') === 0\r\n    ) {\r\n      this.isOpen = true;\r\n    }\r\n  }\r\n\r\n  setAlias(alias): void {\r\n    this.purchaseForm.get('seller').setValue(alias);\r\n  }\r\n\r\n  fillDeepLinkData(): void {\r\n    this.additionalOptions = true;\r\n    this.purchaseForm\r\n      .get('description')\r\n      .setValue(this.actionData.description || '');\r\n    this.purchaseForm\r\n      .get('seller')\r\n      .setValue(this.actionData.seller_address || '');\r\n    this.purchaseForm.get('amount').setValue(this.actionData.amount || '');\r\n    this.purchaseForm\r\n      .get('yourDeposit')\r\n      .setValue(this.actionData.my_deposit || '');\r\n    this.purchaseForm\r\n      .get('sellerDeposit')\r\n      .setValue(this.actionData.seller_deposit || '');\r\n    this.purchaseForm\r\n      .get('comment')\r\n      .setValue(this.actionData.comment || this.actionData.comments || '');\r\n  }\r\n\r\n  toggleOptions(): void {\r\n    this.additionalOptions = !this.additionalOptions;\r\n  }\r\n\r\n  getProgressBarWidth(): string {\r\n    let progress = '0';\r\n    if (!this.newPurchase) {\r\n      if (this.currentContract) {\r\n        if (this.currentContract.state === 1) {\r\n          progress = '10%';\r\n        }\r\n        if (this.currentContract.state === 201) {\r\n          progress = '25%';\r\n        }\r\n        if ([120, 2].indexOf(this.currentContract.state) !== -1) {\r\n          progress = '50%';\r\n        }\r\n        if ([5, 601].indexOf(this.currentContract.state) !== -1) {\r\n          progress = '75%';\r\n        }\r\n        if (\r\n          [110, 130, 140, 3, 4, 6].indexOf(this.currentContract.state) !== -1\r\n        ) {\r\n          progress = '100%';\r\n        }\r\n      }\r\n    }\r\n    return progress;\r\n  }\r\n\r\n  sameAmountChange(): void {\r\n    if (!this.sameAmountChecked) {\r\n      this.purchaseForm.get('sellerDeposit').clearValidators();\r\n      this.purchaseForm.get('sellerDeposit').updateValueAndValidity();\r\n      this.sameAmountChecked = !this.sameAmountChecked;\r\n    } else {\r\n      this.purchaseForm\r\n        .get('sellerDeposit')\r\n        .setValidators([Validators.required]);\r\n      this.purchaseForm.get('sellerDeposit').updateValueAndValidity();\r\n      this.sameAmountChecked = !this.sameAmountChecked;\r\n    }\r\n  }\r\n\r\n  back(): void {\r\n    this.navigationService.back();\r\n  }\r\n\r\n  createPurchase(): void {\r\n    if (this.purchaseForm.valid) {\r\n      const {\r\n        amount,\r\n        comment,\r\n        description,\r\n        payment,\r\n        sameAmount,\r\n        seller,\r\n        sellerDeposit,\r\n        time,\r\n        yourDeposit,\r\n      } = this.purchaseForm.value;\r\n\r\n      const { wallet_id, address } = this.variablesService.currentWallet;\r\n\r\n      const b_pledge = sameAmount ? amount : sellerDeposit;\r\n\r\n      const callback = (create_status): void => {\r\n        if (create_status) {\r\n          this.back();\r\n        }\r\n      };\r\n\r\n      if (seller.indexOf('@') !== 0) {\r\n        this.backend.createProposal(\r\n          wallet_id,\r\n          description,\r\n          comment,\r\n          address,\r\n          seller,\r\n          amount,\r\n          yourDeposit,\r\n          b_pledge,\r\n          time,\r\n          payment,\r\n          callback\r\n        );\r\n      } else {\r\n        this.backend.getAliasByName(\r\n          seller.replace('@', ''),\r\n          (alias_status, alias_data) => {\r\n            this.ngZone.run(() => {\r\n              if (!alias_status) {\r\n                this.ngZone.run(() => {\r\n                  this.purchaseForm\r\n                    .get('seller')\r\n                    .setErrors({ alias_not_valid: true });\r\n                });\r\n              } else {\r\n                this.backend.createProposal(\r\n                  wallet_id,\r\n                  description,\r\n                  comment,\r\n                  address,\r\n                  alias_data.address,\r\n                  amount,\r\n                  yourDeposit,\r\n                  b_pledge,\r\n                  time,\r\n                  payment,\r\n                  callback\r\n                );\r\n              }\r\n            });\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  acceptState(): void {\r\n    this.backend.acceptProposal(\r\n      this.variablesService.currentWallet.wallet_id,\r\n      this.currentContract.contract_id,\r\n      accept_status => {\r\n        if (accept_status) {\r\n          this.modalService.prepareModal(\r\n            'info',\r\n            'PURCHASE.ACCEPT_STATE_WAIT_BIG'\r\n          );\r\n          this.back();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  ignoredContract(): void {\r\n    this.variablesService.settings.notViewedContracts = this.variablesService\r\n      .settings.notViewedContracts\r\n      ? this.variablesService.settings.notViewedContracts\r\n      : [];\r\n    let findViewedCont = false;\r\n    for (\r\n      let j = 0;\r\n      j < this.variablesService.settings.notViewedContracts.length;\r\n      j++\r\n    ) {\r\n      if (\r\n        this.variablesService.settings.notViewedContracts[j].contract_id ===\r\n          this.currentContract.contract_id &&\r\n        this.variablesService.settings.notViewedContracts[j].is_a ===\r\n          this.currentContract.is_a\r\n      ) {\r\n        this.variablesService.settings.notViewedContracts[j].state = 110;\r\n        this.variablesService.settings.notViewedContracts[j].time =\r\n          this.currentContract.expiration_time;\r\n        findViewedCont = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!findViewedCont) {\r\n      this.variablesService.settings.notViewedContracts.push({\r\n        contract_id: this.currentContract.contract_id,\r\n        is_a: this.currentContract.is_a,\r\n        state: 110,\r\n        time: this.currentContract.expiration_time,\r\n      });\r\n    }\r\n    this.currentContract.is_new = true;\r\n    this.currentContract.state = 110;\r\n    this.currentContract.time = this.currentContract.expiration_time;\r\n\r\n    this.variablesService.currentWallet.recountNewContracts();\r\n    this.modalService.prepareModal('info', 'PURCHASE.IGNORED_ACCEPT');\r\n    this.back();\r\n  }\r\n\r\n  productNotGot(): void {\r\n    this.backend.releaseProposal(\r\n      this.variablesService.currentWallet.wallet_id,\r\n      this.currentContract.contract_id,\r\n      'REL_B',\r\n      release_status => {\r\n        if (release_status) {\r\n          this.modalService.prepareModal('info', 'PURCHASE.BURN_PROPOSAL');\r\n          this.back();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  dealsDetailsFinish(): void {\r\n    this.backend.releaseProposal(\r\n      this.variablesService.currentWallet.wallet_id,\r\n      this.currentContract.contract_id,\r\n      'REL_N',\r\n      release_status => {\r\n        if (release_status) {\r\n          this.modalService.prepareModal(\r\n            'success',\r\n            'PURCHASE.SUCCESS_FINISH_PROPOSAL'\r\n          );\r\n          this.back();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  dealsDetailsCancel(): void {\r\n    this.backend.requestCancelContract(\r\n      this.variablesService.currentWallet.wallet_id,\r\n      this.currentContract.contract_id,\r\n      this.purchaseForm.get('timeCancel').value,\r\n      cancel_status => {\r\n        if (cancel_status) {\r\n          this.modalService.prepareModal(\r\n            'info',\r\n            'PURCHASE.SEND_CANCEL_PROPOSAL'\r\n          );\r\n          this.back();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  dealsDetailsDontCanceling(): void {\r\n    this.variablesService.settings.notViewedContracts = this.variablesService\r\n      .settings.notViewedContracts\r\n      ? this.variablesService.settings.notViewedContracts\r\n      : [];\r\n    let findViewedCont = false;\r\n    for (\r\n      let j = 0;\r\n      j < this.variablesService.settings.notViewedContracts.length;\r\n      j++\r\n    ) {\r\n      if (\r\n        this.variablesService.settings.notViewedContracts[j].contract_id ===\r\n          this.currentContract.contract_id &&\r\n        this.variablesService.settings.notViewedContracts[j].is_a ===\r\n          this.currentContract.is_a\r\n      ) {\r\n        this.variablesService.settings.notViewedContracts[j].state = 130;\r\n        this.variablesService.settings.notViewedContracts[j].time =\r\n          this.currentContract.cancel_expiration_time;\r\n        findViewedCont = true;\r\n        break;\r\n      }\r\n    }\r\n    if (!findViewedCont) {\r\n      this.variablesService.settings.notViewedContracts.push({\r\n        contract_id: this.currentContract.contract_id,\r\n        is_a: this.currentContract.is_a,\r\n        state: 130,\r\n        time: this.currentContract.cancel_expiration_time,\r\n      });\r\n    }\r\n    this.currentContract.is_new = true;\r\n    this.currentContract.state = 130;\r\n    this.currentContract.time = this.currentContract.cancel_expiration_time;\r\n    this.variablesService.currentWallet.recountNewContracts();\r\n    this.modalService.prepareModal('info', 'PURCHASE.IGNORED_CANCEL');\r\n    this.back();\r\n  }\r\n\r\n  dealsDetailsSellerCancel(): void {\r\n    this.backend.acceptCancelContract(\r\n      this.variablesService.currentWallet.wallet_id,\r\n      this.currentContract.contract_id,\r\n      accept_status => {\r\n        if (accept_status) {\r\n          this.modalService.prepareModal(\r\n            'info',\r\n            'PURCHASE.DEALS_CANCELED_WAIT'\r\n          );\r\n          this.back();\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n","import {\r\n  AfterViewChecked,\r\n  Component,\r\n  ElementRef,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Transaction } from '@api/models/transaction.model';\r\nimport BigNumber from 'bignumber.js';\r\nimport { PaginationService } from '@store/pagination/pagination.service';\r\nimport { PaginationStore } from '@store/pagination/pagination.store';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { Subject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\n\r\n@Component({\r\n  selector: 'app-history',\r\n  template: `\r\n    <div class=\"history-wrap\" fxFlexFill fxLayout=\"column\">\r\n      <div class=\"wrap-table scrolled-content mb-2\" fxFlex=\"1 1 auto\">\r\n        <table class=\"history-table\">\r\n          <thead>\r\n            <tr #head (window:resize)=\"calculateWidth()\">\r\n              <th>\r\n                <div class=\"bg title\">{{ 'HISTORY.STATUS' | translate }}</div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">{{ 'HISTORY.AMOUNT' | translate }}</div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">{{ 'HISTORY.FEE' | translate }}</div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">{{ 'HISTORY.ADDRESS' | translate }}</div>\r\n              </th>\r\n              <th>\r\n                <div class=\"bg title\">{{ 'HISTORY.DATE' | translate }}</div>\r\n              </th>\r\n            </tr>\r\n            <div class=\"row-divider\"></div>\r\n          </thead>\r\n          <tbody>\r\n            <ng-container\r\n              *ngFor=\"let item of variablesService.currentWallet.history\"\r\n            >\r\n              <tr\r\n                (click)=\"openDetails(item.tx_hash)\"\r\n                [class.locked-transaction]=\"\r\n                  !item.is_mining && item.unlock_time > 0\r\n                \"\r\n              >\r\n                <td>\r\n                  <div\r\n                    [ngClass]=\"item.is_income ? 'received' : 'send'\"\r\n                    class=\"status text-ellipsis\"\r\n                    fxLayout=\"row\"\r\n                    fxLayoutAlign=\" center\"\r\n                  >\r\n                    <ng-container *ngIf=\"getHeight(item) < 10\">\r\n                      <svg\r\n                        [delay]=\"500\"\r\n                        class=\"confirmation mr-1\"\r\n                        placement=\"bottom-left\"\r\n                        style=\"transform: rotateZ(-90deg)\"\r\n                        tooltip=\"{{\r\n                          'HISTORY.STATUS_TOOLTIP'\r\n                            | translate\r\n                              : { current: getHeight(item), total: 10 }\r\n                        }}\"\r\n                        tooltipClass=\"table-tooltip\"\r\n                      >\r\n                        <circle\r\n                          cx=\"50%\"\r\n                          cy=\"50%\"\r\n                          fill=\"transparent\"\r\n                          r=\"0.7rem\"\r\n                          stroke=\"rgba(31, 143, 235, 0.33)\"\r\n                          stroke-dasharray=\"100\"\r\n                          stroke-dashoffset=\"0\"\r\n                          stroke-width=\"0.3rem\"\r\n                        ></circle>\r\n                        <circle\r\n                          [style.stroke-dashoffset]=\"strokeSize(item)\"\r\n                          [style.stroke]=\"\r\n                            item.is_income ? '#16d1d6' : '#1f8feb'\r\n                          \"\r\n                          class=\"progress-circle\"\r\n                          cx=\"50%\"\r\n                          cy=\"50%\"\r\n                          fill=\"transparent\"\r\n                          r=\"0.7rem\"\r\n                          stroke-dasharray=\"4.5rem\"\r\n                          stroke-dashoffset=\"4.5rem\"\r\n                          stroke-linecap=\"round\"\r\n                          stroke-width=\"0.3rem\"\r\n                        ></circle>\r\n                      </svg>\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"getHeight(item) === 10\">\r\n                      <img\r\n                        *ngIf=\"!item.is_income\"\r\n                        alt=\"\"\r\n                        class=\"status-transaction mr-1\"\r\n                        src=\"assets/icons/blue/send.svg\"\r\n                      />\r\n                      <img\r\n                        *ngIf=\"item.is_income\"\r\n                        alt=\"\"\r\n                        class=\"status-transaction mr-1\"\r\n                        src=\"assets/icons/aqua/receive.svg\"\r\n                      />\r\n                    </ng-container>\r\n                    <span class=\"status-transaction-text\">{{\r\n                      (item.is_income ? 'HISTORY.RECEIVED' : 'HISTORY.SEND')\r\n                        | translate\r\n                    }}</span>\r\n                    <ng-container\r\n                      *ngIf=\"item.unlock_time !== 0 && item.tx_type !== 6\"\r\n                    >\r\n                      <ng-container *ngIf=\"isLocked(item); else unlock\">\r\n                        <ng-container *ngIf=\"item.unlock_time < 500000000\">\r\n                          <i\r\n                            [class.position]=\"\r\n                              variablesService.height_app - item.height < 10 ||\r\n                              (item.height === 0 && item.timestamp > 0)\r\n                            \"\r\n                            [delay]=\"500\"\r\n                            class=\"icon lock-transaction mr-1\"\r\n                            placement=\"bottom-left\"\r\n                            tooltip=\"{{\r\n                              'HISTORY.LOCK_TOOLTIP'\r\n                                | translate\r\n                                  : { date: time(item) | date : 'MM.dd.yy' }\r\n                            }}\"\r\n                            tooltipClass=\"table-tooltip\"\r\n                          ></i>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"item.unlock_time > 500000000\">\r\n                          <i\r\n                            [class.position]=\"\r\n                              variablesService.height_app - item.height < 10 ||\r\n                              (item.height === 0 && item.timestamp > 0)\r\n                            \"\r\n                            [delay]=\"500\"\r\n                            class=\"icon lock-transaction mr-1\"\r\n                            placement=\"bottom-left\"\r\n                            tooltip=\"{{\r\n                              'HISTORY.LOCK_TOOLTIP'\r\n                                | translate\r\n                                  : {\r\n                                      date:\r\n                                        item.unlock_time * 1000\r\n                                        | date : 'MM.dd.yy'\r\n                                    }\r\n                            }}\"\r\n                            tooltipClass=\"table-tooltip\"\r\n                          ></i>\r\n                        </ng-container>\r\n                      </ng-container>\r\n                      <ng-template #unlock>\r\n                        <i\r\n                          [class.position]=\"\r\n                            variablesService.height_app - item.height < 10 ||\r\n                            (item.height === 0 && item.timestamp > 0)\r\n                          \"\r\n                          class=\"icon unlock-transaction mr-1\"\r\n                        ></i>\r\n                      </ng-template>\r\n                    </ng-container>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div class=\"text-ellipsis\">\r\n                    <span\r\n                      *ngIf=\"\r\n                        item.sortAmount && item.sortAmount.toString() !== '0'\r\n                      \"\r\n                    >\r\n                      {{ item.sortAmount | intToMoney }}\r\n                      {{ variablesService.defaultCurrency }}\r\n                    </span>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div class=\"text-ellipsis\">\r\n                    <span\r\n                      *ngIf=\"item.sortFee && item.sortFee.toString() !== '0'\"\r\n                    >\r\n                      {{ item.sortFee | intToMoney }}\r\n                      {{ variablesService.defaultCurrency }}\r\n                    </span>\r\n                  </div>\r\n                </td>\r\n                <td class=\"remote-address\">\r\n                  <ng-container\r\n                    *ngIf=\"!(item.tx_type === 0); else walletOrAliases\"\r\n                    class=\"text-ellipsis\"\r\n                  >\r\n                    <span\r\n                      *ngIf=\"\r\n                        !(\r\n                          item.tx_type === 0 &&\r\n                          item.remote_addresses &&\r\n                          item.remote_addresses[0]\r\n                        )\r\n                      \"\r\n                    >\r\n                      {{ item | historyTypeMessages }}\r\n                    </span>\r\n                  </ng-container>\r\n                  <ng-template #walletOrAliases>\r\n                    <div\r\n                      *ngIf=\"\r\n                        item.tx_type === 0 &&\r\n                        item.remote_addresses &&\r\n                        item.remote_addresses[0] &&\r\n                        !item.remote_aliases?.length\r\n                      \"\r\n                      class=\"text-ellipsis\"\r\n                    >\r\n                      <span\r\n                        (contextmenu)=\"\r\n                          variablesService.onContextMenuOnlyCopy(\r\n                            $event,\r\n                            item.remote_addresses[0]\r\n                          )\r\n                        \"\r\n                      >\r\n                        {{ item.remote_addresses[0] | slice : 0 : 6 }}\r\n                        ...{{ item.remote_addresses[0] | slice : -6 }}\r\n                      </span>\r\n                    </div>\r\n                    <ng-container\r\n                      *ngIf=\"item.remote_aliases && item.remote_aliases.length\"\r\n                    >\r\n                      <div fxLayout=\"row wrap\">\r\n                        <ng-container *ngFor=\"let alias of item.remote_aliases\">\r\n                          <ng-container *ngIf=\"alias && alias.length\">\r\n                            <div\r\n                              (contextmenu)=\"\r\n                                variablesService.onContextMenuOnlyCopy(\r\n                                  $event,\r\n                                  '@' + alias\r\n                                )\r\n                              \"\r\n                              [class.available]=\"\r\n                                alias.length >= 1 && alias.length <= 5\r\n                              \"\r\n                              [class.mb-0_5]=\"item.remote_aliases.length >= 2\"\r\n                              [class.mr-0_5]=\"item.remote_aliases.length >= 2\"\r\n                              class=\"alias\"\r\n                              fxLayout=\"row inline\"\r\n                            >\r\n                              {{ '@' + alias }}\r\n                            </div>\r\n                          </ng-container>\r\n                        </ng-container>\r\n                      </div>\r\n                    </ng-container>\r\n                  </ng-template>\r\n                </td>\r\n                <td>\r\n                  <div class=\"text-ellipsis\">\r\n                    {{ item.timestamp * 1000 | date : 'dd-MM-yyyy HH:mm' }}\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <div class=\"row-divider\"></div>\r\n              <tr [class.open]=\"item.tx_hash === openedDetails\" class=\"details\">\r\n                <td colspan=\"5\">\r\n                  <app-transaction-details\r\n                    *ngIf=\"item.tx_hash === openedDetails\"\r\n                    [sizes]=\"calculatedWidth\"\r\n                    [transaction]=\"item\"\r\n                  ></app-transaction-details>\r\n                </td>\r\n              </tr>\r\n              <div\r\n                [class.hide]=\"item.tx_hash !== openedDetails\"\r\n                class=\"row-divider\"\r\n              ></div>\r\n            </ng-container>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"pagination-wrapper\">\r\n        <div\r\n          class=\"pagination\"\r\n          fxLayout=\"row\"\r\n          fxLayoutAlign=\"space-between center\"\r\n        >\r\n          <div class=\"left\" fxLayout=\"row\" fxLayoutAlign=\" center\">\r\n            <button\r\n              (click)=\"setPage(variablesService.currentWallet.currentPage - 1)\"\r\n              [disabled]=\"\r\n                variablesService.currentWallet.currentPage === 1 ||\r\n                variablesService.sync_started ||\r\n                wallet\r\n              \"\r\n              class=\"btn-icon circle small mr-1\"\r\n            >\r\n              <i class=\"icon arrow-left-stroke\"></i>\r\n            </button>\r\n\r\n            <ng-container *ngIf=\"!mining\">\r\n              <button\r\n                (click)=\"setPage(page)\"\r\n                *ngFor=\"let page of variablesService.currentWallet.pages\"\r\n                [class.color-primary]=\"\r\n                  variablesService.currentWallet.currentPage === page\r\n                \"\r\n                class=\"mr-0_5\"\r\n              >\r\n                {{ page }}\r\n              </button>\r\n            </ng-container>\r\n\r\n            <ng-container *ngIf=\"mining\">\r\n              <button\r\n                (click)=\"setPage(variablesService.currentWallet.currentPage)\"\r\n                [disabled]=\"\r\n                  stop_paginate || variablesService.sync_started || wallet\r\n                \"\r\n                [ngClass]=\"{\r\n                  'color-primary': variablesService.currentWallet.currentPage,\r\n                  disabled: variablesService.sync_started || wallet\r\n                }\"\r\n                class=\"mr-0_5\"\r\n              >\r\n                {{ variablesService.currentWallet.currentPage }}\r\n              </button>\r\n            </ng-container>\r\n\r\n            <button\r\n              (click)=\"setPage(variablesService.currentWallet.currentPage + 1)\"\r\n              [disabled]=\"\r\n                stop_paginate || variablesService.sync_started || wallet\r\n              \"\r\n              class=\"btn-icon circle small ml-0_5\"\r\n            >\r\n              <i class=\"icon arrow-right-stroke\"></i>\r\n            </button>\r\n          </div>\r\n          <div class=\"right\" fxLayout=\"row\" fxLayoutAlign=\" center\">\r\n            <span class=\"switch-text mr-2\">Hide mining transactions</span>\r\n            <app-switch\r\n              (emitChange)=\"toggleMiningTransactions()\"\r\n              [disabled]=\"variablesService.sync_started || !!wallet\"\r\n              [value]=\"mining\"\r\n            ></app-switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: auto;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class HistoryComponent implements OnInit, OnDestroy, AfterViewChecked {\r\n  @ViewChild('head', { static: true }) head: ElementRef;\r\n\r\n  openedDetails = '';\r\n\r\n  calculatedWidth = [];\r\n\r\n  stop_paginate = false;\r\n\r\n  mining = false;\r\n\r\n  wallet: Wallet;\r\n\r\n  x = new BigNumber(3);\r\n\r\n  y = new BigNumber(0.2);\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    public variablesService: VariablesService,\r\n    private pagination: PaginationService,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private paginationStore: PaginationStore\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.route.parent.params.pipe(takeUntil(this.destroy$)).subscribe({\r\n      next: () => {\r\n        this.openedDetails = '';\r\n      },\r\n    });\r\n    let restore = false;\r\n    if (\r\n      hasOwnProperty(\r\n        this.variablesService.after_sync_request,\r\n        String(this.variablesService.currentWallet.wallet_id)\r\n      )\r\n    ) {\r\n      restore =\r\n        this.variablesService.after_sync_request[\r\n          this.variablesService.currentWallet.wallet_id\r\n        ];\r\n    }\r\n    if (\r\n      !this.variablesService.sync_started &&\r\n      restore &&\r\n      this.variablesService.currentWallet.wallet_id\r\n    ) {\r\n      this.wallet = this.variablesService.getNotLoadedWallet();\r\n      if (this.wallet) {\r\n        this.tick();\r\n      }\r\n      // if this is was restore wallet and it was selected on moment when sync completed\r\n      this.getRecentTransfers();\r\n      this.variablesService.after_sync_request[\r\n        this.variablesService.currentWallet.wallet_id\r\n      ] = false;\r\n    }\r\n    let after_sync_request = false;\r\n    if (\r\n      hasOwnProperty(\r\n        this.variablesService.after_sync_request,\r\n        String(this.variablesService.currentWallet.wallet_id)\r\n      )\r\n    ) {\r\n      after_sync_request =\r\n        this.variablesService.after_sync_request[\r\n          this.variablesService.currentWallet.wallet_id\r\n        ];\r\n    }\r\n    if (after_sync_request && !this.variablesService.sync_started) {\r\n      // if user click on the wallet at the first time after restore.\r\n      this.getRecentTransfers();\r\n    }\r\n\r\n    if (\r\n      hasOwnProperty(\r\n        this.variablesService.stop_paginate,\r\n        String(this.variablesService.currentWallet.wallet_id)\r\n      )\r\n    ) {\r\n      this.stop_paginate =\r\n        this.variablesService.stop_paginate[\r\n          this.variablesService.currentWallet.wallet_id\r\n        ];\r\n    } else {\r\n      this.stop_paginate = false;\r\n    }\r\n    // this will hide pagination a bit earlier\r\n    this.wallet = this.variablesService.getNotLoadedWallet();\r\n    if (this.wallet) {\r\n      this.tick();\r\n    }\r\n\r\n    this.variablesService.getWalletChangedEvent\r\n      .pipe(\r\n        filter(w => !!w),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe({\r\n        next: (currentWallet: Wallet) => {\r\n          this.mining = currentWallet.exclude_mining_txs;\r\n        },\r\n      });\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n    setTimeout(() => {\r\n      this.calculateWidth();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  strokeSize(item): number {\r\n    const rem = this.variablesService.settings.scale;\r\n    if (\r\n      (this.variablesService.height_app - item.height >= 10 &&\r\n        item.height !== 0) ||\r\n      (item.is_mining === true && item.height === 0)\r\n    ) {\r\n      return 0;\r\n    } else {\r\n      if (\r\n        item.height === 0 ||\r\n        this.variablesService.height_app - item.height < 0\r\n      ) {\r\n        return 4.5 * parseInt(rem, 10);\r\n      } else {\r\n        return (\r\n          4.5 * parseInt(rem, 10) -\r\n          ((4.5 * parseInt(rem, 10)) / 100) *\r\n            ((this.variablesService.height_app - item.height) * 10)\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  resetPaginationValues(): void {\r\n    this.ngZone.run(() => {\r\n      const total_history_item =\r\n        this.variablesService.currentWallet.total_history_item;\r\n      const count = this.variablesService.count;\r\n      this.variablesService.currentWallet.totalPages = Math.ceil(\r\n        total_history_item / count\r\n      );\r\n      this.variablesService.currentWallet.exclude_mining_txs = this.mining;\r\n      this.variablesService.currentWallet.currentPage = 1;\r\n\r\n      if (!this.variablesService.currentWallet.totalPages) {\r\n        this.variablesService.currentWallet.totalPages = 1;\r\n      }\r\n      this.variablesService.currentWallet.totalPages >\r\n      this.variablesService.maxPages\r\n        ? (this.variablesService.currentWallet.pages = new Array(5)\r\n            .fill(1)\r\n            .map((value, index) => value + index))\r\n        : (this.variablesService.currentWallet.pages = new Array(\r\n            this.variablesService.currentWallet.totalPages\r\n          )\r\n            .fill(1)\r\n            .map((value, index) => value + index));\r\n    });\r\n  }\r\n\r\n  setPage(pageNumber: number): void {\r\n    // this is will allow pagination for wallets that was open from existed wallets'\r\n    if (pageNumber === this.variablesService.currentWallet.currentPage) {\r\n      return;\r\n    }\r\n    if (\r\n      this.variablesService.currentWallet.open_from_exist &&\r\n      !this.variablesService.currentWallet.updated\r\n    ) {\r\n      this.variablesService.get_recent_transfers = false;\r\n      this.variablesService.currentWallet.updated = true;\r\n    }\r\n    // if not running get_recent_transfers callback\r\n    if (!this.variablesService.get_recent_transfers) {\r\n      this.variablesService.currentWallet.currentPage = pageNumber;\r\n    }\r\n    if (!this.variablesService.get_recent_transfers) {\r\n      this.getRecentTransfers();\r\n    }\r\n  }\r\n\r\n  toggleMiningTransactions(): void {\r\n    if (!this.variablesService.sync_started && !this.wallet) {\r\n      const value = this.paginationStore.value;\r\n      if (!value) {\r\n        this.paginationStore.setPage(\r\n          1,\r\n          0,\r\n          this.variablesService.currentWallet.wallet_id\r\n        ); // add back page for the first page\r\n      } else {\r\n        const pages = value.filter(\r\n          item =>\r\n            item.walletID === this.variablesService.currentWallet.wallet_id\r\n        );\r\n        if (pages.length === 0) {\r\n          this.paginationStore.setPage(\r\n            1,\r\n            0,\r\n            this.variablesService.currentWallet.wallet_id\r\n          ); // add back page for the first page\r\n        }\r\n      }\r\n      this.mining = !this.mining;\r\n      this.resetPaginationValues();\r\n      this.getRecentTransfers();\r\n    }\r\n  }\r\n\r\n  getRecentTransfers(): void {\r\n    const offset = this.pagination.getOffset(\r\n      this.variablesService.currentWallet.wallet_id\r\n    );\r\n    const value = this.paginationStore.value;\r\n    const pages = value\r\n      ? value.filter(\r\n          item =>\r\n            item.walletID === this.variablesService.currentWallet.wallet_id\r\n        )\r\n      : [];\r\n\r\n    this.backend.getRecentTransfers(\r\n      this.variablesService.currentWallet.wallet_id,\r\n      offset,\r\n      this.variablesService.count,\r\n      this.variablesService.currentWallet.exclude_mining_txs,\r\n      (status, data) => {\r\n        const isForward = this.paginationStore.isForward(\r\n          pages,\r\n          this.variablesService.currentWallet.currentPage\r\n        );\r\n        if (this.mining && isForward && pages && pages.length === 1) {\r\n          this.variablesService.currentWallet.currentPage = 1; // set init page after navigation back\r\n        }\r\n\r\n        const history = data && data.history;\r\n        this.variablesService.stop_paginate[\r\n          this.variablesService.currentWallet.wallet_id\r\n        ] =\r\n          (history && history.length < this.variablesService.count) || !history;\r\n        this.stop_paginate =\r\n          this.variablesService.stop_paginate[\r\n            this.variablesService.currentWallet.wallet_id\r\n          ];\r\n        if (\r\n          !this.variablesService.stop_paginate[\r\n            this.variablesService.currentWallet.wallet_id\r\n          ]\r\n        ) {\r\n          const page = this.variablesService.currentWallet.currentPage + 1;\r\n          if (\r\n            isForward &&\r\n            this.mining &&\r\n            history &&\r\n            history.length === this.variablesService.count\r\n          ) {\r\n            this.paginationStore.setPage(\r\n              page,\r\n              data.last_item_index,\r\n              this.variablesService.currentWallet.wallet_id\r\n            ); // add back page for current page\r\n          }\r\n        }\r\n\r\n        this.pagination.calcPages(data);\r\n        this.pagination.prepareHistory(data, status);\r\n\r\n        this.ngZone.run(() => {\r\n          this.variablesService.get_recent_transfers = false;\r\n          if (\r\n            hasOwnProperty(\r\n              this.variablesService.after_sync_request,\r\n              String(this.variablesService.currentWallet.wallet_id)\r\n            )\r\n          ) {\r\n            // this is will complete get_recent_transfers request\r\n            // this will switch of\r\n            this.variablesService.after_sync_request[\r\n              this.variablesService.currentWallet.wallet_id\r\n            ] = false;\r\n          }\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  tick(): void {\r\n    const walletInterval = setInterval(() => {\r\n      this.wallet = this.variablesService.getNotLoadedWallet();\r\n      if (!this.wallet) {\r\n        clearInterval(walletInterval);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  getHeight(item): number {\r\n    if (\r\n      (this.variablesService.height_app - item.height >= 10 &&\r\n        item.height !== 0) ||\r\n      (item.is_mining === true && item.height === 0)\r\n    ) {\r\n      return 10;\r\n    } else {\r\n      if (\r\n        item.height === 0 ||\r\n        this.variablesService.height_app - item.height < 0\r\n      ) {\r\n        return 0;\r\n      } else {\r\n        return this.variablesService.height_app - item.height;\r\n      }\r\n    }\r\n  }\r\n\r\n  openDetails(tx_hash): void {\r\n    if (tx_hash === this.openedDetails) {\r\n      this.openedDetails = '';\r\n    } else {\r\n      this.openedDetails = tx_hash;\r\n    }\r\n  }\r\n\r\n  calculateWidth(): void {\r\n    this.calculatedWidth = [];\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[0].clientWidth\r\n    );\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[1].clientWidth +\r\n        this.head.nativeElement.childNodes[2].clientWidth\r\n    );\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[3].clientWidth\r\n    );\r\n    this.calculatedWidth.push(\r\n      this.head.nativeElement.childNodes[4].clientWidth\r\n    );\r\n  }\r\n\r\n  time(item: Transaction): number {\r\n    const now = new Date().getTime();\r\n    const unlockTime =\r\n      now + (item.unlock_time - this.variablesService.height_max) * 60 * 1000;\r\n    return unlockTime;\r\n  }\r\n\r\n  isLocked(item: Transaction): boolean {\r\n    if (\r\n      item.unlock_time > 500000000 &&\r\n      item.unlock_time > new Date().getTime() / 1000\r\n    ) {\r\n      return true;\r\n    }\r\n    return (\r\n      item.unlock_time < 500000000 &&\r\n      item.unlock_time > this.variablesService.height_max\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport QRCode from 'qrcode';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { RCV_ADDR_QR_SCALE } from '@parts/data/constants';\r\n\r\n@Component({\r\n  selector: 'app-receive',\r\n  template: `\r\n    <div\r\n      class=\"container overflow-auto\"\r\n      fxFlexFill\r\n      fxLayout=\"column\"\r\n      fxLayoutAlign=\"center center\"\r\n    >\r\n      <div\r\n        class=\"wrap-qr overflow-hidden border-radius-0_8-rem mb-2\"\r\n        fxFlex=\"0 0 auto\"\r\n        fxLayout=\"column\"\r\n        fxLayoutAlign=\"center center\"\r\n      >\r\n        <img alt=\"qr-code\" [src]=\"qrImageSrc\" />\r\n      </div>\r\n\r\n      <div\r\n        class=\"address border-radius-0_8-rem overflow-hidden pl-1 pr-0_5 pt-0_5 pb-0_5\"\r\n        fxFlex=\"0 0 auto\"\r\n        fxLayout=\"row\"\r\n        fxLayoutAlign=\"space-between center\"\r\n      >\r\n        <span\r\n          [delay]=\"150\"\r\n          [placement]=\"'bottom'\"\r\n          [timeout]=\"0\"\r\n          [tooltipClass]=\"'table-tooltip'\"\r\n          [tooltip]=\"variablesService.currentWallet.address\"\r\n          class=\"text-ellipsis mr-1\"\r\n          >{{\r\n            variablesService.currentWallet.address | zanoShortString : 9 : 9\r\n          }}</span\r\n        >\r\n        <app-copy-button [value]=\"variablesService.currentWallet.address\">\r\n        </app-copy-button>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: auto;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class ReceiveComponent implements OnInit {\r\n  qrImageSrc: string;\r\n\r\n  constructor(public variablesService: VariablesService) {}\r\n\r\n  ngOnInit(): void {\r\n    QRCode.toDataURL(this.variablesService.currentWallet.address, {\r\n      width: 200 * RCV_ADDR_QR_SCALE,\r\n      height: 200 * RCV_ADDR_QR_SCALE,\r\n    })\r\n      .then(url => {\r\n        this.qrImageSrc = url;\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport {\r\n  AsyncCommandResults,\r\n  BackendService,\r\n  CurrentActionState,\r\n  ResponseAsyncTransfer,\r\n  StatusCurrentActionState,\r\n} from '@api/services/backend.service';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\n\r\nconst successfulStatuses: string[] = [\r\n  StatusCurrentActionState.STATE_SENDING,\r\n  StatusCurrentActionState.STATE_SENT_SUCCESS,\r\n  StatusCurrentActionState.STATE_INITIALIZING,\r\n  StatusCurrentActionState.STATE_DOWNLOADING_CONSENSUS,\r\n  StatusCurrentActionState.STATE_MAKING_TUNNEL_A,\r\n  StatusCurrentActionState.STATE_MAKING_TUNNEL_B,\r\n  StatusCurrentActionState.STATE_CREATING_STREAM,\r\n  StatusCurrentActionState.STATE_SUCCESS,\r\n];\r\n\r\nconst failedStatuses: string[] = [\r\n  StatusCurrentActionState.STATE_SEND_FAILED,\r\n  StatusCurrentActionState.STATE_FAILED,\r\n];\r\n\r\n@Component({\r\n  selector: 'app-send-details-modal',\r\n  template: `<div\r\n    class=\"modal p-2 border-radius-0_8-rem bg-light-blue w-100 max-h-100\"\r\n    fxFlex=\"0 1 54rem\"\r\n  >\r\n    <div class=\"wrapper w-100\" fxFlex fxLayout=\"column\">\r\n      <h3 class=\"title mb-2\" fxFlex=\"0 0 auto\">\r\n        {{ 'SEND_DETAILS_MODAL.TITLE1' | translate }}\r\n      </h3>\r\n\r\n      <div\r\n        class=\"content mb-2 overflow-x-hidden overflow-y-auto\"\r\n        fxFlex=\"1 1 auto\"\r\n        fxLayout=\"column\"\r\n      >\r\n        <div\r\n          class=\"status mb-2\"\r\n          fxFlex=\"0 0 auto\"\r\n          fxLayout=\"column\"\r\n          fxLayoutAlign=\" center\"\r\n        >\r\n          <div *ngIf=\"isSentSuccess\" class=\"image\">\r\n            <img\r\n              alt=\"success\"\r\n              src=\"assets/icons/aqua/transaction_success.svg\"\r\n            />\r\n          </div>\r\n\r\n          <div *ngIf=\"isSentFailed\" class=\"image\">\r\n            <img\r\n              alt=\"failed\"\r\n              class=\"image\"\r\n              src=\"assets/icons/red/transaction_failed.svg\"\r\n            />\r\n          </div>\r\n\r\n          <div *ngIf=\"!isSentSuccess && !isSentFailed\" class=\"loader\"></div>\r\n\r\n          <p class=\"color-primary mt-2\">\r\n            {{\r\n              ((currentActionState$ | async)\r\n                ? 'TOR_LIB_STATE' + '.' + (currentActionState$ | async)?.status\r\n                : 'TOR_LIB_STATE.STATE_INITIALIZING'\r\n              ) | translate\r\n            }}\r\n            {{ !isSentSuccess && !isSentFailed ? '...' : '' }}\r\n          </p>\r\n        </div>\r\n\r\n        <div\r\n          class=\"details border-radius-0_8-rem overflow-hidden\"\r\n          fxFlex=\"0 0 auto\"\r\n          fxLayout=\"column\"\r\n        >\r\n          <div\r\n            (click)=\"isDetailsNotEmpty && toggleDetails()\"\r\n            class=\"header overflow-hidden py-1 px-2 w-100 cursor-pointer\"\r\n            fxLayout=\"row\"\r\n            fxLayoutAlign=\"space-between center\"\r\n          >\r\n            <p class=\"title text-ellipsis mr-2\">\r\n              {{ 'SEND_DETAILS_MODAL.TITLE2' | translate }}\r\n            </p>\r\n            <button\r\n              *ngIf=\"isDetailsNotEmpty\"\r\n              fxLayout=\"row\"\r\n              fxLayoutAlign=\"center center\"\r\n            >\r\n              <img\r\n                *ngIf=\"!(stateDetails$ | async)\"\r\n                alt=\"dropdown-arrow-down\"\r\n                src=\"assets/icons/white/dropdown-arrow-down.svg\"\r\n              />\r\n              <img\r\n                *ngIf=\"stateDetails$ | async\"\r\n                alt=\"dropdown-arrow-up\"\r\n                src=\"assets/icons/white/dropdown-arrow-up.svg\"\r\n              />\r\n            </button>\r\n          </div>\r\n          <div\r\n            [class.px-2]=\"stateDetails$ | async\"\r\n            [class.py-1]=\"stateDetails$ | async\"\r\n            [fxHide]=\"!(stateDetails$ | async)\"\r\n            class=\"details-wrapper\"\r\n            fxFlex=\"1 1 auto\"\r\n            fxLayout=\"row\"\r\n          >\r\n            <ul #elDetailsList class=\"details-list scrolled-content\">\r\n              <li\r\n                *ngFor=\"\r\n                  let action of currentActionStates$ | async;\r\n                  let last = last;\r\n                  trackBy: trackBy\r\n                \"\r\n                class=\"item mb-1 color-primary\"\r\n                fxLayout=\"row nowrap\"\r\n                fxLayoutAlign=\" center\"\r\n              >\r\n                <span class=\"text text-ellipsis mr-1\"\r\n                  >{{ 'TOR_LIB_STATE' + '.' + action?.status | translate\r\n                  }}{{\r\n                    last && !isSentSuccess && !isSentFailed ? '...' : ''\r\n                  }}</span\r\n                >\r\n                <ng-container *ngIf=\"!last\">\r\n                  <img\r\n                    *ngIf=\"isSuccess(action)\"\r\n                    alt=\"success\"\r\n                    class=\"image\"\r\n                    src=\"assets/icons/blue/check_with_blue_bg.svg\"\r\n                  />\r\n\r\n                  <img\r\n                    *ngIf=\"isFailed(action)\"\r\n                    alt=\"failed\"\r\n                    class=\"image\"\r\n                    src=\"assets/icons/red/transaction_failed.svg\"\r\n                  />\r\n                </ng-container>\r\n\r\n                <ng-container *ngIf=\"last\">\r\n                  <img\r\n                    *ngIf=\"last && isSentSuccess\"\r\n                    alt=\"success\"\r\n                    class=\"image\"\r\n                    src=\"assets/icons/blue/check_with_blue_bg.svg\"\r\n                  />\r\n\r\n                  <img\r\n                    *ngIf=\"last && isSentFailed\"\r\n                    alt=\"failed\"\r\n                    class=\"image\"\r\n                    src=\"assets/icons/red/transaction_failed.svg\"\r\n                  />\r\n                </ng-container>\r\n              </li>\r\n\r\n              <ng-container *ngIf=\"responseData$ | async\">\r\n                <li\r\n                  class=\"item mb-1 color-primary\"\r\n                  fxLayout=\"row nowrap\"\r\n                  fxLayoutAlign=\" center\"\r\n                >\r\n                  <span class=\"word-break-break-all\"\r\n                    >tx id:\r\n                    {{ (responseData$ | async).response_data.tx_hash }}</span\r\n                  >\r\n                </li>\r\n                <li\r\n                  class=\"item mb-1 color-primary\"\r\n                  fxLayout=\"row nowrap\"\r\n                  fxLayoutAlign=\" center\"\r\n                >\r\n                  <div class=\"word-break-break-all\">\r\n                    tx size:\r\n                    {{ (responseData$ | async).response_data.tx_blob_size }}\r\n                    bytes\r\n                  </div>\r\n                </li>\r\n              </ng-container>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"controls\" fxFlex=\"0 0 auto\">\r\n        <button\r\n          (click)=\"eventClose.emit()\"\r\n          [disabled]=\"!isSentSuccess && !isSentFailed\"\r\n          class=\"primary big w-100\"\r\n        >\r\n          {{ 'Ok' | translate }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div> `,\r\n  styles: [],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SendDetailsModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Input() job_id: number;\r\n\r\n  @Output() eventClose = new EventEmitter<void>();\r\n\r\n  @ViewChild('elDetailsList', { static: true }) elDetailsList: ElementRef;\r\n\r\n  responseData$ = new BehaviorSubject<ResponseAsyncTransfer>(null);\r\n\r\n  stateDetails$ = new BehaviorSubject<boolean>(false);\r\n\r\n  currentActionState$ = new BehaviorSubject<CurrentActionState>(null);\r\n\r\n  currentActionStates$ = new BehaviorSubject<CurrentActionState[]>([]);\r\n\r\n  private destroy$: Subject<void> = new Subject<void>();\r\n\r\n  constructor(\r\n    private backendService: BackendService,\r\n    private variablesService: VariablesService,\r\n    private renderer: Renderer2\r\n  ) {}\r\n\r\n  get currentActionState(): CurrentActionState {\r\n    return this.currentActionState$.value;\r\n  }\r\n\r\n  get currentActionStates(): CurrentActionState[] {\r\n    return this.currentActionStates$.value;\r\n  }\r\n\r\n  get isSentSuccess(): boolean {\r\n    return (\r\n      this.currentActionState &&\r\n      this.currentActionState.status ===\r\n        StatusCurrentActionState.STATE_SENT_SUCCESS\r\n    );\r\n  }\r\n\r\n  get isSentFailed(): boolean {\r\n    return (\r\n      this.currentActionState &&\r\n      this.currentActionState.status ===\r\n        StatusCurrentActionState.STATE_SEND_FAILED\r\n    );\r\n  }\r\n\r\n  get isDetailsNotEmpty(): boolean {\r\n    return !!(\r\n      this.responseData$.value || this.currentActionStates$.value.length > 0\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    const {\r\n      currentWallet: { wallet_id },\r\n      settings: { appUseTor },\r\n    } = this.variablesService;\r\n\r\n    if (appUseTor) {\r\n      this.backendService.handleCurrentActionState$\r\n        .pipe(takeUntil(this.destroy$))\r\n        .subscribe({\r\n          next: (currentActionState: CurrentActionState) => {\r\n            this.currentActionState$.next(currentActionState);\r\n            this.currentActionStates$.next([\r\n              ...this.currentActionStates,\r\n              currentActionState,\r\n            ]);\r\n          },\r\n        });\r\n    } else {\r\n      const actionState: CurrentActionState = {\r\n        status: StatusCurrentActionState.STATE_INITIALIZING,\r\n        wallet_id,\r\n      };\r\n      this.currentActionState$.next(actionState);\r\n      this.currentActionStates$.next([\r\n        ...this.currentActionStates,\r\n        actionState,\r\n      ]);\r\n    }\r\n\r\n    this.backendService.dispatchAsyncCallResult$\r\n      .pipe(\r\n        filter(\r\n          ({ job_id, response }: AsyncCommandResults) =>\r\n            this.job_id === job_id && !!response\r\n        ),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe({\r\n        next: ({ response }: AsyncCommandResults) => {\r\n          const {\r\n            response_data: { success },\r\n          } = response;\r\n          if (!appUseTor || !success) {\r\n            const actionState: CurrentActionState = {\r\n              status: success\r\n                ? StatusCurrentActionState.STATE_SENT_SUCCESS\r\n                : StatusCurrentActionState.STATE_SEND_FAILED,\r\n              wallet_id,\r\n            };\r\n            this.currentActionState$.next(actionState);\r\n            this.currentActionStates$.next([\r\n              ...this.currentActionStates,\r\n              actionState,\r\n            ]);\r\n          }\r\n\r\n          this.responseData$.next(response);\r\n        },\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  toggleDetails(): void {\r\n    this.stateDetails$.next(!this.stateDetails$.value);\r\n    setTimeout(() => this.scrollToBottomDetailsList(), 100);\r\n  }\r\n\r\n  trackBy(index: number): number {\r\n    return index;\r\n  }\r\n\r\n  isSuccess(action: CurrentActionState): boolean {\r\n    return successfulStatuses.includes(action && action.status);\r\n  }\r\n\r\n  isFailed(action: CurrentActionState): boolean {\r\n    return failedStatuses.includes(action && action.status);\r\n  }\r\n\r\n  private scrollToBottomDetailsList(): void {\r\n    if (this.elDetailsList) {\r\n      const { nativeElement } = this.elDetailsList;\r\n      nativeElement.scrollTop = nativeElement.scrollHeight;\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  HostBinding,\r\n  inject,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n} from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\n\r\n@Component({\r\n  selector: 'app-send-modal',\r\n  template: `\r\n    <div\r\n      class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\"\r\n      fxLayout=\"row\"\r\n    >\r\n      <div class=\"wrapper\">\r\n        <form\r\n          (ngSubmit)=\"submit()\"\r\n          [formGroup]=\"confirmForm\"\r\n          class=\"overflow-hidden\"\r\n          fxFlexFill\r\n          fxLayout=\"column\"\r\n        >\r\n          <h3 class=\"title mb-2\" fxFlex=\"0 0 auto\">\r\n            {{ 'CONFIRM.TITLE' | translate }}\r\n          </h3>\r\n\r\n          <div\r\n            class=\"content mb-2 w-100 overflow-x-hidden overflow-y-auto\"\r\n            fxFlex=\"1 1 auto\"\r\n          >\r\n            <div class=\"table-info mb-2\">\r\n              <div class=\"row\">\r\n                <div class=\"label max-w-19-rem w-100\">\r\n                  {{ 'CONFIRM.MESSAGE.SEND' | translate }}\r\n                </div>\r\n                <div class=\"text\">\r\n                  {{ +form.get('amount').value }}\r\n                  {{ variablesService.defaultCurrency }}\r\n                </div>\r\n              </div>\r\n\r\n              <hr class=\"separator\" />\r\n\r\n              <div class=\"row\">\r\n                <div class=\"label max-w-19-rem w-100\">\r\n                  {{ 'CONFIRM.MESSAGE.FROM' | translate }}\r\n                </div>\r\n                <div class=\"text\">\r\n                  {{ variablesService.currentWallet.address }}\r\n                </div>\r\n              </div>\r\n\r\n              <hr class=\"separator\" />\r\n\r\n              <div class=\"row\">\r\n                <div class=\"label max-w-19-rem w-100\">\r\n                  {{ 'CONFIRM.MESSAGE.TO' | translate }}\r\n                </div>\r\n                <div class=\"text\">{{ form.get('address').value }}</div>\r\n              </div>\r\n\r\n              <ng-container *ngIf=\"!!form.get('comment').value\">\r\n                <hr class=\"separator\" />\r\n\r\n                <div class=\"row\">\r\n                  <div class=\"label max-w-19-rem w-100\">\r\n                    {{ 'CONFIRM.MESSAGE.COMMENT' | translate }}\r\n                  </div>\r\n                  <div class=\"text\">{{ form.get('comment').value }}</div>\r\n                </div>\r\n              </ng-container>\r\n            </div>\r\n\r\n            <div *ngIf=\"variablesService.appPass\" class=\"form__field mb-0\">\r\n              <label for=\"password\">{{\r\n                'LOGIN.MASTER_PASS' | translate\r\n              }}</label>\r\n              <input\r\n                (contextmenu)=\"\r\n                  variablesService.onContextMenuPasteSelect($event)\r\n                \"\r\n                [placeholder]=\"\r\n                  'PLACEHOLDERS.MASTER_PASS_PLACEHOLDER' | translate\r\n                \"\r\n                autofocus\r\n                class=\"form__field--input\"\r\n                formControlName=\"password\"\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n              />\r\n              <div\r\n                *ngIf=\"\r\n                  confirmForm.controls['password'].invalid &&\r\n                  (confirmForm.controls['password'].dirty ||\r\n                    confirmForm.controls['password'].touched)\r\n                \"\r\n                class=\"error\"\r\n              >\r\n                <div\r\n                  *ngIf=\"\r\n                    confirmForm.controls['password'].errors &&\r\n                    confirmForm.controls['password'].errors.passwordNotMatch\r\n                  \"\r\n                >\r\n                  {{ 'LOGIN.FORM_ERRORS.MISMATCH' | translate }}\r\n                </div>\r\n                <div\r\n                  *ngIf=\"confirmForm.controls['password'].errors['required']\"\r\n                >\r\n                  {{ 'LOGIN.FORM_ERRORS.PASS_REQUIRED' | translate }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            class=\"controls w-100\"\r\n            fxFlex=\"0 0 auto\"\r\n            fxLayout=\"row nowrap\"\r\n            fxLayoutGap=\"1rem\"\r\n          >\r\n            <button (click)=\"onClose()\" class=\"outline big w-100\" type=\"button\">\r\n              {{ 'CONFIRM.BUTTON_CANCEL' | translate }}\r\n            </button>\r\n            <button class=\"primary big w-100\" type=\"submit\">\r\n              {{ 'CONFIRM.BUTTON_CONFIRM' | translate }}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n})\r\nexport class SendModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Input() form: FormGroup;\r\n\r\n  @Output() confirmed: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  fb = inject(FormBuilder);\r\n\r\n  confirmForm = this.fb.group({\r\n    password: this.fb.nonNullable.control(''),\r\n  });\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private renderer: Renderer2\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    if (this.variablesService.appPass) {\r\n      this.confirmForm.controls['password'].setValidators([\r\n        Validators.required,\r\n      ]);\r\n      this.confirmForm.updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  submit(): void {\r\n    if (this.variablesService.appPass) {\r\n      if (this.confirmForm.controls['password'].value === '') {\r\n        this.confirmForm.controls['password'].setErrors({ requiredPass: true });\r\n        return;\r\n      }\r\n      this.confirmForm.controls['password'].setErrors({ requiredPass: false });\r\n      if (\r\n        this.variablesService.appPass ===\r\n        this.confirmForm.controls['password'].value\r\n      ) {\r\n        this.confirmed.emit(true);\r\n      } else {\r\n        this.confirmForm.controls['password'].setErrors({\r\n          passwordNotMatch: true,\r\n        });\r\n      }\r\n    } else {\r\n      this.confirmed.emit(true);\r\n    }\r\n  }\r\n\r\n  onClose(): void {\r\n    this.confirmed.emit(false);\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  HostListener,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport {\r\n  FormControl,\r\n  UntypedFormControl,\r\n  UntypedFormGroup,\r\n  ValidationErrors,\r\n  Validators,\r\n} from '@angular/forms';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ModalService } from '@parts/services/modal.service';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { MIXIN } from '@parts/data/constants';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { MoneyToIntPipe } from '@parts/pipes/money-to-int-pipe/money-to-int.pipe';\r\nimport { finalize, takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\nimport { Asset } from '@api/models/assets.model';\r\n\r\ninterface WrapInfo {\r\n  tx_cost: {\r\n    usd_needed_for_erc20: string;\r\n    zano_needed_for_erc20: string;\r\n  };\r\n  unwraped_coins_left: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-send',\r\n  template: `\r\n    <div class=\"container scrolled-content\" fxFlex=\"1 1 auto\">\r\n      <form\r\n        (ngSubmit)=\"showDialog()\"\r\n        *ngIf=\"!isLoading\"\r\n        [formGroup]=\"sendForm\"\r\n        class=\"form\"\r\n        fxFlex=\"0 1 50rem\"\r\n        fxLayout=\"column\"\r\n        fxLayoutAlign=\"start stretch\"\r\n      >\r\n        <div class=\"form__field--row\">\r\n          <div class=\"form__field form__field-dropdown\">\r\n            <label for=\"send-address\">{{ 'SEND.ADDRESS' | translate }}</label>\r\n            <input\r\n              (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n              (input)=\"addressToLowerCase()\"\r\n              (mousedown)=\"addressMouseDown($event)\"\r\n              [placeholder]=\"'PLACEHOLDERS.ADRESS_PLACEHOLDER' | translate\"\r\n              class=\"form__field--input\"\r\n              formControlName=\"address\"\r\n              id=\"send-address\"\r\n              type=\"text\"\r\n            />\r\n\r\n            <div\r\n              *ngIf=\"isOpen && !!localAliases.length\"\r\n              class=\"dropdown py-0_5 border-radius-0_8-rem bg-light-blue-details\"\r\n            >\r\n              <div\r\n                (click)=\"setAlias(item.name)\"\r\n                *ngFor=\"let item of localAliases\"\r\n                class=\"item\"\r\n              >\r\n                <div\r\n                  [class.available]=\"\r\n                    item.name.length >= 2 && item.name.length <= 6\r\n                  \"\r\n                  [class.pl-1]=\"item.name.length > 6\"\r\n                  class=\"alias\"\r\n                >\r\n                  <div class=\"text-ellipsis\">{{ item.name }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              *ngIf=\"\r\n                sendForm.controls['address'].invalid &&\r\n                (sendForm.controls['address'].dirty ||\r\n                  sendForm.controls['address'].touched)\r\n              \"\r\n              class=\"error\"\r\n            >\r\n              <div\r\n                *ngIf=\"sendForm.controls['address'].errors['address_not_valid']\"\r\n              >\r\n                {{ 'SEND.FORM_ERRORS.ADDRESS_NOT_VALID' | translate }}\r\n              </div>\r\n              <div\r\n                *ngIf=\"sendForm.controls['address'].errors['alias_not_valid']\"\r\n              >\r\n                {{ 'SEND.FORM_ERRORS.ALIAS_NOT_VALID' | translate }}\r\n              </div>\r\n              <div *ngIf=\"sendForm.controls['address'].hasError('required')\">\r\n                {{ 'SEND.FORM_ERRORS.ADDRESS_REQUIRED' | translate }}\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"currentAliasAddress\" class=\"info text-ellipsis\">\r\n              <span>{{ currentAliasAddress | zanoShortString }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form__field\">\r\n            <label for=\"send-amount\">{{ 'SEND.AMOUNT' | translate }}</label>\r\n            <input\r\n              (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n              [placeholder]=\"'PLACEHOLDERS.AMOUNT_PLACEHOLDER' | translate\"\r\n              appInputValidate=\"money\"\r\n              class=\"form__field--input\"\r\n              formControlName=\"amount\"\r\n              id=\"send-amount\"\r\n              type=\"text\"\r\n            />\r\n            <div\r\n              *ngIf=\"\r\n                sendForm.controls['amount'].invalid &&\r\n                (sendForm.controls['amount'].dirty ||\r\n                  sendForm.controls['amount'].touched)\r\n              \"\r\n              class=\"error\"\r\n            >\r\n              <div *ngIf=\"sendForm.controls['amount'].errors['zero']\">\r\n                {{ 'SEND.FORM_ERRORS.AMOUNT_ZERO' | translate }}\r\n              </div>\r\n              <div\r\n                *ngIf=\"\r\n                  sendForm.controls['amount'].errors[\r\n                    'great_than_unwraped_coins'\r\n                  ]\r\n                \"\r\n              >\r\n                {{ 'SEND.FORM_ERRORS.GREAT_THAN_UNWRAPPED_COINS' | translate }}\r\n              </div>\r\n              <div\r\n                *ngIf=\"\r\n                  sendForm.controls['amount'].errors['less_than_zano_needed']\r\n                \"\r\n              >\r\n                {{ 'SEND.FORM_ERRORS.LESS_THAN_ZANO_NEEDED' | translate }}\r\n              </div>\r\n              <div *ngIf=\"sendForm.controls['amount'].errors['wrap_info_null']\">\r\n                {{ 'SEND.FORM_ERRORS.WRAP_INFO_NULL' | translate }}\r\n              </div>\r\n              <div *ngIf=\"sendForm.controls['amount'].hasError('required')\">\r\n                {{ 'SEND.FORM_ERRORS.AMOUNT_REQUIRED' | translate }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"form__field\">\r\n          <label for=\"send-comment\">{{ 'SEND.COMMENT' | translate }}</label>\r\n          <input\r\n            (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n            [maxLength]=\"variablesService.maxCommentLength\"\r\n            class=\"form__field--input\"\r\n            formControlName=\"comment\"\r\n            id=\"send-comment\"\r\n            placeholder=\"{{ 'PLACEHOLDERS.COMMENT_PLACEHOLDER' | translate }}\"\r\n            type=\"text\"\r\n          />\r\n          <div\r\n            *ngIf=\"\r\n              sendForm.get('comment').value &&\r\n              sendForm.get('comment').value.length >=\r\n                variablesService.maxCommentLength\r\n            \"\r\n            class=\"error\"\r\n          >\r\n            {{ 'SEND.FORM_ERRORS.MAX_LENGTH' | translate }}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          *ngIf=\"isWrapShown && wrapInfo && !isLoading\"\r\n          class=\"wrap mt-2 mb-2 p-2\"\r\n        >\r\n          <div class=\"title\">\r\n            {{ 'SEND.WRAP.TITLE' | translate }}\r\n            <i class=\"icon info-circle\"></i>\r\n          </div>\r\n          <div class=\"text-wrap\">\r\n            {{ 'SEND.WRAP.MAIN_TEXT' | translate }}\r\n          </div>\r\n          <div class=\"title\">{{ 'SEND.WRAP.ESTIMATE' | translate }}</div>\r\n          <table class=\"text-wrap\">\r\n            <tr>\r\n              <td>{{ 'SEND.WRAP.WILL_RECEIVE' | translate }}</td>\r\n              <td *ngIf=\"!sendForm.controls['amount'].errors\">\r\n                {{ getReceivedValue() | intToMoney }}\r\n                {{ 'SEND.WRAP.wZANO' | translate }}\r\n              </td>\r\n              <td *ngIf=\"sendForm.controls['amount'].errors\">-</td>\r\n            </tr>\r\n            <tr>\r\n              <td>{{ 'SEND.WRAP.FEE' | translate }}</td>\r\n              <td>\r\n                {{ wrapInfo?.tx_cost?.zano_needed_for_erc20 | intToMoney : 3 }}\r\n                {{ 'SEND.WRAP.ZANO' | translate }}\r\n                ({{ '$' + wrapInfo.tx_cost?.usd_needed_for_erc20 }})\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"form__field\">\r\n          <label>\r\n            {{ 'Asset' | translate }}\r\n          </label>\r\n          <ng-select\r\n            [clearable]=\"false\"\r\n            [items]=\"variablesService.currentWallet.balances\"\r\n            [searchable]=\"false\"\r\n            formControlName=\"asset\"\r\n            class=\"custom-select with-circle\"\r\n          >\r\n            <ng-template ng-option-tmp ng-label-tmp let-asset=\"item\">\r\n              <img\r\n                height=\"15\"\r\n                width=\"15\"\r\n                [src]=\"\r\n                  (asset | getWhiteAssetInfo | async)?.logo || defaultImgSrc\r\n                \"\r\n                [alt]=\"asset.asset_info.ticker\"\r\n                defaultImgAlt=\"default\"\r\n                [defaultImgSrc]=\"defaultImgSrc\"\r\n                appDefaultImg\r\n              />\r\n              {{ asset.asset_info.full_name || '---' }}\r\n            </ng-template>\r\n          </ng-select>\r\n          <div\r\n            *ngIf=\"\r\n              sendForm.controls['asset'].invalid &&\r\n              (sendForm.controls['asset'].dirty ||\r\n                sendForm.controls['asset'].touched)\r\n            \"\r\n            class=\"error\"\r\n          >\r\n            <div *ngIf=\"sendForm.controls['asset'].hasError('required')\">\r\n              {{ 'Required field' | translate }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"details mb-2\">\r\n          <button\r\n            (click)=\"toggleOptions()\"\r\n            [class.border-radius-all]=\"!additionalOptions\"\r\n            class=\"header\"\r\n            type=\"button\"\r\n          >\r\n            <span>{{ 'SEND.DETAILS' | translate }}</span>\r\n            <i\r\n              [class.dropdown-arrow-down]=\"!additionalOptions\"\r\n              [class.dropdown-arrow-up]=\"additionalOptions\"\r\n              class=\"icon ml-1\"\r\n            ></i>\r\n          </button>\r\n\r\n          <div *ngIf=\"additionalOptions\" class=\"content\">\r\n            <div class=\"form__field--row\">\r\n              <div class=\"form__field\">\r\n                <label for=\"send-mixin\">{{ 'SEND.MIXIN' | translate }}</label>\r\n                <input\r\n                  (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                  [placeholder]=\"'PLACEHOLDERS.AMOUNT_PLACEHOLDER' | translate\"\r\n                  appInputValidate=\"integer\"\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"mixin\"\r\n                  id=\"send-mixin\"\r\n                  type=\"text\"\r\n                />\r\n                <div\r\n                  *ngIf=\"\r\n                    sendForm.controls['mixin'].invalid &&\r\n                    (sendForm.controls['mixin'].dirty ||\r\n                      sendForm.controls['mixin'].touched)\r\n                  \"\r\n                  class=\"error\"\r\n                >\r\n                  <div *ngIf=\"sendForm.controls['mixin'].hasError('required')\">\r\n                    {{ 'SEND.FORM_ERRORS.AMOUNT_REQUIRED' | translate }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"form__field\">\r\n                <label for=\"send-fee\">{{ 'SEND.FEE' | translate }}</label>\r\n                <input\r\n                  (contextmenu)=\"variablesService.onContextMenu($event)\"\r\n                  [placeholder]=\"'PLACEHOLDERS.FEE_PLACEHOLDER' | translate\"\r\n                  appInputValidate=\"money\"\r\n                  class=\"form__field--input\"\r\n                  formControlName=\"fee\"\r\n                  id=\"send-fee\"\r\n                  type=\"text\"\r\n                />\r\n                <div\r\n                  *ngIf=\"\r\n                    sendForm.controls['fee'].invalid &&\r\n                    (sendForm.controls['fee'].dirty ||\r\n                      sendForm.controls['fee'].touched)\r\n                  \"\r\n                  class=\"error\"\r\n                >\r\n                  <div *ngIf=\"sendForm.controls['fee'].errors['less_min']\">\r\n                    {{\r\n                      'SEND.FORM_ERRORS.FEE_MINIMUM'\r\n                        | translate : { fee: variablesService.default_fee }\r\n                    }}\r\n                  </div>\r\n                  <div *ngIf=\"sendForm.controls['fee'].hasError('required')\">\r\n                    {{ 'SEND.FORM_ERRORS.FEE_REQUIRED' | translate }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <app-checkbox\r\n              [label]=\"'SEND.HIDE' | translate\"\r\n              [value]=\"hideWalletAddress || sendForm.controls['hide'].value\"\r\n              class=\"mt-1\"\r\n              formControlName=\"hide\"\r\n            ></app-checkbox>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          [disabled]=\"!sendForm.valid || !variablesService.currentWallet.loaded\"\r\n          class=\"primary big max-w-19-rem w-100\"\r\n          type=\"submit\"\r\n        >\r\n          {{ 'SEND.BUTTON' | translate }}\r\n        </button>\r\n      </form>\r\n    </div>\r\n\r\n    <app-send-modal\r\n      (confirmed)=\"confirmed($event)\"\r\n      *ngIf=\"isModalDialogVisible\"\r\n      [form]=\"sendForm\"\r\n    ></app-send-modal>\r\n\r\n    <app-send-details-modal\r\n      (eventClose)=\"handeCloseDetailsModal()\"\r\n      *ngIf=\"isModalDetailsDialogVisible\"\r\n      [job_id]=\"job_id\"\r\n    ></app-send-details-modal>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: auto;\r\n        display: flex;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class SendComponent implements OnInit, OnDestroy {\r\n  job_id: number;\r\n\r\n  isOpen = false;\r\n\r\n  localAliases = [];\r\n\r\n  isModalDialogVisible = false;\r\n\r\n  isModalDetailsDialogVisible = false;\r\n\r\n  hideWalletAddress = false;\r\n\r\n  mixin: number;\r\n\r\n  wrapInfo: WrapInfo;\r\n\r\n  isLoading = true;\r\n\r\n  isWrapShown = false;\r\n\r\n  currentAliasAddress: string;\r\n\r\n  lenghtOfAdress: number;\r\n\r\n  additionalOptions = false;\r\n\r\n  actionData;\r\n\r\n  sendForm = new UntypedFormGroup({\r\n    address: new UntypedFormControl('', [\r\n      Validators.required,\r\n      (g: UntypedFormControl): ValidationErrors | null => {\r\n        this.localAliases = [];\r\n        if (g.value) {\r\n          this.currentAliasAddress = '';\r\n          if (g.value.indexOf('@') !== 0) {\r\n            this.isOpen = false;\r\n            this.backend.validateAddress(g.value, (valid_status, data) => {\r\n              this.ngZone.run(() => {\r\n                this.isWrapShown = data.error_code === 'WRAP';\r\n                this.sendForm\r\n                  .get('amount')\r\n                  .setValue(this.sendForm.get('amount').value);\r\n                if (valid_status === false && !this.isWrapShown) {\r\n                  g.setErrors(\r\n                    Object.assign({ address_not_valid: true }, g.errors)\r\n                  );\r\n                } else {\r\n                  if (g.hasError('address_not_valid')) {\r\n                    delete g.errors['address_not_valid'];\r\n                    if (Object.keys(g.errors).length === 0) {\r\n                      g.setErrors(null);\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            });\r\n            return g.hasError('address_not_valid')\r\n              ? { address_not_valid: true }\r\n              : null;\r\n          } else {\r\n            this.isOpen = true;\r\n            this.localAliases = this.variablesService.aliases.filter(item => {\r\n              return item.name.indexOf(g.value) > -1;\r\n            });\r\n            // eslint-disable-next-line\r\n            if (!/^@?[a-z\\d\\-]{0,25}$/.test(g.value)) {\r\n              g.setErrors(Object.assign({ alias_not_valid: true }, g.errors));\r\n            } else {\r\n              this.backend.getAliasByName(\r\n                g.value.replace('@', ''),\r\n                (alias_status, alias_data) => {\r\n                  this.ngZone.run(() => {\r\n                    this.currentAliasAddress = alias_data.address;\r\n                    this.lenghtOfAdress = g.value.length;\r\n                    if (alias_status) {\r\n                      if (g.hasError('alias_not_valid')) {\r\n                        delete g.errors['alias_not_valid'];\r\n                        if (Object.keys(g.errors).length === 0) {\r\n                          g.setErrors(null);\r\n                        }\r\n                      }\r\n                    } else {\r\n                      g.setErrors(\r\n                        Object.assign({ alias_not_valid: true }, g.errors)\r\n                      );\r\n                    }\r\n                  });\r\n                }\r\n              );\r\n            }\r\n            return g.hasError('alias_not_valid')\r\n              ? { alias_not_valid: true }\r\n              : null;\r\n          }\r\n        }\r\n        return null;\r\n      },\r\n    ]),\r\n    amount: new UntypedFormControl(undefined, [\r\n      Validators.required,\r\n      (g: UntypedFormControl): ValidationErrors | null => {\r\n        if (!g.value) {\r\n          return null;\r\n        }\r\n\r\n        if (g.value === 0) {\r\n          return { zero: true };\r\n        }\r\n        const bigAmount = this.moneyToInt.transform(g.value) as BigNumber;\r\n        if (this.isWrapShown) {\r\n          if (!this.wrapInfo) {\r\n            return { wrap_info_null: true };\r\n          }\r\n          if (\r\n            bigAmount.isGreaterThan(\r\n              new BigNumber(this.wrapInfo.unwraped_coins_left)\r\n            )\r\n          ) {\r\n            return { great_than_unwraped_coins: true };\r\n          }\r\n          if (\r\n            bigAmount.isLessThan(\r\n              new BigNumber(this.wrapInfo.tx_cost.zano_needed_for_erc20)\r\n            )\r\n          ) {\r\n            return { less_than_zano_needed: true };\r\n          }\r\n        }\r\n        return null;\r\n      },\r\n    ]),\r\n    comment: new UntypedFormControl(''),\r\n    asset: new FormControl<Asset | null>(\r\n      null,\r\n      Validators.compose([Validators.required])\r\n    ),\r\n    mixin: new UntypedFormControl(MIXIN, Validators.required),\r\n    fee: new UntypedFormControl(this.variablesService.default_fee, [\r\n      Validators.required,\r\n      (g: UntypedFormControl): ValidationErrors | null => {\r\n        if (\r\n          new BigNumber(g.value).isLessThan(this.variablesService.default_fee)\r\n        ) {\r\n          return { less_min: true };\r\n        }\r\n        return null;\r\n      },\r\n    ]),\r\n    hide: new UntypedFormControl(false),\r\n  });\r\n\r\n  defaultImgSrc = 'assets/icons/currency-icons/custom_token.svg';\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private http: HttpClient,\r\n    private moneyToInt: MoneyToIntPipe\r\n  ) {}\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  onClick(targetElement): void {\r\n    if (targetElement.id !== 'send-address' && this.isOpen) {\r\n      this.isOpen = false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.mixin =\r\n      this.variablesService.currentWallet.send_data['mixin'] || MIXIN;\r\n    if (this.variablesService.currentWallet.is_auditable) {\r\n      this.mixin = 0;\r\n      this.sendForm.controls['mixin'].disable();\r\n    }\r\n    this.hideWalletAddress =\r\n      this.variablesService.currentWallet.is_auditable &&\r\n      !this.variablesService.currentWallet.is_watch_only;\r\n    if (this.hideWalletAddress) {\r\n      this.sendForm.controls['hide'].disable();\r\n    }\r\n    this.sendForm.reset({\r\n      address: this.variablesService.currentWallet.send_data['address'],\r\n      amount: this.variablesService.currentWallet.send_data['amount'],\r\n      asset: this.variablesService.currentWallet.getBalanceByTicker('ZANO'),\r\n      comment: this.variablesService.currentWallet.send_data['comment'],\r\n      mixin: this.mixin,\r\n      fee:\r\n        this.variablesService.currentWallet.send_data['fee'] ||\r\n        this.variablesService.default_fee,\r\n      hide: this.variablesService.currentWallet.send_data['hide'] || false,\r\n    });\r\n\r\n    this.getWrapInfo();\r\n    this.variablesService.sendActionData$\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: res => {\r\n          if (res.action === 'send') {\r\n            this.actionData = res;\r\n            setTimeout(() => {\r\n              this.fillDeepLinkData();\r\n            }, 100);\r\n            this.variablesService.sendActionData$.next({});\r\n          }\r\n        },\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n    this.variablesService.currentWallet.send_data = {\r\n      address: this.sendForm.get('address').value,\r\n      amount: this.sendForm.get('amount').value,\r\n      comment: this.sendForm.get('comment').value,\r\n      mixin: this.sendForm.get('mixin').value,\r\n      fee: this.sendForm.get('fee').value,\r\n      hide: this.sendForm.get('hide').value,\r\n    };\r\n    this.actionData = {};\r\n  }\r\n\r\n  addressMouseDown(e): void {\r\n    if (\r\n      e['button'] === 0 &&\r\n      this.sendForm.get('address').value &&\r\n      this.sendForm.get('address').value.indexOf('@') === 0\r\n    ) {\r\n      this.isOpen = true;\r\n    }\r\n  }\r\n\r\n  setAlias(alias): void {\r\n    this.sendForm.get('address').setValue(alias);\r\n  }\r\n\r\n  showDialog(): void {\r\n    this.isModalDialogVisible = true;\r\n  }\r\n\r\n  confirmed(confirmed: boolean): void {\r\n    this.isModalDialogVisible = false;\r\n    if (confirmed) {\r\n      this.onSend();\r\n    }\r\n  }\r\n\r\n  fillDeepLinkData(): void {\r\n    this.additionalOptions = true;\r\n    this.sendForm.reset({\r\n      address: this.actionData.address,\r\n      amount: null,\r\n      comment: this.actionData.comment || this.actionData.comments || '',\r\n      mixin: this.actionData.mixins || this.mixin,\r\n      fee: this.actionData.fee || this.variablesService.default_fee,\r\n      hide: this.actionData.hide_sender === 'true',\r\n    });\r\n  }\r\n\r\n  addressToLowerCase(): void | null {\r\n    const control = this.sendForm.get('address');\r\n    const value = control.value;\r\n    const condition = value.indexOf('@') === 0;\r\n    return condition ? control.patchValue(value.toLowerCase()) : null;\r\n  }\r\n\r\n  onSend(): void {\r\n    if (this.sendForm.valid) {\r\n      const { asset } = this.sendForm.value;\r\n      const { wallet_id } = this.variablesService.currentWallet;\r\n      let asset_id = null;\r\n      if (asset.asset_info.ticker !== 'ZANO') {\r\n        asset_id = asset.asset_info.asset_id;\r\n      }\r\n\r\n      if (this.sendForm.get('address').value.indexOf('@') !== 0) {\r\n        this.backend.validateAddress(\r\n          this.sendForm.get('address').value,\r\n          (valid_status, data) => {\r\n            if (valid_status === false && !(data.error_code === 'WRAP')) {\r\n              this.ngZone.run(() => {\r\n                this.sendForm\r\n                  .get('address')\r\n                  .setErrors({ address_not_valid: true });\r\n              });\r\n            } else {\r\n              this.backend.sendMoney(\r\n                wallet_id,\r\n                this.sendForm.get('address').value,\r\n                this.sendForm.get('amount').value,\r\n                this.sendForm.get('fee').value,\r\n                this.sendForm.get('mixin').value,\r\n                this.sendForm.get('comment').value,\r\n                this.sendForm.get('hide').value,\r\n                asset_id,\r\n                job_id => {\r\n                  this.ngZone.run(() => {\r\n                    this.job_id = job_id;\r\n                    this.isModalDetailsDialogVisible = true;\r\n                    this.variablesService.currentWallet.send_data = {\r\n                      address: null,\r\n                      amount: null,\r\n                      comment: null,\r\n                      mixin: null,\r\n                      fee: null,\r\n                      hide: null,\r\n                    };\r\n                    this.sendForm.reset({\r\n                      address: null,\r\n                      amount: null,\r\n                      comment: null,\r\n                      mixin: this.mixin,\r\n                      fee: this.variablesService.default_fee,\r\n                      hide: false,\r\n                    });\r\n                    this.sendForm.markAsUntouched();\r\n                  });\r\n                }\r\n              );\r\n            }\r\n          }\r\n        );\r\n      } else {\r\n        this.backend.getAliasByName(\r\n          this.sendForm.get('address').value.replace('@', ''),\r\n          (alias_status, alias_data) => {\r\n            this.ngZone.run(() => {\r\n              if (alias_status === false) {\r\n                this.ngZone.run(() => {\r\n                  this.sendForm\r\n                    .get('address')\r\n                    .setErrors({ alias_not_valid: true });\r\n                });\r\n              } else {\r\n                this.backend.sendMoney(\r\n                  wallet_id,\r\n                  alias_data.address, // this.sendForm.get('address').value,\r\n                  this.sendForm.get('amount').value,\r\n                  this.sendForm.get('fee').value,\r\n                  this.sendForm.get('mixin').value,\r\n                  this.sendForm.get('comment').value,\r\n                  this.sendForm.get('hide').value,\r\n                  asset_id,\r\n                  job_id => {\r\n                    this.ngZone.run(() => {\r\n                      this.job_id = job_id;\r\n                      this.isModalDetailsDialogVisible = true;\r\n                      this.variablesService.currentWallet.send_data = {\r\n                        address: null,\r\n                        amount: null,\r\n                        comment: null,\r\n                        mixin: null,\r\n                        fee: null,\r\n                        hide: null,\r\n                      };\r\n                      this.sendForm.reset({\r\n                        address: null,\r\n                        amount: null,\r\n                        comment: null,\r\n                        mixin: this.mixin,\r\n                        fee: this.variablesService.default_fee,\r\n                        hide: false,\r\n                      });\r\n                      this.sendForm.markAsUntouched();\r\n                    });\r\n                  }\r\n                );\r\n              }\r\n            });\r\n          }\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  toggleOptions(): void {\r\n    this.additionalOptions = !this.additionalOptions;\r\n  }\r\n\r\n  getReceivedValue(): number | BigNumber {\r\n    const amount = this.moneyToInt.transform(this.sendForm.value.amount);\r\n    const needed = new BigNumber(this.wrapInfo.tx_cost.zano_needed_for_erc20);\r\n    if (amount && needed) {\r\n      return (amount as BigNumber).minus(needed);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  handeCloseDetailsModal(): void {\r\n    this.isModalDetailsDialogVisible = false;\r\n    this.job_id = null;\r\n  }\r\n\r\n  private getWrapInfo(): void {\r\n    this.http\r\n      .get<WrapInfo>('https://wrapped.zano.org/api2/get_wrap_info')\r\n      .pipe(\r\n        finalize(() => {\r\n          this.isLoading = false;\r\n        })\r\n      )\r\n      .subscribe({\r\n        next: info => {\r\n          this.wrapInfo = info;\r\n        },\r\n      });\r\n  }\r\n}\r\n","import { Component, NgZone, OnDestroy, OnInit } from '@angular/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { Chart } from 'angular-highcharts';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { IntToMoneyPipe } from '@parts/pipes/int-to-money-pipe/int-to-money.pipe';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-staking',\r\n  template: `\r\n    <div class=\"chart-wrap\" fxFlexFill fxLayout=\"column\">\r\n      <div class=\"scrolled-content h-100\" fxFlex=\"1 1 auto\" fxLayout=\"column\">\r\n        <div class=\"chart-header mb-1\" fxFlex=\"0 0 auto\" fxLayout=\"column\">\r\n          <div\r\n            class=\"row\"\r\n            fxFlex=\"0 0 auto\"\r\n            fxLayout=\"row nowrap\"\r\n            fxLayoutAlign=\"space-between start\"\r\n            fxLayoutGap=\"1rem\"\r\n          >\r\n            <div\r\n              class=\"left\"\r\n              fxFlex=\"1 1 calc(50% - 0.5rem)\"\r\n              fxLayout=\"row wrap\"\r\n              fxLayoutAlign=\"start center\"\r\n              fxLayoutGap=\"1rem\"\r\n            >\r\n              <div class=\"items\" fxLayout=\"row wrap\" fxLayoutGap=\"1rem\">\r\n                <div\r\n                  *ngIf=\"\r\n                    (!variablesService.currentWallet.is_auditable &&\r\n                      !variablesService.currentWallet.is_watch_only) ||\r\n                    (variablesService.currentWallet.is_auditable &&\r\n                      !variablesService.currentWallet.is_watch_only)\r\n                  \"\r\n                  class=\"item overflow-hidden p-1 border-radius-0_8-rem mb-1\"\r\n                  fxLayout=\"row nowrap\"\r\n                  fxLayoutAlign=\"space-between center\"\r\n                >\r\n                  <div\r\n                    class=\"left overflow-hidden mr-1\"\r\n                    fxLayout=\"row\"\r\n                    fxLayoutAlign=\"start center\"\r\n                  >\r\n                    {{ 'STAKING.TITLE' | translate }}\r\n                  </div>\r\n\r\n                  <div\r\n                    class=\"right overflow-hidden w-100\"\r\n                    fxLayout=\"row\"\r\n                    fxLayoutAlign=\"end center\"\r\n                  >\r\n                    <app-staking-switch\r\n                      [(staking)]=\"variablesService.currentWallet.staking\"\r\n                      [wallet_id]=\"variablesService.currentWallet.wallet_id\"\r\n                    >\r\n                    </app-staking-switch>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  class=\"item overflow-hidden p-1 border-radius-0_8-rem mb-1\"\r\n                  fxLayout=\"row nowrap\"\r\n                  fxLayoutAlign=\"space-between center\"\r\n                >\r\n                  <div\r\n                    class=\"left overflow-hidden mr-1\"\r\n                    fxLayout=\"row\"\r\n                    fxLayoutAlign=\"start center\"\r\n                  >\r\n                    {{ 'STAKING.TITLE_PENDING' | translate }}\r\n                    :\r\n                  </div>\r\n                  <div\r\n                    class=\"right overflow-hidden w-100\"\r\n                    fxLayout=\"row\"\r\n                    fxLayoutAlign=\"end center\"\r\n                  >\r\n                    <div class=\"text-ellipsis mr-1\">\r\n                      {{ pending.total | intToMoney }}\r\n                    </div>\r\n                    {{ variablesService.defaultCurrency }}\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  class=\"item overflow-hidden p-1 border-radius-0_8-rem mb-1\"\r\n                  fxLayout=\"row nowrap\"\r\n                  fxLayoutAlign=\"space-between center\"\r\n                >\r\n                  <div\r\n                    class=\"left overflow-hidden mr-1\"\r\n                    fxLayout=\"row\"\r\n                    fxLayoutAlign=\"start center\"\r\n                  >\r\n                    {{ 'STAKING.TITLE_TOTAL' | translate }}\r\n                    :\r\n                  </div>\r\n                  <div\r\n                    class=\"right overflow-hidden w-100\"\r\n                    fxLayout=\"row\"\r\n                    fxLayoutAlign=\"end center\"\r\n                  >\r\n                    <div class=\"text-ellipsis mr-1\">\r\n                      {{ total | intToMoney }}\r\n                    </div>\r\n                    {{ variablesService.defaultCurrency }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div\r\n              class=\"right\"\r\n              fxFlex=\"1 1 calc(50% - 0.5rem)\"\r\n              fxLayout=\"row\"\r\n              fxLayoutAlign=\"end center\"\r\n              fxLayoutGap=\"1rem\"\r\n            >\r\n              <div\r\n                *ngIf=\"selectedDate && selectedDate.date\"\r\n                class=\"selected overflow-hidden\"\r\n                fxHide\r\n                fxShow.lg\r\n                fxShow.xl\r\n              >\r\n                <div class=\"overflow-hidden\" fxLayout=\"row\">\r\n                  <div class=\"text-ellipsis\">\r\n                    {{ selectedDate.date | date : 'EEEE, MMMM d, y' }}\r\n                    {{ selectedDate.amount }}\r\n                  </div>\r\n                  <div class=\"ml-0_5\">\r\n                    {{ variablesService.defaultCurrency }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <ng-select\r\n                (change)=\"changeGroup($event)\"\r\n                [(ngModel)]=\"selectedGroup\"\r\n                [clearable]=\"false\"\r\n                [items]=\"groups\"\r\n                [searchable]=\"false\"\r\n                bindLabel=\"title\"\r\n                bindValue=\"key\"\r\n                class=\"selected-group max-w-19-rem w-100\"\r\n              >\r\n                <ng-template let-item=\"item\" ng-label-tmp>\r\n                  Sort by {{ (item.title | translate | lowercase) + 's' }}\r\n                </ng-template>\r\n                <ng-template let-index=\"index\" let-item=\"item\" ng-option-tmp>\r\n                  {{ item.title | translate }}\r\n                </ng-template>\r\n              </ng-select>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"row\"\r\n            fxFlex=\"0 0 2rem\"\r\n            fxHide.lg\r\n            fxHide.xl\r\n            fxLayout=\"row nowrap\"\r\n            fxLayoutAlign=\"space-between center\"\r\n            fxLayoutGap=\"1rem\"\r\n            fxShow\r\n          >\r\n            <div class=\"left\"></div>\r\n            <div class=\"right\" fxLayoutAlign=\"end center\">\r\n              <div\r\n                *ngIf=\"selectedDate && selectedDate.date\"\r\n                class=\"selected overflow-hidden\"\r\n              >\r\n                <div class=\"overflow-hidden\" fxLayout=\"row\">\r\n                  <div class=\"text-ellipsis\">\r\n                    {{ selectedDate.date | date : 'EEEE, MMMM d, y' }}\r\n                    {{ selectedDate.amount }}\r\n                  </div>\r\n                  <div class=\"ml-0_5\">\r\n                    {{ variablesService.defaultCurrency }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"chart border-radius-0_8-rem\"\r\n          fxFlex=\"1 1 auto\"\r\n          fxLayoutAlign=\" center\"\r\n        >\r\n          <div [chart]=\"chart\"></div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"chart-options mt-2\"\r\n          fxFlex=\"0 0 auto\"\r\n          fxLayoutAlign=\" center\"\r\n        >\r\n          <ng-container *ngFor=\"let period of periods; let last = last\">\r\n            <button\r\n              (click)=\"changePeriod(period)\"\r\n              [class.active]=\"period.active\"\r\n              [class.mr-1]=\"!last\"\r\n              [class.outline]=\"!last\"\r\n              [class.primary]=\"last\"\r\n              class=\"big w-100\"\r\n              type=\"button\"\r\n            >\r\n              {{ period.title }}\r\n            </button>\r\n          </ng-container>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n        height: auto;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class StakingComponent implements OnInit, OnDestroy {\r\n  periods = [\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.WEEK1'),\r\n      key: '1 week',\r\n      active: false,\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.WEEK2'),\r\n      key: '2 week',\r\n      active: false,\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.MONTH1'),\r\n      key: '1 month',\r\n      active: false,\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.MONTH3'),\r\n      key: '3 month',\r\n      active: false,\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.MONTH6'),\r\n      key: '6 month',\r\n      active: false,\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.YEAR'),\r\n      key: '1 year',\r\n      active: false,\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.PERIOD.ALL'),\r\n      key: 'All',\r\n      active: true,\r\n    },\r\n  ];\r\n\r\n  groups = [\r\n    {\r\n      title: this.translate.instant('STAKING.GROUP.DAY'),\r\n      key: 'day',\r\n      active: true,\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.GROUP.WEEK'),\r\n      key: 'week',\r\n      active: false,\r\n    },\r\n    {\r\n      title: this.translate.instant('STAKING.GROUP.MONTH'),\r\n      key: 'month',\r\n      active: false,\r\n    },\r\n  ];\r\n\r\n  selectedGroup = this.groups[0].key;\r\n\r\n  selectedDate = {\r\n    date: null,\r\n    amount: null,\r\n  };\r\n\r\n  originalData = [];\r\n\r\n  chart: Chart;\r\n\r\n  total = new BigNumber(0);\r\n\r\n  pending = {\r\n    list: [],\r\n    total: new BigNumber(0),\r\n  };\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private route: ActivatedRoute,\r\n    private backend: BackendService,\r\n    private ngZone: NgZone,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  static makeGroupTime(key, date): number {\r\n    if (key === 'day') {\r\n      return date.setHours(0, 0, 0, 0);\r\n    } else if (key === 'week') {\r\n      return new Date(date.setDate(date.getDate() - date.getDay())).setHours(\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      );\r\n    } else {\r\n      return new Date(date.setDate(1)).setHours(0, 0, 0, 0);\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.parent.params.pipe(takeUntil(this.destroy$)).subscribe({\r\n      next: () => {\r\n        this.getMiningHistory();\r\n      },\r\n    });\r\n    this.variablesService.getHeightAppEvent\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (newHeight: number) => {\r\n          if (!this.pending.total.isZero()) {\r\n            const pendingCount = this.pending.list.length;\r\n            for (let i = pendingCount - 1; i >= 0; i--) {\r\n              if (newHeight - this.pending.list[i].h >= 10) {\r\n                this.pending.list.splice(i, 1);\r\n              }\r\n            }\r\n            if (pendingCount !== this.pending.list.length) {\r\n              this.pending.total = new BigNumber(0);\r\n              for (let i = 0; i < this.pending.list.length; i++) {\r\n                this.pending.total = this.pending.total.plus(\r\n                  this.pending.list[i].a\r\n                );\r\n              }\r\n            }\r\n          }\r\n        },\r\n      });\r\n    this.variablesService.getRefreshStackingEvent\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (wallet_id: number) => {\r\n          if (this.variablesService.currentWallet.wallet_id === wallet_id) {\r\n            this.getMiningHistory();\r\n          }\r\n        },\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  drawChart(data): void {\r\n    this.chart = new Chart({\r\n      title: { text: '' },\r\n      credits: { enabled: false },\r\n      exporting: { enabled: false },\r\n      legend: { enabled: false },\r\n      chart: {\r\n        type: 'line',\r\n        backgroundColor: 'transparent',\r\n        height: null,\r\n        events: {\r\n          load: (): void => {\r\n            this.changePeriod();\r\n          },\r\n        },\r\n      },\r\n\r\n      yAxis: {\r\n        min: 0,\r\n        tickAmount: 5,\r\n        title: {\r\n          text: '',\r\n        },\r\n        gridLineColor: '#2b3644',\r\n        gridLineWidth: 2,\r\n        lineColor: '#2b3644',\r\n        lineWidth: 2,\r\n        tickWidth: 2,\r\n        tickLength: 120,\r\n        tickColor: '#2b3644',\r\n        labels: {\r\n          y: -8,\r\n          align: 'left',\r\n          x: -120,\r\n          style: {\r\n            color: '#e0e0e0',\r\n            fontSize: '13px',\r\n          },\r\n          format: '{value} ' + this.variablesService.defaultCurrency,\r\n        },\r\n      },\r\n\r\n      xAxis: {\r\n        type: 'datetime',\r\n        gridLineColor: '#2b3644',\r\n        lineColor: '#2b3644',\r\n        lineWidth: 2,\r\n        tickWidth: 2,\r\n        tickLength: 10,\r\n        tickColor: '#2b3644',\r\n        labels: {\r\n          style: {\r\n            color: '#e0e0e0',\r\n            fontSize: '13px',\r\n          },\r\n        },\r\n        minPadding: 0,\r\n        maxPadding: 0,\r\n        minRange: 86400000,\r\n        // tickInterval: 86400000,\r\n        minTickInterval: 3600000,\r\n      },\r\n\r\n      tooltip: {\r\n        enabled: false,\r\n      },\r\n\r\n      plotOptions: {\r\n        area: {\r\n          fillColor: {\r\n            linearGradient: {\r\n              x1: 0,\r\n              y1: 0,\r\n              x2: 0,\r\n              y2: 1,\r\n            },\r\n            stops: [\r\n              [0, 'rgba(124,181,236,0.2)'],\r\n              [1, 'rgba(124,181,236,0)'],\r\n            ],\r\n          },\r\n          marker: {\r\n            enabled: false,\r\n            radius: 2,\r\n          },\r\n          lineWidth: 2,\r\n          threshold: null,\r\n        },\r\n\r\n        series: {\r\n          point: {\r\n            events: {\r\n              mouseOver: (obj): void => {\r\n                this.selectedDate.date = obj.target['x'];\r\n                this.selectedDate.amount = obj.target['y'];\r\n              },\r\n            },\r\n          },\r\n          events: {\r\n            mouseOut: (): void => {\r\n              this.selectedDate.date = null;\r\n              this.selectedDate.amount = null;\r\n            },\r\n          },\r\n        },\r\n      },\r\n      series: [\r\n        {\r\n          type: 'area',\r\n          data: data,\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  getMiningHistory(): void {\r\n    if (this.variablesService.currentWallet.loaded) {\r\n      this.backend.getMiningHistory(\r\n        this.variablesService.currentWallet.wallet_id,\r\n        (status, data) => {\r\n          this.total = new BigNumber(0);\r\n          this.pending.list = [];\r\n          this.pending.total = new BigNumber(0);\r\n          this.originalData = [];\r\n          if (data.mined_entries) {\r\n            data.mined_entries.forEach((item, key) => {\r\n              if (item.t.toString().length === 10) {\r\n                data.mined_entries[key].t = new Date(\r\n                  item.t * 1000\r\n                ).setUTCMilliseconds(0);\r\n              }\r\n            });\r\n            data.mined_entries.forEach(item => {\r\n              this.total = this.total.plus(item.a);\r\n              if (this.variablesService.height_app - item.h < 10) {\r\n                this.pending.list.push(item);\r\n                this.pending.total = this.pending.total.plus(item.a);\r\n              }\r\n              this.originalData.push([\r\n                parseInt(item.t, 10),\r\n                parseFloat(this.intToMoneyPipe.transform(item.a)),\r\n              ]);\r\n            });\r\n            this.originalData = this.originalData.sort(function (a, b) {\r\n              return a[0] - b[0];\r\n            });\r\n          }\r\n          this.ngZone.run(() => {\r\n            this.drawChart([]);\r\n          });\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  changePeriod(period?): void {\r\n    if (period) {\r\n      this.periods.forEach(p => {\r\n        p.active = false;\r\n      });\r\n      period.active = true;\r\n    } else {\r\n      period = this.periods.find(p => p.active);\r\n    }\r\n\r\n    const d = new Date();\r\n    let min = null;\r\n    const newData = [];\r\n\r\n    const group = this.groups.find(g => g.active);\r\n\r\n    if (period.key === '1 week') {\r\n      this.originalData.forEach(item => {\r\n        const time = StakingComponent.makeGroupTime(\r\n          group.key,\r\n          new Date(item[0])\r\n        );\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref?.series[0].setData(newData, true);\r\n      min = Date.UTC(\r\n        d.getFullYear(),\r\n        d.getMonth(),\r\n        d.getDate() - 7,\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      );\r\n    } else if (period.key === '2 week') {\r\n      this.originalData.forEach(item => {\r\n        const time = StakingComponent.makeGroupTime(\r\n          group.key,\r\n          new Date(item[0])\r\n        );\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref?.series[0].setData(newData, true);\r\n      min = Date.UTC(\r\n        d.getFullYear(),\r\n        d.getMonth(),\r\n        d.getDate() - 14,\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      );\r\n    } else if (period.key === '1 month') {\r\n      this.originalData.forEach(item => {\r\n        const time = StakingComponent.makeGroupTime(\r\n          group.key,\r\n          new Date(item[0])\r\n        );\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref?.series[0].setData(newData, true);\r\n      min = Date.UTC(\r\n        d.getFullYear(),\r\n        d.getMonth() - 1,\r\n        d.getDate(),\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      );\r\n    } else if (period.key === '3 month') {\r\n      this.originalData.forEach(item => {\r\n        const time = StakingComponent.makeGroupTime(\r\n          group.key,\r\n          new Date(item[0])\r\n        );\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref?.series[0].setData(newData, true);\r\n      min = Date.UTC(\r\n        d.getFullYear(),\r\n        d.getMonth() - 3,\r\n        d.getDate(),\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      );\r\n    } else if (period.key === '6 month') {\r\n      this.originalData.forEach(item => {\r\n        const time = StakingComponent.makeGroupTime(\r\n          group.key,\r\n          new Date(item[0])\r\n        );\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref?.series[0].setData(newData, true);\r\n      min = Date.UTC(\r\n        d.getFullYear(),\r\n        d.getMonth() - 6,\r\n        d.getDate(),\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      );\r\n    } else if (period.key === '1 year') {\r\n      this.originalData.forEach(item => {\r\n        const time = StakingComponent.makeGroupTime(\r\n          group.key,\r\n          new Date(item[0])\r\n        );\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref?.series[0].setData(newData, true);\r\n      min = Date.UTC(\r\n        d.getFullYear() - 1,\r\n        d.getMonth(),\r\n        d.getDate(),\r\n        0,\r\n        0,\r\n        0,\r\n        0\r\n      );\r\n    } else {\r\n      this.originalData.forEach(item => {\r\n        const time = StakingComponent.makeGroupTime(\r\n          group.key,\r\n          new Date(item[0])\r\n        );\r\n        const find = newData.find(itemNew => itemNew[0] === time);\r\n        if (find) {\r\n          find[1] = new BigNumber(find[1]).plus(item[1]).toNumber();\r\n        } else {\r\n          newData.push([time, item[1]]);\r\n        }\r\n      });\r\n      this.chart.ref?.series[0].setData(newData, true);\r\n    }\r\n\r\n    this.chart.ref?.xAxis[0].setExtremes(min, null);\r\n  }\r\n\r\n  changeGroup(group): void {\r\n    this.groups.forEach(g => {\r\n      g.active = false;\r\n    });\r\n    group.active = true;\r\n    this.changePeriod();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { WalletComponent } from './wallet/wallet.component';\r\nimport { paths, pathsChildrenContracts, pathsChildrenWallet } from '../paths';\r\nimport { SendComponent } from './tabs/send/send.component';\r\nimport { ReceiveComponent } from './tabs/receive/receive.component';\r\nimport { HistoryComponent } from './tabs/history/history.component';\r\nimport { ContractsTabComponent } from './tabs/contracts/contracts-tab/contracts-tab.component';\r\nimport { ContractsComponent } from './tabs/contracts/contracts.component';\r\nimport { PurchaseComponent } from './tabs/contracts/purchase/purchase.component';\r\nimport { StakingComponent } from './tabs/staking/staking.component';\r\nimport { AssetsComponent } from './tabs/assets/assets.component';\r\nimport { WithSidebarLayoutComponent } from '../../layouts/with-sidebar-layout/with-sidebar-layout.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: paths.wallet,\r\n    component: WithSidebarLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: WalletComponent,\r\n        children: [\r\n          {\r\n            path: pathsChildrenWallet.assets,\r\n            component: AssetsComponent,\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.send,\r\n            component: SendComponent,\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.receive,\r\n            component: ReceiveComponent,\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.history,\r\n            component: HistoryComponent,\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.contracts,\r\n            component: ContractsTabComponent,\r\n            children: [\r\n              {\r\n                path: '',\r\n                component: ContractsComponent,\r\n              },\r\n              {\r\n                path: pathsChildrenContracts.purchase,\r\n                component: PurchaseComponent,\r\n              },\r\n              {\r\n                path: `${pathsChildrenContracts.purchase}/:id`,\r\n                component: PurchaseComponent,\r\n              },\r\n              {\r\n                path: '**',\r\n                redirectTo: '',\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            path: pathsChildrenWallet.staking,\r\n            component: StakingComponent,\r\n          },\r\n          {\r\n            path: '',\r\n            redirectTo: pathsChildrenWallet.assets,\r\n            pathMatch: 'full',\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class WalletRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { WalletRoutingModule } from './wallet-routing.module';\r\nimport { AssetsComponent } from './tabs/assets/assets.component';\r\nimport { WalletComponent } from './wallet/wallet.component';\r\nimport { FlexLayoutModule, FlexModule } from '@angular/flex-layout';\r\nimport { TooltipModule } from '@parts/directives/tooltip/tooltip.module';\r\nimport {\r\n  GetWhiteAssetInfoModule,\r\n  GetPriceByUrlModule,\r\n  ShortStringPipeModule,\r\n  HasInAssetsWhitelistModule,\r\n} from '@parts/pipes';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IsAvailableAliasNamePipeModule } from '@parts/pipes';\r\nimport { ConfirmModalModule } from '@parts/modals/confirm-modal/confirm-modal.module';\r\nimport { AddCustomTokenModule } from './wallet/modals/add-custom-token/add-custom-token.module';\r\nimport { ExportHistoryModalModule } from './wallet/modals/export-history-modal/export-history-modal.module';\r\nimport { WalletDetailsComponent } from '../wallet-details/wallet-details.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { DefaultImgModule, InputValidateModule } from '@parts/directives';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\nimport { HistoryComponent } from './tabs/history/history.component';\r\nimport { StakingComponent } from './tabs/staking/staking.component';\r\nimport { ChartModule } from 'angular-highcharts';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { ReceiveComponent } from './tabs/receive/receive.component';\r\nimport { ContractsComponent } from './tabs/contracts/contracts.component';\r\nimport { ContractsTabComponent } from './tabs/contracts/contracts-tab/contracts-tab.component';\r\nimport { DialogModule } from '@angular/cdk/dialog';\r\nimport { SendDetailsModalComponent } from './tabs/send/modals/send-details-modal/send-details-modal.component';\r\nimport { SendModalComponent } from './tabs/send/modals/send-modal/send-modal.component';\r\nimport { SendComponent } from './tabs/send/send.component';\r\nimport { ExportImportComponent } from '../export-import/export-import.component';\r\nimport {\r\n  ContractStatusMessagesPipeModule,\r\n  HistoryTypeMessagesPipeModule,\r\n  IntToMoneyPipeModule,\r\n} from '@parts/pipes';\r\nimport { BackButtonModule } from '@parts/directives/back-button/back-button.module';\r\nimport { AssetDetailsModule } from '@parts/modals/asset-details/asset-details.module';\r\nimport { CheckboxComponent } from '@parts/components/checkbox.component';\r\nimport { CopyButtonComponent } from '@parts/components/copy-button.component';\r\nimport { StakingSwitchComponent } from '@parts/components/staking-switch.component';\r\nimport { SwitchComponent } from '@parts/components/switch.component';\r\nimport { TransactionDetailsComponent } from '@parts/components/transaction-details.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WalletComponent,\r\n    AssetsComponent,\r\n    WalletDetailsComponent,\r\n    HistoryComponent,\r\n    StakingComponent,\r\n    ReceiveComponent,\r\n    ContractsComponent,\r\n    ContractsTabComponent,\r\n    ExportImportComponent,\r\n    SendDetailsModalComponent,\r\n    SendModalComponent,\r\n    SendComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    WalletRoutingModule,\r\n    FlexModule,\r\n    TooltipModule,\r\n    ShortStringPipeModule,\r\n    TranslateModule,\r\n    IsAvailableAliasNamePipeModule,\r\n    ConfirmModalModule,\r\n    AddCustomTokenModule,\r\n    ExportHistoryModalModule,\r\n    ReactiveFormsModule,\r\n    OverlayModule,\r\n    DefaultImgModule,\r\n    NgxPaginationModule,\r\n    SwitchComponent,\r\n    ChartModule,\r\n    NgSelectModule,\r\n    FormsModule,\r\n    FlexLayoutModule,\r\n    StakingSwitchComponent,\r\n    DialogModule,\r\n    IntToMoneyPipeModule,\r\n    ContractStatusMessagesPipeModule,\r\n    HistoryTypeMessagesPipeModule,\r\n    BackButtonModule,\r\n    InputValidateModule,\r\n    CheckboxComponent,\r\n    AssetDetailsModule,\r\n    GetWhiteAssetInfoModule,\r\n    GetPriceByUrlModule,\r\n    HasInAssetsWhitelistModule,\r\n    CopyButtonComponent,\r\n    TransactionDetailsComponent,\r\n  ],\r\n})\r\nexport class WalletModule {}\r\n","import { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ZanoValidators } from '@parts/utils/zano-validators';\r\nimport { DialogRef } from '@angular/cdk/dialog';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { Asset, ParamsAddCustomAssetId } from '@api/models/assets.model';\r\nimport { WalletsService } from '@parts/services/wallets.service';\r\n\r\n@Component({\r\n  selector: 'app-add-custom-token',\r\n  template: `\r\n    <form\r\n      (ngSubmit)=\"beforeSubmit()\"\r\n      [formGroup]=\"formGroup\"\r\n      class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-54-rem w-100 max-h-100\"\r\n    >\r\n      <div class=\"content\" fxLayout=\"column\">\r\n        <h3 class=\"mb-2\">\r\n          {{ 'WALLET.MODAL_ADD_CUSTOM_TOKEN.TITLE' | translate }}\r\n        </h3>\r\n\r\n        <div class=\"form__field\">\r\n          <label for=\"asset_id\">{{\r\n            'WALLET.MODAL_ADD_CUSTOM_TOKEN.FIELD_TITLE' | translate\r\n          }}</label>\r\n          <input\r\n            (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n            class=\"form__field--input\"\r\n            formControlName=\"asset_id\"\r\n            id=\"asset_id\"\r\n            name=\"asset_id\"\r\n            placeholder=\"Enter Asset ID\"\r\n            type=\"text\"\r\n          />\r\n          <div\r\n            *ngIf=\"\r\n              formGroup.get('asset_id').touched &&\r\n              formGroup.get('asset_id').hasError('invalidHash')\r\n            \"\r\n            class=\"error\"\r\n          >\r\n            Invalid hash\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"controls\" fxLayout=\"row nowrap\" fxLayoutGap=\"1rem\">\r\n        <button (click)=\"close()\" class=\"outline big w-100\" type=\"button\">\r\n          {{ 'MODALS.CANCEL' | translate }}\r\n        </button>\r\n        <button\r\n          [disabled]=\"formGroup.invalid\"\r\n          class=\"primary big w-100\"\r\n          type=\"submit\"\r\n        >\r\n          {{ 'MODALS.ADD_TOKEN' | translate }}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        max-width: 54rem;\r\n        width: 100vw;\r\n        display: block;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class AddCustomTokenComponent {\r\n  formGroup = new FormGroup({\r\n    asset_id: new FormControl<string>(\r\n      null,\r\n      Validators.compose([Validators.required, ZanoValidators.hash])\r\n    ),\r\n  });\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    public backendService: BackendService,\r\n    private walletsService: WalletsService,\r\n    private dialogRef: DialogRef<Asset | undefined>\r\n  ) {}\r\n\r\n  beforeSubmit(): void {\r\n    if (this.formGroup.invalid) {\r\n      this.formGroup.markAsTouched();\r\n      this.formGroup.updateValueAndValidity();\r\n      return;\r\n    }\r\n\r\n    this.submit();\r\n  }\r\n\r\n  submit(): void {\r\n    const { asset_id } = this.formGroup.value;\r\n    const { wallet_id } = this.variablesService.currentWallet;\r\n    const params: ParamsAddCustomAssetId = {\r\n      asset_id,\r\n      wallet_id,\r\n    };\r\n    this.backendService.addCustomAssetId(\r\n      params,\r\n      (status, { asset_descriptor }) => {\r\n        if (status) {\r\n          const asset: Asset = {\r\n            asset_info: {\r\n              ...asset_descriptor,\r\n              asset_id,\r\n            },\r\n            awaiting_in: 0,\r\n            awaiting_out: 0,\r\n            total: 0,\r\n            unlocked: 0,\r\n          };\r\n          this.walletsService.updateWalletInfo(wallet_id);\r\n          this.dialogRef.close(asset);\r\n        } else {\r\n          console.warn('Opss! Asset not added');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AddCustomTokenComponent } from './add-custom-token.component';\r\nimport { FlexModule } from '@angular/flex-layout';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [AddCustomTokenComponent],\r\n  exports: [AddCustomTokenComponent],\r\n  imports: [CommonModule, FlexModule, TranslateModule, ReactiveFormsModule],\r\n})\r\nexport class AddCustomTokenModule {}\r\n","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { DialogRef } from '@angular/cdk/dialog';\r\n\r\n@Component({\r\n  selector: 'app-export-history-modal',\r\n  template: `\r\n    <div\r\n      class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-h-100 overflow-hidden\"\r\n      fxFlex=\"0 1 54rem\"\r\n      fxLayout=\"column\"\r\n      fxLayoutAlign=\"start stretch\"\r\n    >\r\n      <form\r\n        class=\"form overflow-x-hidden overflow-y-auto\"\r\n        fxLayout=\"column\"\r\n        fxLayoutAlign=\"start stretch\"\r\n      >\r\n        <h4 class=\"text-ellipsis mb-2\" fxFlex=\"0 0 auto\">\r\n          {{ 'EXPORT_HISTORY.TITLE' | translate }}\r\n        </h4>\r\n\r\n        <div class=\"content mb-2\" fxFlex=\"1 1 auto\">\r\n          <div class=\"form__field\">\r\n            <label>Format:</label>\r\n            <ng-select\r\n              [(ngModel)]=\"currentFormat\"\r\n              [clearable]=\"false\"\r\n              [items]=\"exportFormats\"\r\n              [searchable]=\"false\"\r\n              bindLabel=\"formatName\"\r\n              bindValue=\"format\"\r\n              name=\"format\"\r\n            >\r\n              <ng-template let-item=\"item\" ng-label-tmp>\r\n                {{ item.formatName }}\r\n              </ng-template>\r\n              <ng-template let-index=\"index\" let-item=\"item\" ng-option-tmp>\r\n                {{ item.formatName }}\r\n              </ng-template>\r\n            </ng-select>\r\n          </div>\r\n\r\n          <div class=\"mb-2\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n            <span class=\"color-primary mr-1\">{{\r\n              'EXPORT_HISTORY.FILTER' | translate\r\n            }}</span>\r\n            <app-switch\r\n              (emitChange)=\"posFilterIsOn = !posFilterIsOn\"\r\n              [value]=\"posFilterIsOn\"\r\n            ></app-switch>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"controls\"\r\n          fxFlex=\"0 0 auto\"\r\n          fxLayout=\"row\"\r\n          fxLayoutAlign=\"space-between center\"\r\n        >\r\n          <button\r\n            (click)=\"confirmExport()\"\r\n            class=\"primary big w-100 mr-0_5\"\r\n            type=\"submit\"\r\n          >\r\n            {{ 'EXPORT_HISTORY.EXPORT' | translate }}\r\n          </button>\r\n          <button\r\n            (click)=\"closeModal()\"\r\n            class=\"outline big w-100 ml-0_5\"\r\n            type=\"button\"\r\n          >\r\n            {{ 'EXPORT_HISTORY.CANCEL' | translate }}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        max-width: 54rem;\r\n        width: 100vw;\r\n        display: block;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class ExportHistoryModalComponent {\r\n  posFilterIsOn = true;\r\n\r\n  currentFormat: string;\r\n\r\n  exportData = {\r\n    wallet_id: 0,\r\n    include_pos_transactions: false,\r\n    path: 'C:\\\\some_file.txt',\r\n    format: 'json',\r\n  };\r\n\r\n  exportFormats = [\r\n    {\r\n      format: 'json',\r\n      formatName: 'JSON',\r\n    },\r\n    {\r\n      format: 'text',\r\n      formatName: 'Text',\r\n    },\r\n    {\r\n      format: 'csv',\r\n      formatName: 'CSV',\r\n    },\r\n  ];\r\n\r\n  constructor(\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService,\r\n    private translate: TranslateService,\r\n    private dialogRef: DialogRef\r\n  ) {\r\n    this.currentFormat = this.exportFormats[0].format;\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  confirmExport(): void {\r\n    this.exportData.format = `${this.currentFormat}`;\r\n    this.exportData.wallet_id = this.variablesService.currentWallet.wallet_id;\r\n    this.exportData.include_pos_transactions = this.posFilterIsOn;\r\n\r\n    this.backend.saveFileDialog(\r\n      this.translate.instant('EXPORT_HISTORY.SAVED_FILE'),\r\n      `${this.exportData.format}`,\r\n      this.variablesService.settings.default_path,\r\n      (file_status, file_data) => {\r\n        if (this.exportData.format === 'text') {\r\n          this.exportData.path = file_data.path + '.txt';\r\n        } else {\r\n          this.exportData.path = file_data.path + `.${this.exportData.format}`;\r\n        }\r\n        if (file_status) {\r\n          this.backend.exportWalletHistory(JSON.stringify(this.exportData));\r\n          this.closeModal();\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { ExportHistoryModalComponent } from './export-history-modal.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexModule } from '@angular/flex-layout';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CheckboxComponent } from '@parts/components/checkbox.component';\r\nimport { SwitchComponent } from '@parts/components/switch.component';\r\n\r\n@NgModule({\r\n  declarations: [ExportHistoryModalComponent],\r\n  exports: [ExportHistoryModalComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    FlexModule,\r\n    SwitchComponent,\r\n    CheckboxComponent,\r\n    NgSelectModule,\r\n    FormsModule,\r\n  ],\r\n})\r\nexport class ExportHistoryModalModule {}\r\n","import {\r\n  Component,\r\n  HostListener,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { BackendService, Commands } from '@api/services/backend.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IntToMoneyPipe } from '@parts/pipes/int-to-money-pipe/int-to-money.pipe';\r\nimport { Subject } from 'rxjs';\r\nimport { StateKeys, Store, Sync } from '@store/store';\r\nimport { distinctUntilChanged, filter, takeUntil } from 'rxjs/operators';\r\nimport { hasOwnProperty } from '@parts/functions/hasOwnProperty';\r\nimport { Dialog, DialogConfig } from '@angular/cdk/dialog';\r\nimport {\r\n  ConfirmModalComponent,\r\n  ConfirmModalData,\r\n} from '@parts/modals/confirm-modal/confirm-modal.component';\r\nimport { ExportHistoryModalComponent } from './modals/export-history-modal/export-history-modal.component';\r\nimport { AddCustomTokenComponent } from './modals/add-custom-token/add-custom-token.component';\r\nimport { Asset } from '@api/models/assets.model';\r\nimport { AssetDetailsComponent } from '@parts/modals/asset-details/asset-details.component';\r\nimport { WalletsService } from '@parts/services/wallets.service';\r\n\r\n@Component({\r\n  selector: 'app-wallet',\r\n  template: `\r\n    <div\r\n      class=\"header mb-2\"\r\n      fxFlex=\"0 0 auto\"\r\n      fxLayout=\"row nowrap\"\r\n      fxLayoutAlign=\"space-between start\"\r\n      fxLayoutGap=\"1rem\"\r\n    >\r\n      <div class=\"left overflow-hidden\">\r\n        <div\r\n          class=\"wallet-wrapper\"\r\n          fxLayout=\"column\"\r\n          fxLayoutAlign=\"start start\"\r\n        >\r\n          <div class=\"title\" fxLayout=\"row nowrap\" fxLayoutAlign=\"start center\">\r\n            <h1 class=\"text-ellipsis mr-1\">\r\n              {{ variablesService.currentWallet.address | zanoShortString }}\r\n            </h1>\r\n\r\n            <app-copy-button\r\n              [delay]=\"150\"\r\n              [placement]=\"'bottom'\"\r\n              [timeout]=\"0\"\r\n              [tooltipClass]=\"'table-tooltip'\"\r\n              [tooltip]=\"variablesService.currentWallet.address\"\r\n              [value]=\"variablesService.currentWallet.address\"\r\n              class=\"mr-1\"\r\n            >\r\n            </app-copy-button>\r\n\r\n            <div\r\n              *ngIf=\"!variablesService.currentWallet.is_auditable\"\r\n              class=\"controls\"\r\n              fxFlex=\"0 0 auto\"\r\n              fxLayout=\"row\"\r\n              fxLayoutAlign=\"start center\"\r\n            >\r\n              <ng-container\r\n                *ngIf=\"\r\n                  !variablesService.currentWallet.alias.hasOwnProperty(\r\n                    'name'\r\n                  ) &&\r\n                  variablesService.currentWallet.loaded &&\r\n                  variablesService.daemon_state === 2 &&\r\n                  variablesService.currentWallet.alias_available\r\n                \"\r\n              >\r\n                <button\r\n                  [routerLink]=\"['/assign-alias']\"\r\n                  class=\"px-1 py-0_5 bg-light-gray\"\r\n                >\r\n                  {{ 'WALLET.REGISTER_ALIAS' | translate }}\r\n                </button>\r\n              </ng-container>\r\n\r\n              <ng-container\r\n                *ngIf=\"\r\n                  variablesService.currentWallet.alias.hasOwnProperty('name') &&\r\n                  variablesService.currentWallet.loaded &&\r\n                  variablesService.daemon_state === 2\r\n                \"\r\n              >\r\n                <div\r\n                  [class.available]=\"\r\n                    variablesService.currentWallet.alias | isAvailableAliasName\r\n                  \"\r\n                  class=\"alias mr-1\"\r\n                >\r\n                  {{ variablesService.currentWallet.alias.name }}\r\n                </div>\r\n\r\n                <ng-container\r\n                  *ngIf=\"variablesService.currentWallet.alias_available\"\r\n                >\r\n                  <button\r\n                    [delay]=\"500\"\r\n                    [routerLink]=\"['/edit-alias']\"\r\n                    [timeDelay]=\"500\"\r\n                    class=\"btn-icon circle small mr-1\"\r\n                    placement=\"bottom-right\"\r\n                    tooltip=\"{{ 'WALLET.TOOLTIPS.EDIT_ALIAS' | translate }}\"\r\n                    tooltipClass=\"table-tooltip account-tooltip\"\r\n                  >\r\n                    <i class=\"icon edit-square\"></i>\r\n                  </button>\r\n\r\n                  <button\r\n                    [delay]=\"500\"\r\n                    [routerLink]=\"['/transfer-alias']\"\r\n                    [timeDelay]=\"500\"\r\n                    class=\"btn-icon circle small\"\r\n                    placement=\"right\"\r\n                    tooltip=\"{{ 'WALLET.TOOLTIPS.TRANSFER_ALIAS' | translate }}\"\r\n                    tooltipClass=\"table-tooltip account-tooltip\"\r\n                  >\r\n                    <i class=\"icon arrow-up-square\"></i>\r\n                  </button>\r\n                </ng-container>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <div class=\"dropdown\">\r\n          <button\r\n            (click)=\"$event.stopPropagation(); toggleMenuDropdown()\"\r\n            #trigger=\"cdkOverlayOrigin\"\r\n            cdkOverlayOrigin\r\n            [disabled]=\"\r\n              settingsButtonDisabled && !variablesService.currentWallet.loaded\r\n            \"\r\n            class=\"btn-icon circle big\"\r\n            data-target=\"wallet-dropdown-button\"\r\n          >\r\n            <i class=\"icon dots\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <ng-template\r\n      (backdropClick)=\"$event.stopPropagation(); toggleMenuDropdown()\"\r\n      [cdkConnectedOverlayBackdropClass]=\"'opacity-0'\"\r\n      [cdkConnectedOverlayHasBackdrop]=\"true\"\r\n      [cdkConnectedOverlayOrigin]=\"trigger\"\r\n      [cdkConnectedOverlayOpen]=\"openDropdown\"\r\n      [cdkConnectedOverlayPositions]=\"[\r\n        {\r\n          originX: 'end',\r\n          originY: 'top',\r\n          overlayX: 'end',\r\n          overlayY: 'top',\r\n          offsetY: 40\r\n        }\r\n      ]\"\r\n      cdkConnectedOverlay\r\n    >\r\n      <div (click)=\"toggleMenuDropdown()\" class=\"content-bottom-right py-0_5\">\r\n        <ul class=\"list\">\r\n          <li class=\"item\">\r\n            <button\r\n              [delay]=\"500\"\r\n              [disabled]=\"!variablesService.currentWallet.loaded\"\r\n              [routerLink]=\"['/details']\"\r\n              [timeDelay]=\"500\"\r\n              class=\"w-100 px-2 py-1\"\r\n              placement=\"left\"\r\n              routerLinkActive=\"active\"\r\n              tooltip=\"{{ 'WALLET.TOOLTIPS.SETTINGS' | translate }}\"\r\n              tooltipClass=\"table-tooltip account-tooltip\"\r\n              type=\"button\"\r\n            >\r\n              <i class=\"icon settings mr-1\"></i>\r\n              <span>{{ 'WALLET_DETAILS.WALLET_OPTIONS' | translate }}</span>\r\n            </button>\r\n          </li>\r\n          <li class=\"item\">\r\n            <button\r\n              (click)=\"addCustomToken()\"\r\n              [delay]=\"500\"\r\n              [disabled]=\"false\"\r\n              [timeDelay]=\"500\"\r\n              class=\"w-100 px-2 py-1\"\r\n              placement=\"left\"\r\n              tooltip=\"{{ 'WALLET.TOOLTIPS.ADD_CUSTOM_TOKEN' | translate }}\"\r\n              tooltipClass=\"table-tooltip account-tooltip\"\r\n              type=\"button\"\r\n            >\r\n              <i class=\"icon add mr-1\"></i>\r\n              <span>{{ 'WALLET_DETAILS.ADD_CUSTOM_TOKEN' | translate }}</span>\r\n            </button>\r\n          </li>\r\n          <li class=\"item\">\r\n            <button\r\n              (click)=\"exportHistory()\"\r\n              [delay]=\"500\"\r\n              [disabled]=\"variablesService.currentWallet.history.length <= 0\"\r\n              [timeDelay]=\"500\"\r\n              class=\"w-100 px-2 py-1\"\r\n              placement=\"left\"\r\n              tooltip=\"{{ 'EXPORT_HISTORY.TOOLTIP' | translate }}\"\r\n              tooltipClass=\"table-tooltip account-tooltip\"\r\n              type=\"button\"\r\n            >\r\n              <i class=\"icon export mr-1\"></i>\r\n              <span>{{ 'EXPORT_HISTORY.EXPORT_BUTTON' | translate }}</span>\r\n            </button>\r\n          </li>\r\n          <ng-container *ngIf=\"walletSyncVisible\">\r\n            <li class=\"item\">\r\n              <button\r\n                (click)=\"\r\n                  resyncCurrentWallet(variablesService.currentWallet.wallet_id)\r\n                \"\r\n                [delay]=\"500\"\r\n                [disabled]=\"!variablesService.currentWallet.loaded\"\r\n                [timeDelay]=\"500\"\r\n                class=\"w-100 px-2 py-1\"\r\n                placement=\"left\"\r\n                tooltip=\"{{ 'WALLET_DETAILS.RESYNC_WALLET' | translate }}\"\r\n                tooltipClass=\"table-tooltip account-tooltip\"\r\n                type=\"button\"\r\n              >\r\n                <i class=\"icon update mr-1\"></i\r\n                ><span>{{\r\n                  'WALLET_DETAILS.RESYNC_WALLET_BUTTON' | translate\r\n                }}</span>\r\n              </button>\r\n            </li>\r\n          </ng-container>\r\n          <li class=\"item\">\r\n            <button\r\n              (click)=\"beforeClose(variablesService.currentWallet.wallet_id)\"\r\n              [delay]=\"500\"\r\n              [timeDelay]=\"500\"\r\n              class=\"w-100 px-2 py-1\"\r\n              placement=\"left\"\r\n              tooltip=\"{{ 'WALLET.TOOLTIPS.CLOSE' | translate }}\"\r\n              tooltipClass=\"table-tooltip account-tooltip\"\r\n              type=\"button\"\r\n            >\r\n              <i class=\"icon close-square mr-1\"></i\r\n              ><span>{{ 'WALLET_DETAILS.BUTTON_REMOVE' | translate }}</span>\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </ng-template>\r\n\r\n    <div class=\"tabs\">\r\n      <div class=\"tabs-header\">\r\n        <ng-container *ngFor=\"let tab of tabs; let index = index\">\r\n          <button\r\n            [disabled]=\"tab.disabled\"\r\n            [ngClass]=\"{\r\n              hide:\r\n                (tab.link === '/send' || tab.link === '/contracts') &&\r\n                variablesService.currentWallet.is_watch_only &&\r\n                variablesService.currentWallet.is_auditable\r\n            }\"\r\n            [routerLink]=\"['/wallet' + tab.link]\"\r\n            class=\"tab-header\"\r\n            routerLinkActive=\"active\"\r\n          >\r\n            <i [ngClass]=\"tab.icon\" class=\"icon mr-1\"></i>\r\n            <span>{{ tab.title | translate }}</span>\r\n            <span *ngIf=\"tab.indicator\" class=\"indicator\">{{\r\n              variablesService.currentWallet.new_contracts\r\n            }}</span>\r\n          </button>\r\n        </ng-container>\r\n      </div>\r\n      <div class=\"tabs-content\">\r\n        <router-outlet></router-outlet>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n})\r\nexport class WalletComponent implements OnInit, OnDestroy {\r\n  settingsButtonInterval;\r\n\r\n  settingsButtonDisabled = true;\r\n\r\n  walletLoaded = false;\r\n\r\n  openDropdown: boolean;\r\n\r\n  walletSyncVisible = false;\r\n\r\n  tabs = [\r\n    {\r\n      title: 'WALLET.TABS.ASSETS',\r\n      icon: 'balance-icon',\r\n      link: '/assets',\r\n      disabled: false,\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.HISTORY',\r\n      icon: 'time-circle',\r\n      link: '/history',\r\n      disabled: false,\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.SEND',\r\n      icon: 'arrow-up-square',\r\n      link: '/send',\r\n      disabled: true,\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.RECEIVE',\r\n      icon: 'arrow-down-square',\r\n      link: '/receive',\r\n      disabled: false,\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.CONTRACTS',\r\n      icon: 'document',\r\n      link: '/contracts',\r\n      disabled: true,\r\n    },\r\n    {\r\n      title: 'WALLET.TABS.STAKING',\r\n      icon: 'staking',\r\n      link: '/staking',\r\n      indicator: false,\r\n      disabled: true,\r\n    },\r\n  ];\r\n\r\n  private destroy$ = new Subject<void>();\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private store: Store,\r\n    private dialog: Dialog,\r\n    private walletsService: WalletsService\r\n  ) {\r\n    if (\r\n      !this.variablesService.currentWallet &&\r\n      this.variablesService.wallets.length > 0\r\n    ) {\r\n      this.variablesService.setCurrentWallet(0);\r\n    }\r\n    this.walletLoaded = this.variablesService.currentWallet.loaded;\r\n  }\r\n\r\n  @HostListener('document:keydown.shift', ['$event.key'])\r\n  onKeyPressed(): void {\r\n    if (!this.openDropdown) {\r\n      this.walletSyncVisible = true;\r\n    }\r\n  }\r\n\r\n  @HostListener('document:keyup.shift', ['$event.key'])\r\n  onKeyUpPressed(): void {\r\n    if (!this.openDropdown) {\r\n      this.walletSyncVisible = false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.settingsButtonInterval = setInterval(() => {\r\n      // tslint:disable-next-line:triple-equals\r\n      if (this.variablesService.daemon_state == 2 || this.walletLoaded) {\r\n        this.settingsButtonDisabled = false;\r\n        clearInterval(this.settingsButtonInterval);\r\n      }\r\n    }, 1000);\r\n    this.store\r\n      .select(StateKeys.sync)\r\n      .pipe(filter(Boolean), distinctUntilChanged(), takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (value: any) => {\r\n          const data = value.filter(\r\n            (item: Sync) =>\r\n              item.wallet_id === this.variablesService.currentWallet.wallet_id\r\n          )[0];\r\n          if (data && !data.sync) {\r\n            let in_progress;\r\n            const values = this.store.state.sync;\r\n            if (values && values.length > 0) {\r\n              in_progress = values.filter(item => item.sync);\r\n              this.variablesService.sync_started = !!(\r\n                in_progress && in_progress.length\r\n              );\r\n              if (!in_progress) {\r\n                this.variablesService.sync_started = false;\r\n              }\r\n            } else {\r\n              this.variablesService.sync_started = false;\r\n            }\r\n          }\r\n        },\r\n      });\r\n    if (hasOwnProperty(this.variablesService.currentWallet.alias, 'name')) {\r\n      this.variablesService.currentWallet.wakeAlias = false;\r\n    }\r\n    this.variablesService.getAliasChangedEvent\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: () => {\r\n          if (\r\n            hasOwnProperty(this.variablesService.currentWallet.alias, 'name')\r\n          ) {\r\n            this.variablesService.currentWallet.wakeAlias = false;\r\n          }\r\n        },\r\n      });\r\n    this.updateWalletStatus();\r\n    this.variablesService.getWalletChangedEvent\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: () => {\r\n          this.setTabsDisabled(!this.variablesService.currentWallet.balances);\r\n        },\r\n      });\r\n  }\r\n\r\n  toggleMenuDropdown(): void {\r\n    if (!this.openDropdown) {\r\n      this.openDropdown = true;\r\n    } else {\r\n      this.openDropdown = false;\r\n      this.walletSyncVisible = false;\r\n    }\r\n  }\r\n\r\n  resyncCurrentWallet(id): void {\r\n    this.backend.resyncWallet(id);\r\n  }\r\n\r\n  beforeClose(wallet_id): void {\r\n    const dialogConfig: DialogConfig<ConfirmModalData> = {\r\n      data: {\r\n        title: 'WALLET.CONFIRM.MESSAGE',\r\n        message: 'WALLET.CONFIRM.TITLE',\r\n      },\r\n    };\r\n\r\n    this.dialog\r\n      .open<boolean>(ConfirmModalComponent, dialogConfig)\r\n      .closed.pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: confirmed => confirmed && this.closeWallet(wallet_id),\r\n      });\r\n  }\r\n\r\n  addCustomToken(): void {\r\n    this.dialog\r\n      .open<Asset | undefined>(AddCustomTokenComponent)\r\n      .closed.pipe(\r\n        filter(response_data => Boolean(response_data)),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe({\r\n        next: asset => {\r\n          const dialogConfig: DialogConfig = {\r\n            data: {\r\n              asset,\r\n              title: 'You added new asset',\r\n            },\r\n          };\r\n          this.ngZone.run(() => {\r\n            this.dialog.open(AssetDetailsComponent, dialogConfig);\r\n          });\r\n        },\r\n      });\r\n  }\r\n\r\n  exportHistory(): void {\r\n    this.dialog.open(ExportHistoryModalComponent);\r\n  }\r\n\r\n  closeWallet(wallet_id): void {\r\n    this.walletsService.closeWallet(wallet_id);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  updateWalletStatus(): void {\r\n    this.backend.eventSubscribe(Commands.wallet_sync_progress, data => {\r\n      const wallet_id = data.wallet_id;\r\n      if (wallet_id === this.variablesService.currentWallet.wallet_id) {\r\n        this.ngZone.run(() => {\r\n          this.walletLoaded = false;\r\n        });\r\n      }\r\n    });\r\n    this.backend.eventSubscribe(Commands.update_wallet_status, data => {\r\n      const wallet_state = data.wallet_state;\r\n      const wallet_id = data.wallet_id;\r\n      this.ngZone.run(() => {\r\n        if (\r\n          wallet_state === 2 &&\r\n          wallet_id === this.variablesService.currentWallet.wallet_id\r\n        ) {\r\n          this.walletLoaded =\r\n            this.variablesService.getWallet(\r\n              this.variablesService.currentWallet.wallet_id\r\n            )?.loaded || false;\r\n          if (this.walletLoaded) {\r\n            this.setTabsDisabled(!this.variablesService.currentWallet.balances);\r\n          }\r\n        } else {\r\n          this.walletLoaded = false;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  setTabsDisabled(disabled: boolean): void {\r\n    this.tabs[2].disabled = disabled;\r\n    this.tabs[4].disabled = disabled;\r\n    this.tabs[5].disabled = disabled;\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Input,\r\n  Output,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-checkbox',\r\n  template: `\r\n    <div class=\"checkbox\">\r\n      <input\r\n        (change)=\"handlerChange($event)\"\r\n        [checked]=\"value\"\r\n        [disabled]=\"disabled\"\r\n        [id]=\"id\"\r\n        [readonly]=\"readonly\"\r\n        type=\"checkbox\"\r\n      />\r\n      <label [for]=\"id\">{{ label }}</label>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        display: inline-flex;\r\n      }\r\n    `,\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => CheckboxComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n})\r\nexport class CheckboxComponent implements ControlValueAccessor {\r\n  @Input() value = false;\r\n\r\n  @Input() label = '';\r\n\r\n  @Input() id = 'id-' + Math.random();\r\n\r\n  @Input() disabled = false;\r\n\r\n  @Input() readonly = false;\r\n\r\n  @Output() emitChange = new EventEmitter<boolean>();\r\n\r\n  onChange!: (value: boolean) => void;\r\n\r\n  onTouched!: () => void;\r\n\r\n  handlerChange({ target }: Event): void {\r\n    const { checked } = target as HTMLInputElement;\r\n    this.value = checked;\r\n    this.emitChange.emit(checked);\r\n    if (this.onChange) {\r\n      this.onChange(checked);\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  writeValue(value: boolean): void {\r\n    this.value = value;\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-copy-button',\r\n  template: `\r\n    <button (click)=\"copy()\" [classList]=\"'btn-icon circle' + ' ' + size\">\r\n      <i\r\n        [class.check]=\"copyAnimation\"\r\n        [class.copy]=\"!copyAnimation\"\r\n        class=\"icon small\"\r\n      ></i>\r\n    </button>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n})\r\nexport class CopyButtonComponent {\r\n  @Input() value: string;\r\n\r\n  @Input() size: 'small' | 'big' = 'small';\r\n\r\n  copyAnimation = false;\r\n\r\n  copyAnimationTimeout;\r\n\r\n  constructor(\r\n    private backend: BackendService,\r\n    public variablesService: VariablesService\r\n  ) {}\r\n\r\n  copy(): void {\r\n    this.backend.setClipboard(this.value || '');\r\n    this.copyAnimation = true;\r\n    this.copyAnimationTimeout = window.setTimeout(() => {\r\n      this.copyAnimation = false;\r\n      clearTimeout(this.copyAnimationTimeout);\r\n    }, 2000);\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport {\r\n  ContextMenuComponent,\r\n  ContextMenuModule,\r\n  ContextMenuService,\r\n} from '@perfectmemory/ngx-contextmenu';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-register-context-templates',\r\n  template: ` <context-menu #allContextMenu>\r\n      <ng-template (execute)=\"contextMenuCopy($event.value)\" contextMenuItem>{{\r\n        'CONTEXT_MENU.COPY' | translate\r\n      }}</ng-template>\r\n      <ng-template (execute)=\"contextMenuPaste($event.value)\" contextMenuItem>{{\r\n        'CONTEXT_MENU.PASTE' | translate\r\n      }}</ng-template>\r\n      <ng-template\r\n        (execute)=\"contextMenuSelect($event.value)\"\r\n        contextMenuItem\r\n        >{{ 'CONTEXT_MENU.SELECT' | translate }}</ng-template\r\n      >\r\n    </context-menu>\r\n    <context-menu #onlyCopyContextMenu>\r\n      <ng-template\r\n        (execute)=\"contextMenuOnlyCopy($event.value)\"\r\n        contextMenuItem\r\n        >{{ 'CONTEXT_MENU.COPY' | translate }}</ng-template\r\n      >\r\n    </context-menu>\r\n\r\n    <context-menu #pasteSelectContextMenu>\r\n      <ng-template (execute)=\"contextMenuPaste($event.value)\" contextMenuItem>{{\r\n        'CONTEXT_MENU.PASTE' | translate\r\n      }}</ng-template>\r\n      <ng-template\r\n        (execute)=\"contextMenuSelect($event.value)\"\r\n        contextMenuItem\r\n        >{{ 'CONTEXT_MENU.SELECT' | translate }}</ng-template\r\n      >\r\n    </context-menu>`,\r\n  standalone: true,\r\n  imports: [CommonModule, ContextMenuModule, TranslateModule],\r\n  providers: [ContextMenuService],\r\n})\r\nexport class RegisterContextTemplatesComponent implements OnInit {\r\n  @ViewChild('allContextMenu', { static: true })\r\n  public allContextMenu: ContextMenuComponent<any>;\r\n\r\n  @ViewChild('onlyCopyContextMenu', { static: true })\r\n  public onlyCopyContextMenu: ContextMenuComponent<any>;\r\n\r\n  @ViewChild('pasteSelectContextMenu', { static: true })\r\n  public pasteSelectContextMenu: ContextMenuComponent<any>;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backendService: BackendService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.variablesService.allContextMenu = this.allContextMenu;\r\n    this.variablesService.onlyCopyContextMenu = this.onlyCopyContextMenu;\r\n    this.variablesService.pasteSelectContextMenu = this.pasteSelectContextMenu;\r\n  }\r\n\r\n  contextMenuCopy(target): void {\r\n    if (\r\n      target &&\r\n      (target['nodeName'].toUpperCase() === 'TEXTAREA' ||\r\n        target['nodeName'].toUpperCase() === 'INPUT')\r\n    ) {\r\n      const start = target['contextSelectionStart']\r\n        ? 'contextSelectionStart'\r\n        : 'selectionStart';\r\n      const end = target['contextSelectionEnd']\r\n        ? 'contextSelectionEnd'\r\n        : 'selectionEnd';\r\n      const canUseSelection = target[start] || target[start] === '0';\r\n      const SelectedText = canUseSelection\r\n        ? target['value'].substring(target[start], target[end])\r\n        : target['value'];\r\n      this.backendService.setClipboard(String(SelectedText));\r\n    }\r\n  }\r\n\r\n  contextMenuOnlyCopy(text): void {\r\n    if (text) {\r\n      this.backendService.setClipboard(String(text));\r\n    }\r\n  }\r\n\r\n  contextMenuPaste(target): void {\r\n    if (\r\n      target &&\r\n      (target['nodeName'].toUpperCase() === 'TEXTAREA' ||\r\n        target['nodeName'].toUpperCase() === 'INPUT')\r\n    ) {\r\n      this.backendService.getClipboard((status, clipboard) => {\r\n        clipboard = String(clipboard);\r\n        if (typeof clipboard !== 'string' || clipboard.length) {\r\n          const start = target['contextSelectionStart']\r\n            ? 'contextSelectionStart'\r\n            : 'selectionStart';\r\n          const end = target['contextSelectionEnd']\r\n            ? 'contextSelectionEnd'\r\n            : 'selectionEnd';\r\n          const _pre = target['value'].substring(0, target[start]);\r\n          const _aft = target['value'].substring(\r\n            target[end],\r\n            target['value'].length\r\n          );\r\n          let text = _pre + clipboard + _aft;\r\n          const cursorPosition = (_pre + clipboard).length;\r\n          if (target['maxLength'] && parseInt(target['maxLength'], 10) > 0) {\r\n            text = text.substr(0, parseInt(target['maxLength'], 10));\r\n          }\r\n          target['value'] = text;\r\n          target.setSelectionRange(cursorPosition, cursorPosition);\r\n          target.dispatchEvent(new Event('input'));\r\n          target['focus']();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  contextMenuSelect(target): void {\r\n    if (\r\n      target &&\r\n      (target['nodeName'].toUpperCase() === 'TEXTAREA' ||\r\n        target['nodeName'].toUpperCase() === 'INPUT')\r\n    ) {\r\n      target['focus']();\r\n      setTimeout(() => {\r\n        target['select']();\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-staking-switch',\r\n  template: `\r\n    <div\r\n      (click)=\"toggleStaking(); $event.stopPropagation()\"\r\n      [class.off]=\"!staking\"\r\n      [class.on]=\"staking\"\r\n      class=\"switch\"\r\n    >\r\n      <span class=\"circle\"></span>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n})\r\nexport class StakingSwitchComponent {\r\n  @Input() wallet_id: number;\r\n\r\n  @Input() staking: boolean;\r\n\r\n  @Output() stakingChange = new EventEmitter<boolean>();\r\n\r\n  constructor(\r\n    private backendService: BackendService,\r\n    private variablesService: VariablesService\r\n  ) {}\r\n\r\n  toggleStaking(): void {\r\n    const wallet = this.variablesService.getWallet(this.wallet_id);\r\n    if (wallet && wallet.loaded) {\r\n      this.stakingChange.emit(!this.staking);\r\n      if (!this.staking) {\r\n        this.backendService.startPosMining(this.wallet_id);\r\n      } else {\r\n        this.backendService.stopPosMining(this.wallet_id);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Input,\r\n  Output,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-switch',\r\n  template: `\r\n    <div\r\n      (click)=\"toggle(); $event.stopPropagation()\"\r\n      [class.disabled]=\"disabled\"\r\n      [class.off]=\"!value\"\r\n      [class.on]=\"value\"\r\n      class=\"switch\"\r\n    >\r\n      <span class=\"circle\"></span>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        display: inline-flex;\r\n      }\r\n    `,\r\n  ],\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => SwitchComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class SwitchComponent implements ControlValueAccessor {\r\n  @Input() value = false;\r\n\r\n  @Input() disabled = false;\r\n\r\n  @Output() emitChange = new EventEmitter<boolean>();\r\n\r\n  onTouched!: () => void;\r\n\r\n  onChange!: (value: boolean) => void;\r\n\r\n  toggle(): void {\r\n    if (!this.disabled) {\r\n      this.value = !this.value;\r\n      this.emitChange.emit(this.value);\r\n      if (this.onChange) {\r\n        this.onChange(this.value);\r\n      }\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  writeValue(value: boolean): void {\r\n    this.value = value;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { DOWNLOADS_PAGE_URL } from '@parts/data/constants';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { TooltipModule } from '@parts/directives';\r\n\r\n@Component({\r\n  selector: 'app-synchronization-status',\r\n  template: `\r\n    <div\r\n      [ngStyle]=\"{\r\n        'align-items':\r\n          variablesService.daemon_state === 1 ||\r\n          variablesService.daemon_state === 6\r\n            ? 'flex-start'\r\n            : 'center'\r\n      }\"\r\n      class=\"synchronization-status overflow-hidden\"\r\n    >\r\n      <div class=\"status-container\">\r\n        <div *ngIf=\"variablesService.daemon_state === 0\" class=\"offline\">\r\n          <span>{{ 'SIDEBAR.SYNCHRONIZATION.OFFLINE' | translate }}</span>\r\n        </div>\r\n        <div\r\n          *ngIf=\"variablesService.daemon_state === 1\"\r\n          class=\"syncing text-ellipsis\"\r\n        >\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.SYNCING' | translate }}\r\n          {{ variablesService.sync.progress_value_text }}%\r\n        </div>\r\n        <div *ngIf=\"variablesService.daemon_state === 2\" class=\"online\">\r\n          <span>{{ 'SIDEBAR.SYNCHRONIZATION.ONLINE' | translate }}</span>\r\n        </div>\r\n        <div *ngIf=\"variablesService.daemon_state === 3\" class=\"loading\">\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.LOADING' | translate }}\r\n        </div>\r\n        <div *ngIf=\"variablesService.daemon_state === 4\" class=\"offline\">\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.ERROR' | translate }}\r\n        </div>\r\n        <div *ngIf=\"variablesService.daemon_state === 5\" class=\"online\">\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.COMPLETE' | translate }}\r\n        </div>\r\n        <div\r\n          *ngIf=\"variablesService.daemon_state === 6\"\r\n          class=\"syncing text-ellipsis\"\r\n        >\r\n          {{ 'SIDEBAR.SYNCHRONIZATION.DOWNLOADING' | translate }}\r\n          {{ variablesService.download.progress_value_text }}%\r\n        </div>\r\n\r\n        <div\r\n          *ngIf=\"\r\n            variablesService.daemon_state === 1 ||\r\n            variablesService.daemon_state === 3\r\n          \"\r\n          class=\"progress-bar-container\"\r\n        >\r\n          <div *ngIf=\"variablesService.daemon_state === 1\" class=\"syncing\">\r\n            <div class=\"progress-bar\">\r\n              <div\r\n                [style.width]=\"variablesService.sync.progress_value + '%'\"\r\n                class=\"fill\"\r\n              ></div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            *ngIf=\"variablesService.daemon_state === 3\"\r\n            class=\"loading\"\r\n          ></div>\r\n        </div>\r\n\r\n        <div\r\n          *ngIf=\"variablesService.daemon_state === 6\"\r\n          class=\"progress-bar-container\"\r\n        >\r\n          <div\r\n            *ngIf=\"variablesService.daemon_state === 6\"\r\n            class=\"syncing downloading\"\r\n          >\r\n            <div class=\"progress-bar\">\r\n              <div\r\n                [style.width]=\"variablesService.download.progress_value + '%'\"\r\n                class=\"fill\"\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        *ngIf=\"\r\n          (variablesService.daemon_state === 0 ||\r\n            variablesService.daemon_state === 2) &&\r\n          [2, 3, 4].indexOf(variablesService.last_build_displaymode) !== -1\r\n        \"\r\n        class=\"update-container\"\r\n      >\r\n        <ng-container *ngIf=\"variablesService.last_build_displaymode === 2\">\r\n          <div class=\"update-text standard\">\r\n            <span (click)=\"getUpdate()\" [style.cursor]=\"'pointer'\">{{\r\n              'SIDEBAR.UPDATE.STANDARD' | translate\r\n            }}</span>\r\n          </div>\r\n          <i\r\n            [delay]=\"500\"\r\n            class=\"icon update standard\"\r\n            placement=\"right-bottom\"\r\n            tooltip=\"{{ 'SIDEBAR.UPDATE.STANDARD_TOOLTIP' | translate }}\"\r\n            tooltipClass=\"update-tooltip\"\r\n          ></i>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"variablesService.last_build_displaymode === 3\">\r\n          <div class=\"update-text important\">\r\n            <span (click)=\"getUpdate()\" [style.cursor]=\"'pointer'\">{{\r\n              'SIDEBAR.UPDATE.IMPORTANT' | translate\r\n            }}</span>\r\n            <span style=\"font-size: 1rem\">{{\r\n              'SIDEBAR.UPDATE.IMPORTANT_HINT' | translate\r\n            }}</span>\r\n          </div>\r\n          <i\r\n            [delay]=\"500\"\r\n            class=\"icon update important\"\r\n            placement=\"right-bottom\"\r\n            tooltip=\"{{ 'SIDEBAR.UPDATE.IMPORTANT_TOOLTIP' | translate }}\"\r\n            tooltipClass=\"update-tooltip important\"\r\n          ></i>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"variablesService.last_build_displaymode === 4\">\r\n          <div class=\"update-text critical\">\r\n            <span (click)=\"getUpdate()\" [style.cursor]=\"'pointer'\">{{\r\n              'SIDEBAR.UPDATE.CRITICAL' | translate\r\n            }}</span>\r\n            <span style=\"font-size: 1rem\">{{\r\n              'SIDEBAR.UPDATE.IMPORTANT_HINT' | translate\r\n            }}</span>\r\n          </div>\r\n          <i\r\n            [delay]=\"500\"\r\n            class=\"icon update critical\"\r\n            placement=\"right-bottom\"\r\n            tooltip=\"{{ 'SIDEBAR.UPDATE.CRITICAL_TOOLTIP' | translate }}\"\r\n            tooltipClass=\"update-tooltip critical\"\r\n          ></i>\r\n        </ng-container>\r\n      </div>\r\n\r\n      <div\r\n        *ngIf=\"\r\n          variablesService.daemon_state === 2 &&\r\n          variablesService.net_time_delta_median !== 0\r\n        \"\r\n        class=\"update-container\"\r\n      >\r\n        <div class=\"update-text time-orange\">\r\n          <span>{{ 'SIDEBAR.UPDATE.TIME' | translate }}</span>\r\n        </div>\r\n        <i\r\n          [delay]=\"500\"\r\n          class=\"icon time-orange\"\r\n          placement=\"right-bottom\"\r\n          tooltip=\"{{ 'SIDEBAR.UPDATE.TIME_TOOLTIP' | translate }}\"\r\n          tooltipClass=\"update-tooltip important\"\r\n        ></i>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n  standalone: true,\r\n  imports: [CommonModule, TranslateModule, TooltipModule],\r\n})\r\nexport class SynchronizationStatusComponent {\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backend: BackendService\r\n  ) {}\r\n\r\n  getUpdate(): void {\r\n    this.backend.openUrlInBrowser(DOWNLOADS_PAGE_URL);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { Transaction } from '@api/models/transaction.model';\r\nimport { VariablesService } from '../services/variables.service';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { IntToMoneyPipe } from '@parts/pipes';\r\nimport {\r\n  BLOCK_EXPLORER_TN_TX_URL_PREFIX,\r\n  BLOCK_EXPLORER_TX_URL_PREFIX,\r\n} from '../data/constants';\r\nimport { hasOwnProperty } from '../functions/hasOwnProperty';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexModule } from '@angular/flex-layout';\r\nimport { TooltipModule } from '@parts/directives';\r\n\r\n@Component({\r\n  selector: 'app-transaction-details',\r\n  template: `\r\n    <div class=\"table py-1\" fxLayout=\"column\">\r\n      <div class=\"row\" fxFlex=\"100\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <span\r\n          [style.flex-basis]=\"sizes[0] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{ 'HISTORY.DETAILS.ID' | translate }}</span\r\n        >\r\n        <span\r\n          (click)=\"openInBrowser(transaction.tx_hash)\"\r\n          (contextmenu)=\"\r\n            variablesService.onContextMenuOnlyCopy($event, transaction.tx_hash)\r\n          \"\r\n          [style.flex-basis]=\"sizes[1] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis color-primary cursor-pointer\"\r\n          >{{ transaction.tx_hash }}</span\r\n        >\r\n        <span\r\n          [style.flex-basis]=\"sizes[2] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{ 'HISTORY.DETAILS.SIZE' | translate }}</span\r\n        >\r\n        <span\r\n          [style.flex-basis]=\"sizes[3] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{\r\n            'HISTORY.DETAILS.SIZE_VALUE'\r\n              | translate : { value: transaction.tx_blob_size }\r\n          }}</span\r\n        >\r\n      </div>\r\n      <div class=\"row\" fxFlex=\"100\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <span\r\n          [style.flex-basis]=\"sizes[0] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{ 'HISTORY.DETAILS.HEIGHT' | translate }}</span\r\n        >\r\n        <span\r\n          [style.flex-basis]=\"sizes[1] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{ transaction.height }}</span\r\n        >\r\n        <span\r\n          [style.flex-basis]=\"sizes[2] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{ 'HISTORY.DETAILS.CONFIRMATION' | translate }}</span\r\n        >\r\n        <span\r\n          [style.flex-basis]=\"sizes[3] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{\r\n            transaction.height === 0\r\n              ? 0\r\n              : variablesService.height_app - transaction.height\r\n          }}</span\r\n        >\r\n      </div>\r\n      <div class=\"row\" fxFlex=\"100\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <span\r\n          [style.flex-basis]=\"sizes[0] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{ 'HISTORY.DETAILS.INPUTS' | translate }}</span\r\n        >\r\n        <span\r\n          [delay]=\"500\"\r\n          [showWhenNoOverflow]=\"false\"\r\n          [style.flex-basis]=\"sizes[1] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          placement=\"top\"\r\n          tooltip=\"{{ inputs.join(', ') }}\"\r\n          tooltipClass=\"table-tooltip table-tooltip-dimensions\"\r\n          >{{ inputs.join(', ') }}</span\r\n        >\r\n        <span\r\n          [style.flex-basis]=\"sizes[2] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{ 'HISTORY.DETAILS.OUTPUTS' | translate }}</span\r\n        >\r\n        <span\r\n          [delay]=\"500\"\r\n          [showWhenNoOverflow]=\"false\"\r\n          [style.flex-basis]=\"sizes[3] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          placement=\"top\"\r\n          tooltip=\"{{ outputs.join(', ') }}\"\r\n          tooltipClass=\"table-tooltip table-tooltip-dimensions\"\r\n          >{{ outputs.join(', ') }}</span\r\n        >\r\n      </div>\r\n      <div class=\"row\" fxFlex=\"100\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <span\r\n          [style.flex-basis]=\"sizes[0] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{ 'HISTORY.DETAILS.PAYMENT_ID' | translate }}</span\r\n        >\r\n        <span\r\n          [delay]=\"500\"\r\n          [showWhenNoOverflow]=\"false\"\r\n          [style.flex-basis]=\"sizes[1] + sizes[2] + sizes[3] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          placement=\"top\"\r\n          tooltip=\"{{ transaction.payment_id }}\"\r\n          tooltipClass=\"table-tooltip comment-tooltip\"\r\n        >\r\n          {{ transaction.payment_id }}\r\n        </span>\r\n      </div>\r\n      <div class=\"row\" fxFlex=\"100\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <span\r\n          [style.flex-basis]=\"sizes[0] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          >{{ 'HISTORY.DETAILS.COMMENT' | translate }}</span\r\n        >\r\n        <span\r\n          (contextmenu)=\"\r\n            variablesService.onContextMenuOnlyCopy($event, transaction.comment)\r\n          \"\r\n          [delay]=\"500\"\r\n          [showWhenNoOverflow]=\"false\"\r\n          [style.flex-basis]=\"sizes[1] + sizes[2] + sizes[3] + 'px'\"\r\n          class=\"cell px-2 py-1 text-ellipsis\"\r\n          placement=\"top\"\r\n          tooltip=\"{{ transaction.comment }}\"\r\n          tooltipClass=\"table-tooltip comment-tooltip\"\r\n        >\r\n          {{ transaction.comment }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        width: 100%;\r\n      }\r\n    `,\r\n  ],\r\n  standalone: true,\r\n  imports: [CommonModule, TranslateModule, FlexModule, TooltipModule],\r\n})\r\nexport class TransactionDetailsComponent implements OnInit {\r\n  @Input() transaction: Transaction;\r\n\r\n  @Input() sizes: Array<number>;\r\n\r\n  inputs: Array<string> = [];\r\n\r\n  outputs: Array<string> = [];\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private backendService: BackendService,\r\n    private intToMoneyPipe: IntToMoneyPipe\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    for (const input in this.transaction.td['spn']) {\r\n      if (hasOwnProperty(this.transaction.td['spn'], input)) {\r\n        this.inputs.push(\r\n          this.intToMoneyPipe.transform(this.transaction.td['spn'][input])\r\n        );\r\n      }\r\n    }\r\n    for (const output in this.transaction.td['rcv']) {\r\n      if (hasOwnProperty(this.transaction.td['rcv'], output)) {\r\n        this.outputs.push(\r\n          this.intToMoneyPipe.transform(this.transaction.td['rcv'][output])\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  openInBrowser(tr): void {\r\n    this.backendService.openUrlInBrowser(\r\n      (this.variablesService.testnet\r\n        ? BLOCK_EXPLORER_TN_TX_URL_PREFIX\r\n        : BLOCK_EXPLORER_TX_URL_PREFIX) + tr\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  HostBinding,\r\n  inject,\r\n  Input,\r\n  Output,\r\n} from '@angular/core';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { Asset, Assets } from '@api/models/assets.model';\r\nimport { BigNumber } from 'bignumber.js';\r\nimport { LOCKED_BALANCE_HELP_PAGE } from '@parts/data/constants';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { IntToMoneyPipe, IntToMoneyPipeModule } from '@parts/pipes';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DisablePriceFetchModule, TooltipModule } from '@parts/directives';\r\nimport { StakingSwitchComponent } from '@parts/components/staking-switch.component';\r\n\r\n@Component({\r\n  selector: 'app-wallet-card',\r\n  template: `\r\n    <div class=\"content\">\r\n      <div class=\"header\">\r\n        <div class=\"left\">\r\n          <div class=\"name text-ellipsis\">\r\n            <span *ngIf=\"wallet.new_contracts\" class=\"indicator\">\r\n              {{ wallet.new_contracts }}\r\n            </span>\r\n\r\n            <span\r\n              [delay]=\"500\"\r\n              [showWhenNoOverflow]=\"false\"\r\n              class=\"name\"\r\n              placement=\"top-left\"\r\n              tooltip=\"{{ wallet.name }}\"\r\n              tooltipClass=\"table-tooltip account-tooltip\"\r\n            >\r\n              {{ !wallet.alias['name'] ? wallet.name : wallet.alias['name'] }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"right\">\r\n          <button\r\n            (click)=\"eventClose.emit(wallet.wallet_id)\"\r\n            [delay]=\"500\"\r\n            [timeDelay]=\"500\"\r\n            placement=\"top\"\r\n            tooltip=\"{{ 'WALLET.TOOLTIPS.CLOSE' | translate }}\"\r\n            tooltipClass=\"table-tooltip account-tooltip\"\r\n            type=\"button\"\r\n          >\r\n            <i class=\"icon close\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <h4\r\n        *appDisablePriceFetch\r\n        [delay]=\"500\"\r\n        [placement]=\"'bottom'\"\r\n        [timeDelay]=\"1000\"\r\n        [tooltipClass]=\"'balance-tooltip'\"\r\n        [tooltip]=\"getBalancesTooltip()\"\r\n        class=\"price\"\r\n      >\r\n        {{\r\n          wallet.getMoneyEquivalentForZano(variablesService.moneyEquivalent)\r\n            | intToMoney\r\n            | currency : 'USD' || '---'\r\n        }}\r\n        <span\r\n          [class.red]=\"variablesService.moneyEquivalentPercent < 0\"\r\n          class=\"percent\"\r\n        >\r\n          {{ variablesService.moneyEquivalentPercent | number : '1.2-2' }}%\r\n        </span>\r\n      </h4>\r\n\r\n      <ng-container\r\n        *ngIf=\"\r\n          (!wallet.is_auditable && !wallet.is_watch_only) ||\r\n          (wallet.is_auditable && !wallet.is_watch_only)\r\n        \"\r\n      >\r\n        <div\r\n          *ngIf=\"!(!wallet.loaded && variablesService.daemon_state === 2)\"\r\n          class=\"staking\"\r\n        >\r\n          <span class=\"text\">{{ 'SIDEBAR.ACCOUNT.STAKING' | translate }}</span>\r\n          <app-staking-switch\r\n            [(staking)]=\"wallet.staking\"\r\n            [wallet_id]=\"wallet.wallet_id\"\r\n          ></app-staking-switch>\r\n        </div>\r\n      </ng-container>\r\n\r\n      <div\r\n        *ngIf=\"!wallet.loaded && variablesService.daemon_state === 2\"\r\n        class=\"account-synchronization\"\r\n      >\r\n        <div class=\"progress-bar\">\r\n          <div [style.width]=\"wallet.progress + '%'\" class=\"fill\"></div>\r\n        </div>\r\n        <div class=\"progress-percent\">{{ wallet.progress }}%</div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    TooltipModule,\r\n    TranslateModule,\r\n    IntToMoneyPipeModule,\r\n    StakingSwitchComponent,\r\n    DisablePriceFetchModule,\r\n  ],\r\n})\r\nexport class WalletCardComponent {\r\n  @HostBinding('class') classAttr = 'wallet';\r\n\r\n  @Input() wallet: Wallet;\r\n\r\n  @Output() eventClose = new EventEmitter<number>();\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private intToMoneyPipe: IntToMoneyPipe,\r\n    private translate: TranslateService,\r\n    private backend: BackendService\r\n  ) {}\r\n\r\n  getBalancesTooltip(): HTMLDivElement {\r\n    const tooltip = document.createElement('div');\r\n    const scrollWrapper = document.createElement('div');\r\n    if (!this.wallet || !this.wallet.balances) {\r\n      return null;\r\n    }\r\n    const { balances } = this.wallet;\r\n\r\n    scrollWrapper.classList.add('balance-scroll-list');\r\n    balances.forEach(({ unlocked, total, asset_info: { ticker } }: Asset) => {\r\n      const available = document.createElement('span');\r\n      available.setAttribute('class', 'available');\r\n      available.innerHTML = this.translate.instant('WALLET.AVAILABLE_BALANCE', {\r\n        available: this.intToMoneyPipe.transform(unlocked),\r\n        currency: ticker || '---',\r\n      });\r\n      scrollWrapper.appendChild(available);\r\n      const locked = document.createElement('span');\r\n      locked.setAttribute('class', 'locked');\r\n      locked.innerHTML = this.translate.instant('WALLET.LOCKED_BALANCE', {\r\n        locked: this.intToMoneyPipe.transform(\r\n          new BigNumber(total).minus(unlocked)\r\n        ),\r\n        currency: ticker || '---',\r\n      });\r\n      scrollWrapper.appendChild(locked);\r\n    });\r\n    tooltip.appendChild(scrollWrapper);\r\n    const link = document.createElement('span');\r\n    link.setAttribute('class', 'link');\r\n    link.innerHTML = this.translate.instant('WALLET.LOCKED_BALANCE_LINK');\r\n    link.addEventListener('click', () => {\r\n      this.backend.openUrlInBrowser(LOCKED_BALANCE_HELP_PAGE);\r\n    });\r\n    tooltip.appendChild(link);\r\n    return tooltip;\r\n  }\r\n}\r\n","import { WhiteAssetInfo } from '@api/models/assets.model';\r\n\r\nexport const zanoAssetInfo: WhiteAssetInfo = {\r\n  asset_id: '0000000000000000000000000000000000000000000000000000000000000000',\r\n  current_supply: 0,\r\n  decimal_point: 12,\r\n  full_name: 'Zano',\r\n  logo: 'assets/icons/currency-icons/zano.svg',\r\n  meta_info: '',\r\n  owner: '0000000000000000000000000000000000000000000000000000000000000000',\r\n  price_url:\r\n    'https://api.coingecko.com/api/v3/simple/price?ids=zano&vs_currencies=usd&include_24hr_change=true',\r\n  ticker: 'ZANO',\r\n  total_max_supply: 0,\r\n};\r\n","export const MIXIN = 10; // default mixin value\r\nexport const RCV_ADDR_QR_SCALE = 1.5; // scale factor for QR code\r\n\r\nexport const AUDITABLE_WALLET_HELP_PAGE =\r\n  'docs.zano.org/docs/auditable-wallets';\r\nexport const CREATE_NEW_WALLET_HELP_PAGE =\r\n  'docs.zano.org/docs/getting-started-1#section-create-new-wallet';\r\nexport const LOCKED_BALANCE_HELP_PAGE = 'docs.zano.org/docs/locked-balance';\r\nexport const DOWNLOADS_PAGE_URL = 'zano.org/downloads.html';\r\n\r\nexport const BLOCK_EXPLORER_TX_URL_PREFIX = 'explorer.zano.org/transaction/';\r\nexport const BLOCK_EXPLORER_TN_TX_URL_PREFIX =\r\n  'testnet-explorer.zano.org/transaction/';\r\n","import { ScaleItems } from '../../api/models/scale.model';\r\n\r\n/** List of items with supported scale */\r\nexport const scaleItems: ScaleItems = [\r\n  {\r\n    value: '8px',\r\n    name: 'SETTINGS.SCALE.75',\r\n  },\r\n  {\r\n    value: '10px',\r\n    name: 'SETTINGS.SCALE.100',\r\n  },\r\n  {\r\n    value: '12px',\r\n    name: 'SETTINGS.SCALE.125',\r\n  },\r\n  {\r\n    value: '14px',\r\n    name: 'SETTINGS.SCALE.150',\r\n  },\r\n];\r\n","import { Directive, HostListener } from '@angular/core';\r\nimport { NavigationService } from '@parts/services/back.service';\r\n\r\n@Directive({\r\n  selector: '[appBackButton]',\r\n})\r\nexport class BackButtonDirective {\r\n  constructor(private navigationService: NavigationService) {}\r\n\r\n  @HostListener('click')\r\n  onClick(): void {\r\n    this.navigationService.back();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BackButtonDirective } from './back-button.directive';\r\n\r\n@NgModule({\r\n  declarations: [BackButtonDirective],\r\n  exports: [BackButtonDirective],\r\n  imports: [CommonModule],\r\n})\r\nexport class BackButtonModule {}\r\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appDefaultImg]',\r\n})\r\nexport class DefaultImgDirective {\r\n  @Input() defaultImgSrc!: string | null | undefined;\r\n  @Input() defaultImgAlt: string | null | undefined;\r\n\r\n  constructor(private elementRef: ElementRef) {}\r\n\r\n  @HostListener('error')\r\n  handlerOnError(): void {\r\n    const elementImg: HTMLImageElement = <HTMLImageElement>(\r\n      this.elementRef.nativeElement\r\n    );\r\n    elementImg.onerror = null;\r\n    elementImg.src = this.defaultImgSrc || '---';\r\n    elementImg.alt = this.defaultImgAlt || '---';\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DefaultImgDirective } from './default-img.directive';\r\n\r\n@NgModule({\r\n  declarations: [DefaultImgDirective],\r\n  exports: [DefaultImgDirective],\r\n  imports: [CommonModule],\r\n})\r\nexport class DefaultImgModule {}\r\n","export * from './default-img.module';\r\n","import {\r\n  Directive,\r\n  OnDestroy,\r\n  TemplateRef,\r\n  ViewContainerRef,\r\n} from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Directive({\r\n  selector: '[appDisablePriceFetch]',\r\n})\r\nexport class DisablePriceFetchDirective implements OnDestroy {\r\n  private destroy$: Subject<void> = new Subject<void>();\r\n\r\n  constructor(\r\n    private _variablesService: VariablesService,\r\n    private _templateRef: TemplateRef<any>,\r\n    private _viewContainer: ViewContainerRef\r\n  ) {\r\n    this._variablesService.disable_price_fetch$\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe({\r\n        next: (disable_price_fetch: boolean) => {\r\n          return !disable_price_fetch\r\n            ? this._viewContainer.createEmbeddedView(this._templateRef)\r\n            : this._viewContainer.clear();\r\n        },\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DisablePriceFetchDirective } from './disable-price-fetch.directive';\r\n\r\n@NgModule({\r\n  declarations: [DisablePriceFetchDirective],\r\n  imports: [CommonModule],\r\n  exports: [DisablePriceFetchDirective],\r\n})\r\nexport class DisablePriceFetchModule {}\r\n","export * from './disable-price-fetch.directive';\r\nexport * from './disable-price-fetch.module';\r\n","export * from './default-img';\r\nexport * from './disable-price-fetch';\r\nexport * from './input-disable-selection';\r\nexport * from './input-validate';\r\nexport * from './tooltip';\r\n","export * from './input-disable-selection.module';\r\nexport * from './input-disable-selection.directive';\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  // eslint-disable-next-line\r\n  selector: 'input',\r\n})\r\nexport class InputDisableSelectionDirective {\r\n  @HostListener('mousedown', ['$event'])\r\n  handleInput(event: Event): void {\r\n    if ((<HTMLInputElement>event.target).readOnly) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InputDisableSelectionDirective } from '@parts/directives/input-disable-selection/input-disable-selection.directive';\r\n\r\n@NgModule({\r\n  declarations: [InputDisableSelectionDirective],\r\n  exports: [InputDisableSelectionDirective],\r\n  imports: [CommonModule],\r\n})\r\nexport class InputDisableSelectionModule {}\r\n","export * from './input-validate.module';\r\nexport * from './input-validate.directive';\r\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\n\r\n@Directive({\r\n  selector: '[appInputValidate]',\r\n})\r\nexport class InputValidateDirective {\r\n  private type: string;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private variablesService: VariablesService\r\n  ) {}\r\n\r\n  @Input('appInputValidate')\r\n  public set defineInputType(type: string) {\r\n    this.type = type;\r\n  }\r\n\r\n  @HostListener('input', ['$event'])\r\n  handleInput(event: Event): void {\r\n    if (this.type === 'money') {\r\n      this.moneyValidation(event);\r\n    } else if (this.type === 'integer') {\r\n      this.integerValidation(event);\r\n    }\r\n  }\r\n\r\n  private moneyValidation(event: Event): void {\r\n    let currentValue = (<HTMLInputElement>event.target).value;\r\n    const originalValue = currentValue;\r\n    // eslint-disable-next-line\r\n    const OnlyD = /[^\\d\\.]/g;\r\n    const _has_error = currentValue.match(OnlyD);\r\n    if (_has_error && _has_error.length) {\r\n      currentValue = currentValue.replace(',', '.').replace(OnlyD, '');\r\n    }\r\n    const _double_separator = currentValue.match(/\\./g);\r\n    if (_double_separator && _double_separator.length > 1) {\r\n      currentValue = currentValue.substr(0, currentValue.lastIndexOf('.'));\r\n    }\r\n    if (currentValue.indexOf('.') === 0) {\r\n      currentValue = '0' + currentValue;\r\n    }\r\n    const _zero_fill = currentValue.split('.');\r\n    if (_zero_fill[0].length > 7) {\r\n      _zero_fill[0] = _zero_fill[0].substr(0, 7);\r\n    }\r\n\r\n    if (1 in _zero_fill && _zero_fill[1].length) {\r\n      _zero_fill[1] = _zero_fill[1].substr(0, this.variablesService.digits);\r\n    }\r\n    currentValue = _zero_fill.join('.');\r\n    if (currentValue !== originalValue) {\r\n      (<HTMLInputElement>event.target).value = currentValue;\r\n      const cursorPosition = (<HTMLInputElement>event.target).selectionEnd;\r\n      (<HTMLInputElement>event.target).setSelectionRange(\r\n        cursorPosition,\r\n        cursorPosition\r\n      );\r\n      (<HTMLInputElement>event.target).dispatchEvent(new Event('input'));\r\n    }\r\n  }\r\n\r\n  private integerValidation(event: Event): void {\r\n    let currentValue = (<HTMLInputElement>event.target).value;\r\n    const originalValue = currentValue;\r\n    const OnlyD = /\\D/g;\r\n    const _has_error = currentValue.match(OnlyD);\r\n    if (_has_error && _has_error.length) {\r\n      currentValue = currentValue.replace(OnlyD, '');\r\n    }\r\n    if (currentValue !== originalValue) {\r\n      const cursorPosition = (<HTMLInputElement>event.target).selectionEnd;\r\n      (<HTMLInputElement>event.target).value = currentValue;\r\n      (<HTMLInputElement>event.target).setSelectionRange(\r\n        cursorPosition,\r\n        cursorPosition\r\n      );\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InputValidateDirective } from '@parts/directives/input-validate/input-validate.directive';\r\n\r\n@NgModule({\r\n  declarations: [InputValidateDirective],\r\n  exports: [InputValidateDirective],\r\n  imports: [CommonModule],\r\n})\r\nexport class InputValidateModule {}\r\n","export * from './tooltip.directive';\r\nexport * from './tooltip.module';\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  Renderer2,\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n  // eslint-disable-next-line\r\n  selector: '[tooltip]',\r\n})\r\nexport class TooltipDirective implements OnDestroy {\r\n  @HostBinding('style.cursor') cursor;\r\n\r\n  @Input('tooltip') tooltipInner: any;\r\n\r\n  @Input() placement: string;\r\n\r\n  @Input() tooltipClass: string;\r\n\r\n  @Input() timeout = 0;\r\n\r\n  @Input() timeDelay = 0;\r\n\r\n  @Input() delay = 0;\r\n\r\n  @Input() showWhenNoOverflow = true;\r\n\r\n  @Output() eventHide = new EventEmitter<boolean>();\r\n\r\n  tooltip: HTMLElement;\r\n\r\n  removeTooltipTimeout;\r\n\r\n  removeTooltipTimeoutInner;\r\n\r\n  removeTooltipTimeDelay;\r\n\r\n  private enter: (event: MouseEvent) => void;\r\n\r\n  private leave: (event: MouseEvent) => void;\r\n\r\n  constructor(private el: ElementRef, private renderer: Renderer2) {}\r\n\r\n  @HostListener('mouseenter') onMouseEnter(): void {\r\n    if (!this.tooltipInner) {\r\n      return;\r\n    }\r\n    if (\r\n      this.showWhenNoOverflow ||\r\n      (!this.showWhenNoOverflow &&\r\n        this.el.nativeElement.offsetWidth < this.el.nativeElement.scrollWidth)\r\n    ) {\r\n      this.cursor = 'pointer';\r\n      if (!this.tooltip) {\r\n        if (this.timeDelay !== 0) {\r\n          this.removeTooltipTimeDelay = setTimeout(() => {\r\n            this.show();\r\n          }, this.timeDelay);\r\n        } else {\r\n          this.show();\r\n        }\r\n      } else {\r\n        this.cancelHide();\r\n      }\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseleave') onMouseLeave(): void {\r\n    clearTimeout(this.removeTooltipTimeDelay);\r\n    if (this.tooltip) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  show(): void {\r\n    this.create();\r\n    this.placement = this.placement === null ? 'top' : this.placement;\r\n    this.setPosition(this.placement);\r\n  }\r\n\r\n  hide(): void {\r\n    this.removeTooltipTimeout = setTimeout(() => {\r\n      this.renderer.setStyle(this.tooltip, 'opacity', '0');\r\n      this.removeTooltipTimeoutInner = setTimeout(() => {\r\n        this.renderer.removeChild(document.body, this.tooltip);\r\n        this.tooltip.removeEventListener('mouseenter', this.enter);\r\n        this.tooltip.removeEventListener('mouseleave', this.leave);\r\n        this.tooltip = null;\r\n        this.eventHide.emit(true);\r\n      }, this.delay);\r\n    }, this.timeout);\r\n  }\r\n\r\n  cancelHide(): void {\r\n    clearTimeout(this.removeTooltipTimeout);\r\n    clearTimeout(this.removeTooltipTimeoutInner);\r\n    this.renderer.setStyle(this.tooltip, 'opacity', '1');\r\n  }\r\n\r\n  create(): void {\r\n    this.tooltip = this.renderer.createElement('div');\r\n    let innerBlock = this.renderer.createElement('div');\r\n    if (typeof this.tooltipInner === 'string') {\r\n      innerBlock.innerHTML = this.tooltipInner;\r\n    } else {\r\n      if (this.tooltipInner) {\r\n        innerBlock = this.tooltipInner;\r\n      }\r\n    }\r\n    this.renderer.addClass(innerBlock, 'tooltip-inner');\r\n    this.renderer.addClass(innerBlock, 'scrolled-content');\r\n    this.renderer.appendChild(this.tooltip, innerBlock);\r\n    this.renderer.appendChild(document.body, this.tooltip);\r\n\r\n    this.enter = (): void => {\r\n      this.cancelHide();\r\n    };\r\n    this.tooltip.addEventListener('mouseenter', this.enter);\r\n    this.leave = (): void => {\r\n      if (this.tooltip) {\r\n        this.hide();\r\n      }\r\n    };\r\n    this.tooltip.addEventListener('mouseleave', this.leave);\r\n\r\n    this.renderer.setStyle(document.body, 'position', 'relative');\r\n    this.renderer.setStyle(this.tooltip, 'position', 'absolute');\r\n    if (this.tooltipClass !== null) {\r\n      const classes = this.tooltipClass.split(' ');\r\n      for (let i = 0; i < classes.length; i++) {\r\n        this.renderer.addClass(this.tooltip, classes[i]);\r\n      }\r\n    }\r\n    this.renderer.setStyle(this.tooltip, 'opacity', '0');\r\n    this.renderer.setStyle(\r\n      this.tooltip,\r\n      '-webkit-transition',\r\n      `opacity ${this.delay}ms`\r\n    );\r\n    this.renderer.setStyle(\r\n      this.tooltip,\r\n      '-moz-transition',\r\n      `opacity ${this.delay}ms`\r\n    );\r\n    this.renderer.setStyle(\r\n      this.tooltip,\r\n      '-o-transition',\r\n      `opacity ${this.delay}ms`\r\n    );\r\n    this.renderer.setStyle(\r\n      this.tooltip,\r\n      'transition',\r\n      `opacity ${this.delay}ms`\r\n    );\r\n    window.setTimeout(() => {\r\n      return (\r\n        this.tooltip && this.renderer.setStyle(this.tooltip, 'opacity', '1')\r\n      );\r\n    }, 0);\r\n  }\r\n\r\n  setPosition(placement): void {\r\n    const hostPos = this.el.nativeElement.getBoundingClientRect();\r\n    this.renderer.addClass(this.tooltip, 'ng-tooltip-' + placement);\r\n    const topExit =\r\n      hostPos.top -\r\n        this.tooltip.getBoundingClientRect().height -\r\n        parseInt(getComputedStyle(this.tooltip).marginTop, 10) <\r\n      0;\r\n    const bottomExit =\r\n      window.innerHeight <\r\n      hostPos.bottom +\r\n        this.tooltip.getBoundingClientRect().height +\r\n        parseInt(getComputedStyle(this.tooltip).marginTop, 10);\r\n\r\n    switch (placement) {\r\n      case 'top':\r\n        if (topExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('bottom');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(\r\n            this.tooltip,\r\n            'left',\r\n            hostPos.left +\r\n              (hostPos.right - hostPos.left) / 2 -\r\n              this.tooltip.getBoundingClientRect().width / 2 +\r\n              'px'\r\n          );\r\n          this.renderer.setStyle(\r\n            this.tooltip,\r\n            'top',\r\n            hostPos.top - this.tooltip.getBoundingClientRect().height + 'px'\r\n          );\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'top-left':\r\n        if (topExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('bottom-left');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.left + 'px');\r\n          this.renderer.setStyle(\r\n            this.tooltip,\r\n            'top',\r\n            hostPos.top - this.tooltip.getBoundingClientRect().height + 'px'\r\n          );\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'top-right':\r\n        if (topExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('bottom-right');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(\r\n            this.tooltip,\r\n            'left',\r\n            hostPos.right - this.tooltip.offsetWidth + 'px'\r\n          );\r\n          this.renderer.setStyle(\r\n            this.tooltip,\r\n            'top',\r\n            hostPos.top - this.tooltip.getBoundingClientRect().height + 'px'\r\n          );\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'bottom':\r\n        if (bottomExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('top');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.bottom + 'px');\r\n          this.renderer.setStyle(\r\n            this.tooltip,\r\n            'left',\r\n            hostPos.left +\r\n              (hostPos.right - hostPos.left) / 2 -\r\n              this.tooltip.getBoundingClientRect().width / 2 +\r\n              'px'\r\n          );\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'bottom-left':\r\n        if (bottomExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('top-left');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.bottom + 'px');\r\n          this.renderer.setStyle(this.tooltip, 'left', hostPos.left + 'px');\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'bottom-right':\r\n        if (bottomExit) {\r\n          this.renderer.removeClass(this.tooltip, 'ng-tooltip-' + placement);\r\n          this.setPosition('top-right');\r\n          return;\r\n        } else {\r\n          this.renderer.setStyle(this.tooltip, 'top', hostPos.bottom + 'px');\r\n          this.renderer.setStyle(\r\n            this.tooltip,\r\n            'left',\r\n            hostPos.right - this.tooltip.offsetWidth + 'px'\r\n          );\r\n          this.checkSides();\r\n        }\r\n        break;\r\n      case 'left':\r\n        this.renderer.setStyle(\r\n          this.tooltip,\r\n          'left',\r\n          hostPos.left - this.tooltip.getBoundingClientRect().width + 'px'\r\n        );\r\n        this.renderer.setStyle(\r\n          this.tooltip,\r\n          'top',\r\n          hostPos.top +\r\n            (hostPos.bottom - hostPos.top) / 2 -\r\n            this.tooltip.getBoundingClientRect().height / 2 +\r\n            'px'\r\n        );\r\n        break;\r\n      case 'left-top':\r\n        this.renderer.setStyle(this.tooltip, 'top', hostPos.top + 'px');\r\n        this.renderer.setStyle(\r\n          this.tooltip,\r\n          'left',\r\n          hostPos.left - this.tooltip.getBoundingClientRect().width + 'px'\r\n        );\r\n        break;\r\n      case 'left-bottom':\r\n        this.renderer.setStyle(\r\n          this.tooltip,\r\n          'left',\r\n          hostPos.left - this.tooltip.getBoundingClientRect().width + 'px'\r\n        );\r\n        this.renderer.setStyle(\r\n          this.tooltip,\r\n          'top',\r\n          hostPos.bottom - this.tooltip.getBoundingClientRect().height + 'px'\r\n        );\r\n        break;\r\n      case 'right':\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.right + 'px');\r\n        this.renderer.setStyle(\r\n          this.tooltip,\r\n          'top',\r\n          hostPos.top +\r\n            (hostPos.bottom - hostPos.top) / 2 -\r\n            this.tooltip.getBoundingClientRect().height / 2 +\r\n            'px'\r\n        );\r\n        break;\r\n      case 'right-top':\r\n        this.renderer.setStyle(this.tooltip, 'top', hostPos.top + 'px');\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.right + 'px');\r\n        break;\r\n      case 'right-bottom':\r\n        this.renderer.setStyle(this.tooltip, 'left', hostPos.right + 'px');\r\n        this.renderer.setStyle(\r\n          this.tooltip,\r\n          'top',\r\n          hostPos.bottom - this.tooltip.getBoundingClientRect().height + 'px'\r\n        );\r\n        break;\r\n    }\r\n  }\r\n\r\n  checkSides(): void {\r\n    if (this.tooltip.getBoundingClientRect().left < 0) {\r\n      this.renderer.setStyle(this.tooltip, 'left', 0);\r\n    }\r\n    if (this.tooltip.getBoundingClientRect().right > window.innerWidth) {\r\n      this.renderer.setStyle(\r\n        this.tooltip,\r\n        'left',\r\n        window.innerWidth - this.tooltip.getBoundingClientRect().width + 'px'\r\n      );\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    clearTimeout(this.removeTooltipTimeout);\r\n    clearTimeout(this.removeTooltipTimeoutInner);\r\n    clearTimeout(this.removeTooltipTimeDelay);\r\n    if (this.tooltip) {\r\n      this.renderer.removeChild(document.body, this.tooltip);\r\n      this.tooltip = null;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TooltipDirective } from './tooltip.directive';\r\n\r\n@NgModule({\r\n  declarations: [TooltipDirective],\r\n  imports: [CommonModule],\r\n  exports: [TooltipDirective],\r\n})\r\nexport class TooltipModule {}\r\n","export const hasOwnProperty = (obj: object, key: string): boolean => {\r\n  if (Boolean(obj) && Boolean(key)) {\r\n    return Object.prototype.hasOwnProperty.call(obj, key);\r\n  }\r\n  return false;\r\n};\r\n","import { Component, Inject } from '@angular/core';\r\nimport { DialogRef, DIALOG_DATA } from '@angular/cdk/dialog';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { Asset } from '@api/models/assets.model';\r\n\r\n@Component({\r\n  selector: 'app-asset-details',\r\n  template: `\r\n    <div\r\n      class=\"p-2 border-radius-0_8-rem bg-light-blue w-100 max-h-90-vh\"\r\n      fxFlex=\"0 1 54rem\"\r\n    >\r\n      <div class=\"overflow-hidden\" fxFlexFill fxLayout=\"column\">\r\n        <h3 class=\"title mb-2\" fxFlex=\"0 0 auto\">\r\n          {{ title | translate }}\r\n        </h3>\r\n        <ng-container *ngIf=\"asset; else templateEmpty\">\r\n          <div\r\n            class=\"content mb-2 w-100 overflow-x-hidden overflow-y-auto\"\r\n            fxFlex=\"1 1 auto\"\r\n          >\r\n            <div class=\"table-info\">\r\n              <div class=\"row\">\r\n                <div class=\"label max-w-19-rem w-100\">\r\n                  {{ 'ASSETS.MODALS.ASSET_DETAILS.LABELS.NAME' | translate }}\r\n                </div>\r\n                <div class=\"text\">{{ asset.asset_info.full_name }}</div>\r\n              </div>\r\n\r\n              <hr class=\"separator\" />\r\n\r\n              <div class=\"row\">\r\n                <div class=\"label max-w-19-rem w-100\">\r\n                  {{ 'ASSETS.MODALS.ASSET_DETAILS.LABELS.TICKER' | translate }}\r\n                </div>\r\n                <div class=\"text\">{{ asset.asset_info.ticker }}</div>\r\n              </div>\r\n\r\n              <hr class=\"separator\" />\r\n\r\n              <div class=\"row\">\r\n                <div class=\"label max-w-19-rem w-100\">\r\n                  {{ 'ASSETS.MODALS.ASSET_DETAILS.LABELS.ID' | translate }}\r\n                </div>\r\n                <div\r\n                  class=\"text\"\r\n                  (contextmenu)=\"\r\n                    variablesService.onContextMenuOnlyCopy(\r\n                      $event,\r\n                      asset.asset_info.asset_id\r\n                    )\r\n                  \"\r\n                >\r\n                  {{ asset.asset_info.asset_id }}\r\n                </div>\r\n              </div>\r\n\r\n              <hr class=\"separator\" />\r\n\r\n              <div class=\"row\">\r\n                <div class=\"label max-w-19-rem w-100\">\r\n                  {{\r\n                    'ASSETS.MODALS.ASSET_DETAILS.LABELS.CURRENT_SUPPLY'\r\n                      | translate\r\n                  }}\r\n                </div>\r\n                <div class=\"text\">{{ asset.asset_info.current_supply }}</div>\r\n              </div>\r\n\r\n              <hr class=\"separator\" />\r\n\r\n              <div class=\"row\">\r\n                <div class=\"label max-w-19-rem w-100\">\r\n                  {{\r\n                    'ASSETS.MODALS.ASSET_DETAILS.LABELS.MAX_SUPPLE' | translate\r\n                  }}\r\n                </div>\r\n                <div class=\"text\">{{ asset.asset_info.total_max_supply }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n        <ng-template #templateEmpty> No data </ng-template>\r\n        <div\r\n          class=\"controls w-100\"\r\n          fxFlex=\"0 0 auto\"\r\n          fxLayout=\"row nowrap\"\r\n          fxLayoutGap=\"1rem\"\r\n        >\r\n          <button (click)=\"close()\" class=\"outline big w-100\" type=\"button\">\r\n            {{ 'MODALS.OK' | translate }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        max-width: 54rem;\r\n        width: 100vw;\r\n        display: block;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class AssetDetailsComponent {\r\n  title = 'Asset Details';\r\n\r\n  asset!: Asset;\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    private dialogRef: DialogRef,\r\n    @Inject(DIALOG_DATA) { asset, title }: { asset: Asset; title?: string }\r\n  ) {\r\n    this.asset = asset;\r\n\r\n    if (title) {\r\n      this.title = title;\r\n    }\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AssetDetailsComponent } from '@parts/modals/asset-details/asset-details.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [AssetDetailsComponent],\r\n  exports: [AssetDetailsComponent],\r\n  imports: [CommonModule, TranslateModule, FlexModule],\r\n})\r\nexport class AssetDetailsModule {}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  Inject,\r\n  OnInit,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { DIALOG_DATA, DialogRef } from '@angular/cdk/dialog';\r\n\r\nexport interface ConfirmModalData {\r\n  title: string;\r\n  message?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-confirm-modal',\r\n  template: `\r\n    <div\r\n      class=\"modal p-2 border-radius-0_8-rem bg-light-blue w-100 max-h-100\"\r\n      fxLayout=\"column\"\r\n    >\r\n      <button (click)=\"close()\" class=\"close\" type=\"button\">\r\n        <i class=\"icon close\"></i>\r\n      </button>\r\n\r\n      <div\r\n        class=\"content mb-2\"\r\n        fxLayout=\"row\"\r\n        fxLayoutAlign=\"center center\"\r\n        fxLayoutGap=\"1rem\"\r\n      >\r\n        <i class=\"icon modal-info\"></i>\r\n\r\n        <div fxLayout=\"column\" fxLayoutAlign=\"start stretch\">\r\n          <h3 class=\"title\">{{ title | translate }}</h3>\r\n          <p class=\"message\">{{ message | translate }}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"controls\" fxLayout=\"row nowrap\" fxLayoutGap=\"1rem\">\r\n        <button (click)=\"close()\" class=\"outline big w-100\" type=\"button\">\r\n          {{ 'MODALS.CANCEL' | translate }}\r\n        </button>\r\n        <button\r\n          #buttonSubmit\r\n          (click)=\"submit()\"\r\n          class=\"primary big w-100\"\r\n          type=\"button\"\r\n        >\r\n          {{ 'MODALS.OK' | translate }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [\r\n    `\r\n      :host {\r\n        max-width: 54rem;\r\n        width: 100vw;\r\n        display: block;\r\n      }\r\n    `,\r\n  ],\r\n})\r\nexport class ConfirmModalComponent implements OnInit {\r\n  title: string;\r\n\r\n  message: string;\r\n\r\n  @ViewChild('buttonSubmit', { static: true }) buttonSubmit: ElementRef;\r\n\r\n  constructor(\r\n    private dialogRef: DialogRef,\r\n    @Inject(DIALOG_DATA) { title, message }: ConfirmModalData\r\n  ) {\r\n    this.title = title;\r\n    this.message = message;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.buttonSubmit.nativeElement.focus();\r\n  }\r\n\r\n  submit(): void {\r\n    this.dialogRef.close(true);\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close(false);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ConfirmModalComponent } from './confirm-modal.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [ConfirmModalComponent],\r\n  imports: [CommonModule, TranslateModule, FlexLayoutModule],\r\n  exports: [ConfirmModalComponent],\r\n})\r\nexport class ConfirmModalModule {}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-modal-container',\r\n  template: `\r\n    <div\r\n      class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-34-rem w-100 max-h-100\"\r\n    >\r\n      <button (click)=\"onClose()\" class=\"close\" type=\"button\">\r\n        <i class=\"icon close\"></i>\r\n      </button>\r\n\r\n      <div class=\"content mb-2\" fxLayout=\"row\" fxLayoutAlign=\"start center\">\r\n        <i\r\n          [class.error]=\"type === 'error'\"\r\n          [class.info]=\"type === 'info'\"\r\n          [class.success]=\"type === 'success'\"\r\n          class=\"icon min-width-4_4-rem min-height-4_4-rem mr-1\"\r\n          fxFlex=\"0 0 auto\"\r\n        ></i>\r\n        <div class=\"message-container\">\r\n          <h3 class=\"title\">{{ title }}</h3>\r\n          <p [innerHTML]=\"message\" class=\"message\"></p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"controls\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n        <button\r\n          #btn\r\n          (click)=\"onClose()\"\r\n          class=\"primary max-w-19-rem w-100 big\"\r\n          type=\"button\"\r\n        >\r\n          {{ 'MODALS.OK' | translate }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n})\r\nexport class ModalContainerComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  public title: string;\r\n\r\n  @Input() type: string;\r\n\r\n  @Input() message: string;\r\n\r\n  @Output() eventClose = new EventEmitter<void>();\r\n\r\n  @ViewChild('btn', { static: true }) button: ElementRef;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private renderer: Renderer2\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    this.button.nativeElement.focus();\r\n    switch (this.type) {\r\n      case 'error':\r\n        this.title = this.translate.instant('MODALS.ERROR');\r\n        break;\r\n      case 'success':\r\n        this.title = this.translate.instant('MODALS.SUCCESS');\r\n        break;\r\n      case 'info':\r\n        this.title = this.translate.instant('MODALS.INFO');\r\n        break;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  onClose(): void {\r\n    this.eventClose.emit();\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  HostBinding,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n} from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ModalService } from '../../services/modal.service';\r\nimport { hasOwnProperty } from '../../functions/hasOwnProperty';\r\nimport { WalletsService } from '@parts/services/wallets.service';\r\n\r\n@Component({\r\n  selector: 'app-open-wallet-modal',\r\n  template: `\r\n    <div\r\n      class=\"modal p-2 border-radius-0_8-rem bg-light-blue max-w-34-rem max-h-100 w-100 scrolled-content\"\r\n    >\r\n      <div class=\"wrapper w-100\">\r\n        <h3 class=\"mb-2\">{{ 'OPEN_WALLET.MODAL.TITLE' | translate }}</h3>\r\n\r\n        <div class=\"word-break-break-all mb-2\">{{ wallet.name }}</div>\r\n        <div class=\"word-break-break-all mb-2\">{{ wallet.path }}</div>\r\n\r\n        <form (ngSubmit)=\"openWallet()\" class=\"form\" fxLayout=\"column\">\r\n          <div *ngIf=\"!wallet.notFound\" class=\"form__field\">\r\n            <label for=\"password\">{{\r\n              'OPEN_WALLET.MODAL.LABEL' | translate\r\n            }}</label>\r\n            <input\r\n              (contextmenu)=\"variablesService.onContextMenuPasteSelect($event)\"\r\n              [(ngModel)]=\"wallet.pass\"\r\n              class=\"form__field--input\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n            />\r\n            <div *ngIf=\"wallet.notFound\" class=\"error\">\r\n              {{ 'OPEN_WALLET.MODAL.NOT_FOUND' | translate }}\r\n            </div>\r\n          </div>\r\n\r\n          <div fxLayout=\"row nowrap\" fxLayoutGap=\"1rem\">\r\n            <button\r\n              [disabled]=\"wallet.notFound\"\r\n              class=\"primary big w-100\"\r\n              type=\"submit\"\r\n            >\r\n              {{ 'OPEN_WALLET.MODAL.OPEN' | translate }}\r\n            </button>\r\n            <button\r\n              (click)=\"skipWallet()\"\r\n              class=\"outline big w-100\"\r\n              type=\"button\"\r\n            >\r\n              {{ 'OPEN_WALLET.MODAL.SKIP' | translate }}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [],\r\n})\r\nexport class OpenWalletModalComponent implements OnInit, OnDestroy {\r\n  @HostBinding('class.modal-overlay') modalOverlay = true;\r\n\r\n  @Input() wallets;\r\n\r\n  wallet = {\r\n    name: '',\r\n    path: '',\r\n    pass: '',\r\n    notFound: false,\r\n    emptyPass: false,\r\n  };\r\n\r\n  constructor(\r\n    public variablesService: VariablesService,\r\n    public walletsService: WalletsService,\r\n    private backend: BackendService,\r\n    private translate: TranslateService,\r\n    private modalService: ModalService,\r\n    private ngZone: NgZone,\r\n    private renderer: Renderer2\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.renderer.addClass(document.body, 'no-scroll');\r\n    if (this.wallets.length) {\r\n      this.wallet = this.wallets[0];\r\n      this.wallet.pass = '';\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.renderer.removeClass(document.body, 'no-scroll');\r\n  }\r\n\r\n  openWallet(): void {\r\n    if (this.wallets.length === 0) {\r\n      return;\r\n    }\r\n    this.backend.openWallet(\r\n      this.wallet.path,\r\n      this.wallet.pass,\r\n      this.variablesService.count,\r\n      false,\r\n      (open_status, open_data, open_error) => {\r\n        if (open_error && open_error === 'FILE_NOT_FOUND') {\r\n          this.ngZone.run(() => {\r\n            this.wallet.notFound = true;\r\n          });\r\n          let error_translate = this.translate.instant(\r\n            'OPEN_WALLET.FILE_NOT_FOUND1'\r\n          );\r\n          error_translate += ':<br>' + this.wallet.path;\r\n          error_translate += this.translate.instant(\r\n            'OPEN_WALLET.FILE_NOT_FOUND2'\r\n          );\r\n          this.modalService.prepareModal('error', error_translate);\r\n        } else {\r\n          if (open_status || open_error === 'FILE_RESTORED') {\r\n            let exists = false;\r\n            this.variablesService.wallets.forEach(wallet => {\r\n              if (wallet.address === open_data['wi'].address) {\r\n                exists = true;\r\n              }\r\n            });\r\n\r\n            if (exists) {\r\n              this.modalService.prepareModal(\r\n                'error',\r\n                'OPEN_WALLET.WITH_ADDRESS_ALREADY_OPEN'\r\n              );\r\n              this.backend.closeWallet(open_data.wallet_id);\r\n            } else {\r\n              const new_wallet = new Wallet(\r\n                open_data.wallet_id,\r\n                this.wallet.name,\r\n                this.wallet.pass,\r\n                open_data['wi'].path,\r\n                open_data['wi'].address,\r\n                open_data['wi'].balance,\r\n                open_data['wi'].unlocked_balance,\r\n                open_data['wi'].mined_total,\r\n                open_data['wi'].tracking_hey\r\n              );\r\n              new_wallet.alias = this.backend.getWalletAlias(\r\n                new_wallet.address\r\n              );\r\n              new_wallet.is_auditable = open_data['wi'].is_auditable;\r\n              new_wallet.is_watch_only = open_data['wi'].is_watch_only;\r\n              new_wallet.currentPage = 1;\r\n              new_wallet.exclude_mining_txs = false;\r\n              if (\r\n                open_data.recent_history &&\r\n                open_data.recent_history.history\r\n              ) {\r\n                new_wallet.total_history_item =\r\n                  open_data.recent_history.total_history_items;\r\n                new_wallet.totalPages = Math.ceil(\r\n                  open_data.recent_history.total_history_items /\r\n                    this.variablesService.count\r\n                );\r\n                new_wallet.totalPages > this.variablesService.maxPages\r\n                  ? (new_wallet.pages = new Array(5)\r\n                      .fill(1)\r\n                      .map((value, index) => value + index))\r\n                  : (new_wallet.pages = new Array(new_wallet.totalPages)\r\n                      .fill(1)\r\n                      .map((value, index) => value + index));\r\n                new_wallet.prepareHistory(open_data.recent_history.history);\r\n              } else {\r\n                new_wallet.total_history_item = 0;\r\n                new_wallet.pages = new Array(1).fill(1);\r\n                new_wallet.totalPages = 1;\r\n              }\r\n              this.backend.getContracts(\r\n                open_data.wallet_id,\r\n                (contracts_status, contracts_data) => {\r\n                  if (\r\n                    contracts_status &&\r\n                    hasOwnProperty(contracts_data, 'contracts')\r\n                  ) {\r\n                    this.ngZone.run(() => {\r\n                      new_wallet.prepareContractsAfterOpen(\r\n                        contracts_data.contracts,\r\n                        this.variablesService.exp_med_ts,\r\n                        this.variablesService.height_app,\r\n                        this.variablesService.settings.viewedContracts,\r\n                        this.variablesService.settings.notViewedContracts\r\n                      );\r\n                    });\r\n                  }\r\n                }\r\n              );\r\n              this.walletsService.addWallet(new_wallet);\r\n              this.backend.runWallet(open_data.wallet_id);\r\n              this.skipWallet();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  skipWallet(): void {\r\n    this.ngZone.run(() => {\r\n      if (this.wallets.length) {\r\n        this.wallets.splice(0, 1);\r\n        this.ngOnInit();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ContractStatusMessagesPipe } from '@parts/pipes/contract-status-messages-pipe/contract-status-messages.pipe';\r\n\r\n@NgModule({\r\n  declarations: [ContractStatusMessagesPipe],\r\n  exports: [ContractStatusMessagesPipe],\r\n  providers: [ContractStatusMessagesPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class ContractStatusMessagesPipeModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Pipe({\r\n  name: 'contractStatusMessages',\r\n})\r\nexport class ContractStatusMessagesPipe implements PipeTransform {\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  getStateSeller(stateNum: number): string {\r\n    const state = { part1: '', part2: '' };\r\n    switch (stateNum) {\r\n      case 1:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.NEW_CONTRACT'\r\n        );\r\n        break;\r\n      case 110:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.IGNORED'\r\n        );\r\n        break;\r\n      case 201:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.ACCEPTED'\r\n        );\r\n        state.part2 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.WAIT'\r\n        );\r\n        break;\r\n      case 2:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.WAITING_BUYER'\r\n        );\r\n        break;\r\n      case 3:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.COMPLETED'\r\n        );\r\n        break;\r\n      case 4:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.NOT_RECEIVED'\r\n        );\r\n        state.part2 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.NULLIFIED'\r\n        );\r\n        break;\r\n      case 5:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.PROPOSAL_CANCEL'\r\n        );\r\n        break;\r\n      case 601:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.BEING_CANCELLED'\r\n        );\r\n        break;\r\n      case 6:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.CANCELLED'\r\n        );\r\n        break;\r\n      case 130:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.IGNORED_CANCEL'\r\n        );\r\n        break;\r\n      case 140:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.SELLER.EXPIRED'\r\n        );\r\n        break;\r\n    }\r\n    return state.part1 + (state.part2.length ? '. ' + state.part2 : '');\r\n  }\r\n\r\n  getStateBuyer(stateNum: number): string {\r\n    const state = { part1: '', part2: '' };\r\n    switch (stateNum) {\r\n      case 1:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.WAITING'\r\n        );\r\n        break;\r\n      case 110:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.IGNORED'\r\n        );\r\n        break;\r\n      case 201:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.ACCEPTED'\r\n        );\r\n        state.part2 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.WAIT'\r\n        );\r\n        break;\r\n      case 2:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.ACCEPTED'\r\n        );\r\n        break;\r\n      case 120:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.WAITING_SELLER'\r\n        );\r\n        break;\r\n      case 3:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.COMPLETED'\r\n        );\r\n        break;\r\n      case 4:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.NOT_RECEIVED'\r\n        );\r\n        state.part2 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.NULLIFIED'\r\n        );\r\n        break;\r\n      case 5:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.WAITING_CANCEL'\r\n        );\r\n        break;\r\n      case 601:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.BEING_CANCELLED'\r\n        );\r\n        break;\r\n      case 6:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.CANCELLED'\r\n        );\r\n        break;\r\n      case 130:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.IGNORED_CANCEL'\r\n        );\r\n        break;\r\n      case 140:\r\n        state.part1 = this.translate.instant(\r\n          'CONTRACTS.STATUS_MESSAGES.BUYER.EXPIRED'\r\n        );\r\n        break;\r\n    }\r\n    return state.part1 + (state.part2.length ? '. ' + state.part2 : '');\r\n  }\r\n\r\n  transform(state: number, is_a?: boolean): any {\r\n    if (is_a) {\r\n      return this.getStateBuyer(state);\r\n    } else {\r\n      return this.getStateSeller(state);\r\n    }\r\n  }\r\n}\r\n","export * from './contract-status-messages-pipe.module';\r\nexport * from './contract-status-messages.pipe';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ContractTimeLeftPipe } from '@parts/pipes/contract-time-left-pipe/contract-time-left.pipe';\r\n\r\n@NgModule({\r\n  declarations: [ContractTimeLeftPipe],\r\n  exports: [ContractTimeLeftPipe],\r\n  providers: [ContractTimeLeftPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class ContractTimeLeftPipeModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Pipe({\r\n  name: 'contractTimeLeft',\r\n})\r\nexport class ContractTimeLeftPipe implements PipeTransform {\r\n  constructor(\r\n    private service: VariablesService,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  transform(value: any, arg?: any): any {\r\n    const time = parseInt(\r\n      ((parseInt(value, 10) - this.service.exp_med_ts) / 3600).toFixed(0),\r\n      10\r\n    );\r\n    const type = arg || 0;\r\n    if (time === 0) {\r\n      return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_LESS_ONE');\r\n    }\r\n    if (this.service.settings.language === 'en') {\r\n      if (type === 0) {\r\n        if (time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE', {\r\n            time: time,\r\n          });\r\n        } else {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY', {\r\n            time: time,\r\n          });\r\n        }\r\n      } else if (type === 1) {\r\n        if (time === 1) {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_ONE_RESPONSE',\r\n            { time: time }\r\n          );\r\n        } else {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_MANY_RESPONSE',\r\n            { time: time }\r\n          );\r\n        }\r\n      } else if (type === 2) {\r\n        if (time === 1) {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_ONE_WAITING',\r\n            { time: time }\r\n          );\r\n        } else {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_MANY_WAITING',\r\n            { time: time }\r\n          );\r\n        }\r\n      }\r\n    } else {\r\n      const rest = time % 10;\r\n      if (type === 0) {\r\n        if ((time > 20 && rest === 1) || time === 1) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_ONE', {\r\n            time: time,\r\n          });\r\n        } else if (\r\n          (time > 1 && time < 5) ||\r\n          (time > 20 && (rest === 2 || rest === 3 || rest === 4))\r\n        ) {\r\n          return this.translate.instant('CONTRACTS.TIME_LEFT.REMAINING_MANY', {\r\n            time: time,\r\n          });\r\n        } else {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_MANY_ALT',\r\n            { time: time }\r\n          );\r\n        }\r\n      } else if (type === 1) {\r\n        if ((time > 20 && rest === 1) || time === 1) {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_ONE_RESPONSE',\r\n            { time: time }\r\n          );\r\n        } else if (\r\n          (time > 1 && time < 5) ||\r\n          (time > 20 && (rest === 2 || rest === 3 || rest === 4))\r\n        ) {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_MANY_RESPONSE',\r\n            { time: time }\r\n          );\r\n        } else {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_MANY_ALT_RESPONSE',\r\n            { time: time }\r\n          );\r\n        }\r\n      } else if (type === 2) {\r\n        if ((time > 20 && rest === 1) || time === 1) {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_ONE_WAITING',\r\n            { time: time }\r\n          );\r\n        } else if (\r\n          (time > 1 && time < 5) ||\r\n          (time > 20 && (rest === 2 || rest === 3 || rest === 4))\r\n        ) {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_MANY_WAITING',\r\n            { time: time }\r\n          );\r\n        } else {\r\n          return this.translate.instant(\r\n            'CONTRACTS.TIME_LEFT.REMAINING_MANY_ALT_WAITING',\r\n            { time: time }\r\n          );\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","export * from './contract-time-left-pipe.module';\r\nexport * from './contract-time-left.pipe';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { GetPriceByUrlPipe } from './get-price-by-url.pipe';\r\n\r\n@NgModule({\r\n  declarations: [GetPriceByUrlPipe],\r\n  exports: [GetPriceByUrlPipe],\r\n  providers: [GetPriceByUrlPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class GetPriceByUrlModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Pipe({\r\n  name: 'getPriceByUrl',\r\n})\r\nexport class GetPriceByUrlPipe implements PipeTransform {\r\n  constructor(private httpClient: HttpClient) {}\r\n  transform(\r\n    price_url: string\r\n  ): Observable<{ usd: number; usd_24h_change: number }> | undefined {\r\n    return (\r\n      price_url &&\r\n      this.httpClient\r\n        .get(price_url)\r\n        .pipe(\r\n          map(obj => Object.values(obj)[0] || { usd: 0, usd_24h_change: 0 })\r\n        )\r\n    );\r\n  }\r\n}\r\n","export * from './get-price-by-url.pipe';\r\nexport * from './get-price-by-url.module';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { GetWhiteAssetInfoPipe } from './get-white-asset-info.pipe';\r\n\r\n@NgModule({\r\n  declarations: [GetWhiteAssetInfoPipe],\r\n  exports: [GetWhiteAssetInfoPipe],\r\n  providers: [GetWhiteAssetInfoPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class GetWhiteAssetInfoModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Asset, WhiteAssetInfo } from '@api/models/assets.model';\r\nimport { AssetsFacade } from '@store/assets/assets.facade';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Pipe({\r\n  name: 'getWhiteAssetInfo',\r\n})\r\nexport class GetWhiteAssetInfoPipe implements PipeTransform {\r\n  constructor(private assetsFacade: AssetsFacade) {}\r\n\r\n  transform({\r\n    asset_info: { asset_id },\r\n  }: Asset): Observable<WhiteAssetInfo | undefined> {\r\n    return this.assetsFacade.getAssetByIdFromWhitelist(asset_id);\r\n  }\r\n}\r\n","export * from './get-white-asset-info.module';\r\nexport * from './get-white-asset-info.pipe';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HasInAssetsWhitelistPipe } from './has-in-assets-whitelist.pipe';\r\n\r\n@NgModule({\r\n  declarations: [HasInAssetsWhitelistPipe],\r\n  exports: [HasInAssetsWhitelistPipe],\r\n  providers: [HasInAssetsWhitelistPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class HasInAssetsWhitelistModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { AssetsFacade } from '@store/assets/assets.facade';\r\nimport { Asset } from '@api/models/assets.model';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Pipe({\r\n  name: 'hasInAssetsWhitelist',\r\n})\r\nexport class HasInAssetsWhitelistPipe implements PipeTransform {\r\n  constructor(private assetsFacade: AssetsFacade) {}\r\n\r\n  transform({ asset_info: { asset_id } }: Asset): Observable<boolean> {\r\n    return this.assetsFacade\r\n      .getAssetByIdFromWhitelist(asset_id)\r\n      .pipe(map(i => Boolean(i)));\r\n  }\r\n}\r\n","export * from './has-in-assets-whitelist.pipe';\r\nexport * from './has-in-assets-whitelist.module';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HistoryTypeMessagesPipe } from '@parts/pipes/history-type-messages-pipe/history-type-messages.pipe';\r\n\r\n@NgModule({\r\n  declarations: [HistoryTypeMessagesPipe],\r\n  exports: [HistoryTypeMessagesPipe],\r\n  providers: [HistoryTypeMessagesPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class HistoryTypeMessagesPipeModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { hasOwnProperty } from '../../functions/hasOwnProperty';\r\n\r\n@Pipe({\r\n  name: 'historyTypeMessages',\r\n})\r\nexport class HistoryTypeMessagesPipe implements PipeTransform {\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  transform(item: any): any {\r\n    if (item.tx_type === 0) {\r\n      if (item.remote_addresses && item.remote_addresses[0]) {\r\n        return item.remote_addresses[0];\r\n      } else {\r\n        if (item.is_income) {\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.HIDDEN');\r\n        } else {\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.UNDEFINED');\r\n        }\r\n      }\r\n    } else if (item.tx_type === 6 && item.height === 0) {\r\n      return 'unknown';\r\n    } else if (item.tx_type === 9) {\r\n      if (hasOwnProperty(item, 'contract') && item.contract[0].is_a) {\r\n        return this.translate.instant('HISTORY.TYPE_MESSAGES.COMPLETE_BUYER');\r\n      } else {\r\n        return this.translate.instant('HISTORY.TYPE_MESSAGES.COMPLETE_SELLER');\r\n      }\r\n    } else {\r\n      switch (item.tx_type) {\r\n        // case 0:\r\n        //   return '';\r\n        // case 1:\r\n        //   return '';\r\n        // case 2:\r\n        //   return '';\r\n        // case 3:\r\n        //   return '';\r\n        case 4:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.CREATE_ALIAS');\r\n        case 5:\r\n          return this.translate.instant('HISTORY.TYPE_MESSAGES.UPDATE_ALIAS');\r\n        case 6:\r\n          return item.td['spn'] && item.td['spn'].length\r\n            ? this.translate.instant('HISTORY.TYPE_MESSAGES.POS_REWARD')\r\n            : this.translate.instant('HISTORY.TYPE_MESSAGES.POW_REWARD');\r\n        case 7:\r\n          return this.translate.instant(\r\n            'HISTORY.TYPE_MESSAGES.CREATE_CONTRACT'\r\n          );\r\n        case 8:\r\n          return this.translate.instant(\r\n            'HISTORY.TYPE_MESSAGES.PLEDGE_CONTRACT'\r\n          );\r\n        // case 9:\r\n        //   return '';\r\n        case 10:\r\n          return this.translate.instant(\r\n            'HISTORY.TYPE_MESSAGES.NULLIFY_CONTRACT'\r\n          );\r\n        case 11:\r\n          return this.translate.instant(\r\n            'HISTORY.TYPE_MESSAGES.PROPOSAL_CANCEL_CONTRACT'\r\n          );\r\n        case 12:\r\n          return this.translate.instant(\r\n            'HISTORY.TYPE_MESSAGES.CANCEL_CONTRACT'\r\n          );\r\n      }\r\n    }\r\n\r\n    return this.translate.instant('HISTORY.TYPE_MESSAGES.UNDEFINED');\r\n  }\r\n}\r\n","export * from './history-type-messages-pipe.module';\r\nexport * from './history-type-messages.pipe';\r\n","export * from './contract-status-messages-pipe';\r\nexport * from './contract-time-left-pipe';\r\nexport * from './get-white-asset-info';\r\nexport * from './has-in-assets-whitelist';\r\nexport * from './get-price-by-url';\r\nexport * from './history-type-messages-pipe';\r\nexport * from './int-to-money-pipe';\r\nexport * from './is-available-alias-name-pipe';\r\nexport * from './money-to-int-pipe';\r\nexport * from './safe-html-pipe';\r\nexport * from './short-string-pipe';\r\n","export * from './int-to-money-pipe.module';\r\nexport * from './int-to-money.pipe';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IntToMoneyPipe } from '@parts/pipes/int-to-money-pipe/int-to-money.pipe';\r\n\r\n@NgModule({\r\n  declarations: [IntToMoneyPipe],\r\n  exports: [IntToMoneyPipe],\r\n  providers: [IntToMoneyPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class IntToMoneyPipeModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Pipe({\r\n  name: 'intToMoney',\r\n})\r\nexport class IntToMoneyPipe implements PipeTransform {\r\n  constructor(private variablesService: VariablesService) {}\r\n\r\n  transform(value: any, args?: any): any {\r\n    if (value === 0 || value === undefined) {\r\n      return '0';\r\n    }\r\n    let maxFraction = this.variablesService.digits;\r\n    if (args) {\r\n      maxFraction = parseInt(args, 10);\r\n    }\r\n    const power = Math.pow(10, this.variablesService.digits);\r\n    let str = new BigNumber(value).div(power).toFixed(maxFraction);\r\n\r\n    for (let i = str.length - 1; i >= 0; i--) {\r\n      if (str[i] !== '0') {\r\n        str = str.substr(0, i + 1);\r\n        break;\r\n      }\r\n    }\r\n    if (str[str.length - 1] === '.') {\r\n      str = str.substr(0, str.length - 1);\r\n    }\r\n    return str;\r\n  }\r\n}\r\n","export * from './is-available-alias-name-pipe.module';\r\nexport * from './is-available-alias-name.pipe';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IsAvailableAliasNamePipe } from './is-available-alias-name.pipe';\r\n\r\n@NgModule({\r\n  declarations: [IsAvailableAliasNamePipe],\r\n  exports: [IsAvailableAliasNamePipe],\r\n  providers: [IsAvailableAliasNamePipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class IsAvailableAliasNamePipeModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Alias } from '../../../api/models/wallet.model';\r\n\r\n@Pipe({\r\n  name: 'isAvailableAliasName',\r\n})\r\nexport class IsAvailableAliasNamePipe implements PipeTransform {\r\n  transform(alias: Partial<Alias> | null | undefined): boolean {\r\n    return (\r\n      (Boolean(alias) &&\r\n        Boolean(alias.name) &&\r\n        alias.name.length >= 2 &&\r\n        alias.name.length <= 6) ||\r\n      false\r\n    );\r\n  }\r\n}\r\n","export * from './money-to-int-pipe.module';\r\nexport * from './money-to-int.pipe';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MoneyToIntPipe } from '@parts/pipes/money-to-int-pipe/money-to-int.pipe';\r\n\r\n@NgModule({\r\n  declarations: [MoneyToIntPipe],\r\n  exports: [MoneyToIntPipe],\r\n  providers: [MoneyToIntPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class MoneyToIntPipeModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { VariablesService } from '../../services/variables.service';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Pipe({\r\n  name: 'moneyToInt',\r\n})\r\nexport class MoneyToIntPipe implements PipeTransform {\r\n  constructor(private variablesService: VariablesService) {}\r\n\r\n  transform(value: any): any {\r\n    const CURRENCY_DISPLAY_DECIMAL_POINT = this.variablesService.digits;\r\n    let result;\r\n    if (value) {\r\n      let am_str = value.toString().trim();\r\n      const point_index = am_str.indexOf('.');\r\n      let fraction_size = 0;\r\n      if (-1 !== point_index) {\r\n        fraction_size = am_str.length - point_index - 1;\r\n        while (\r\n          CURRENCY_DISPLAY_DECIMAL_POINT < fraction_size &&\r\n          '0' === am_str[am_str.length - 1]\r\n        ) {\r\n          am_str = am_str.slice(0, am_str.length - 1);\r\n          --fraction_size;\r\n        }\r\n        if (CURRENCY_DISPLAY_DECIMAL_POINT < fraction_size) {\r\n          return undefined;\r\n        }\r\n        am_str =\r\n          am_str.slice(0, point_index) +\r\n          am_str.slice(point_index + 1, am_str.length);\r\n      } else {\r\n        fraction_size = 0;\r\n      }\r\n      if (!am_str.length) {\r\n        return undefined;\r\n      }\r\n      if (fraction_size < CURRENCY_DISPLAY_DECIMAL_POINT) {\r\n        for (\r\n          let i = 0;\r\n          i !== CURRENCY_DISPLAY_DECIMAL_POINT - fraction_size;\r\n          i++\r\n        ) {\r\n          am_str = am_str + '0';\r\n        }\r\n      }\r\n      result = new BigNumber(am_str).integerValue();\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","export * from './safe-html-pipe.module';\r\nexport * from './safe-html.pipe';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SafeHTMLPipe } from '@parts/pipes/safe-html-pipe/safe-html.pipe';\r\n\r\n@NgModule({\r\n  declarations: [SafeHTMLPipe],\r\n  exports: [SafeHTMLPipe],\r\n  providers: [SafeHTMLPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class SafeHtmlPipeModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHTML',\r\n})\r\nexport class SafeHTMLPipe implements PipeTransform {\r\n  constructor(private sanitizer: DomSanitizer) {}\r\n\r\n  transform(html: string): SafeHtml {\r\n    return this.sanitizer.bypassSecurityTrustHtml(html);\r\n  }\r\n}\r\n","export * from './short-string-pipe.module';\r\nexport * from './short-string.pipe';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ShortStringPipe } from './short-string.pipe';\r\n\r\n@NgModule({\r\n  declarations: [ShortStringPipe],\r\n  exports: [ShortStringPipe],\r\n  providers: [ShortStringPipe],\r\n  imports: [CommonModule],\r\n})\r\nexport class ShortStringPipeModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'zanoShortString',\r\n})\r\nexport class ShortStringPipe implements PipeTransform {\r\n  transform(\r\n    value: string | null | undefined,\r\n    left = 6,\r\n    right = 6\r\n  ): string | null | undefined {\r\n    return value && `${value.slice(0, left)}...${value.slice(-right)}`;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class NavigationService {\r\n  private history: string[] = [];\r\n\r\n  constructor(private router: Router, private location: Location) {\r\n    this.router.events.subscribe(event => {\r\n      if (event instanceof NavigationEnd) {\r\n        this.history.push(event.urlAfterRedirects);\r\n      }\r\n    });\r\n  }\r\n\r\n  back(): void {\r\n    this.history.pop();\r\n    if (this.history.length > 0) {\r\n      this.location.back();\r\n    } else {\r\n      this.router.navigateByUrl('/').then();\r\n    }\r\n  }\r\n}\r\n","import {\r\n  ApplicationRef,\r\n  ComponentFactoryResolver,\r\n  EmbeddedViewRef,\r\n  Injectable,\r\n  Injector,\r\n  NgZone,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ModalContainerComponent } from '../modals/modal-container/modal-container.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ModalService {\r\n  private components: any[] = [];\r\n\r\n  constructor(\r\n    private componentFactoryResolver: ComponentFactoryResolver,\r\n    private appRef: ApplicationRef,\r\n    private injector: Injector,\r\n    private ngZone: NgZone,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  prepareModal(type, message): void {\r\n    const length = this.components.push(\r\n      this.componentFactoryResolver\r\n        .resolveComponentFactory(ModalContainerComponent)\r\n        .create(this.injector)\r\n    );\r\n\r\n    this.components[length - 1].instance['type'] = type;\r\n    this.components[length - 1].instance['message'] = message.length\r\n      ? this.translate.instant(message)\r\n      : '';\r\n    this.components[length - 1].instance['eventClose']?.subscribe({\r\n      next: () => {\r\n        this.removeModal(length - 1);\r\n      },\r\n    });\r\n\r\n    this.ngZone.run(() => {\r\n      this.appendModal(length - 1);\r\n    });\r\n  }\r\n\r\n  appendModal(index): void {\r\n    setTimeout(() => {\r\n      this.appRef.attachView(this.components[index].hostView);\r\n      const domElem = (this.components[index].hostView as EmbeddedViewRef<any>)\r\n        .rootNodes[0] as HTMLElement;\r\n      document.body.appendChild(domElem);\r\n    });\r\n  }\r\n\r\n  removeModal(index): void {\r\n    if (this.components[index]) {\r\n      this.appRef.detachView(this.components[index].hostView);\r\n      this.components[index].destroy();\r\n      this.components.splice(index, 1);\r\n    } else {\r\n      const last = this.components.length - 1;\r\n      this.appRef.detachView(this.components[last].hostView);\r\n      this.components[last].destroy();\r\n      this.components.splice(last, 1);\r\n    }\r\n  }\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { DeeplinkParams, Wallet } from '@api/models/wallet.model';\r\nimport { Contact } from '@api/models/contact.model';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { Idle } from 'idlejs/dist';\r\nimport { Router } from '@angular/router';\r\nimport {\r\n  ContextMenuComponent,\r\n  ContextMenuService,\r\n} from '@perfectmemory/ngx-contextmenu';\r\nimport { BigNumber } from 'bignumber.js';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class VariablesService {\r\n  disable_price_fetch$ = new BehaviorSubject<boolean>(false);\r\n\r\n  use_debug_mode$ = new BehaviorSubject<boolean>(false);\r\n\r\n  stop_paginate = {};\r\n\r\n  sync_started = false;\r\n\r\n  digits = 12;\r\n\r\n  appPass = '';\r\n\r\n  appLogin = false;\r\n\r\n  moneyEquivalent = 0;\r\n\r\n  moneyEquivalentPercent = 0;\r\n\r\n  defaultCurrency = 'ZANO';\r\n\r\n  opening_wallet: Wallet;\r\n\r\n  exp_med_ts = 0;\r\n\r\n  net_time_delta_median = 0;\r\n\r\n  height_app = 0;\r\n\r\n  height_max = 0;\r\n\r\n  downloaded = 0;\r\n\r\n  total = 0;\r\n\r\n  last_build_available = '';\r\n\r\n  last_build_displaymode = 0;\r\n\r\n  daemon_state = 3;\r\n\r\n  deeplink$ = new BehaviorSubject<string | null>(null);\r\n\r\n  sendActionData$ = new BehaviorSubject<DeeplinkParams>({});\r\n\r\n  sync = {\r\n    progress_value: 0,\r\n    progress_value_text: '0',\r\n  };\r\n\r\n  download = {\r\n    progress_value: 0,\r\n    progress_value_text: '0',\r\n  };\r\n\r\n  get_recent_transfers = false; // avoid of execute function before callback complete\r\n\r\n  default_fee = '0.010000000000';\r\n\r\n  default_fee_big = new BigNumber('10000000000');\r\n\r\n  settings = {\r\n    appLockTime: 15,\r\n    appLog: 0,\r\n    scale: '10px',\r\n    appUseTor: true,\r\n    language: 'en',\r\n    default_path: '/',\r\n    viewedContracts: [],\r\n    notViewedContracts: [],\r\n    wallets: [],\r\n  };\r\n\r\n  count = 40;\r\n\r\n  maxPages = 5;\r\n\r\n  testnet = false;\r\n\r\n  networkType = ''; // testnet of mainnet\r\n\r\n  wallets: Array<Wallet> = [];\r\n\r\n  get walletNamesForComparisons(): string[] {\r\n    return this.wallets.map(({ name }) => name) ?? [];\r\n  }\r\n\r\n  currentWallet: Wallet;\r\n\r\n  aliases: any = [];\r\n\r\n  aliasesChecked: any = {};\r\n\r\n  enableAliasSearch = false;\r\n\r\n  maxWalletNameLength = 25;\r\n\r\n  maxCommentLength = 255;\r\n\r\n  dataIsLoaded = false;\r\n\r\n  contacts: Array<Contact> = [];\r\n\r\n  pattern = '^[a-zA-Z0-9_.\\\\]*|~!?@#$%^&+{}()<>:;\"\\'-=/,[\\\\\\\\]*$';\r\n\r\n  after_sync_request: any = {};\r\n\r\n  getExpMedTsEvent = new BehaviorSubject(null);\r\n\r\n  getHeightAppEvent = new BehaviorSubject(null);\r\n\r\n  getHeightMaxEvent = new BehaviorSubject(null);\r\n\r\n  getDownloadedAppEvent = new BehaviorSubject(null);\r\n\r\n  getTotalEvent = new BehaviorSubject(null);\r\n\r\n  getRefreshStackingEvent = new BehaviorSubject(null);\r\n\r\n  getAliasChangedEvent = new BehaviorSubject(null);\r\n\r\n  getWalletChangedEvent = new BehaviorSubject<Wallet>(null);\r\n\r\n  idle = new Idle().whenNotInteractive().do(() => {\r\n    if (this.appPass === '') {\r\n      this.restartCountdown();\r\n    } else {\r\n      this.ngZone.run(() => {\r\n        this.idle.stop();\r\n        this.appPass = '';\r\n        this.appLogin = false;\r\n        this.router.navigate(['/login'], { queryParams: { type: 'auth' } });\r\n      });\r\n    }\r\n  });\r\n\r\n  allContextMenu: ContextMenuComponent<any>;\r\n\r\n  onlyCopyContextMenu: ContextMenuComponent<any>;\r\n\r\n  pasteSelectContextMenu: ContextMenuComponent<any>;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private ngZone: NgZone,\r\n    private contextMenuService: ContextMenuService<any>\r\n  ) {}\r\n\r\n  setExpMedTs(timestamp: number): void {\r\n    if (timestamp !== this.exp_med_ts) {\r\n      this.exp_med_ts = timestamp;\r\n      this.getExpMedTsEvent.next(timestamp);\r\n    }\r\n  }\r\n\r\n  setHeightApp(height: number): void {\r\n    if (height !== this.height_app) {\r\n      this.height_app = height;\r\n      this.getHeightAppEvent.next(height);\r\n    }\r\n  }\r\n\r\n  setHeightMax(height: number): void {\r\n    if (height !== this.height_max) {\r\n      this.height_max = height;\r\n      this.getHeightMaxEvent.next(height);\r\n    }\r\n  }\r\n\r\n  setDownloadedBytes(bytes: number): void {\r\n    if (bytes !== this.downloaded) {\r\n      this.downloaded = this.bytesToMb(bytes);\r\n      this.getDownloadedAppEvent.next(bytes);\r\n    }\r\n  }\r\n\r\n  setTotalBytes(bytes: number): void {\r\n    if (bytes !== this.total) {\r\n      this.total = this.bytesToMb(bytes);\r\n      this.getTotalEvent.next(bytes);\r\n    }\r\n  }\r\n\r\n  setRefreshStacking(wallet_id: number): void {\r\n    this.getHeightAppEvent.next(wallet_id);\r\n  }\r\n\r\n  changeAliases(): void {\r\n    this.getAliasChangedEvent.next(true);\r\n  }\r\n\r\n  setCurrentWallet(id): void {\r\n    this.wallets.forEach(wallet => {\r\n      if (wallet.wallet_id === id) {\r\n        this.currentWallet = wallet;\r\n        this.getWalletChangedEvent.next(wallet);\r\n      }\r\n    });\r\n  }\r\n\r\n  getWallet(id): Wallet | null {\r\n    for (let i = 0; i < this.wallets.length; i++) {\r\n      if (this.wallets[i].wallet_id === id) {\r\n        return this.wallets[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getNotLoadedWallet(): Wallet | null {\r\n    for (let i = 0; i < this.wallets.length; i++) {\r\n      if (!this.wallets[i].loaded) {\r\n        return this.wallets[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  startCountdown(): void {\r\n    this.idle.within(this.settings.appLockTime).start();\r\n  }\r\n\r\n  stopCountdown(): void {\r\n    this.idle.stop();\r\n  }\r\n\r\n  restartCountdown(): void {\r\n    this.idle.within(this.settings.appLockTime).restart();\r\n  }\r\n\r\n  bytesToMb(bytes): number {\r\n    return Number((bytes / Math.pow(1024, 2)).toFixed(1));\r\n  }\r\n\r\n  onContextMenu($event: MouseEvent): void {\r\n    $event.target['contextSelectionStart'] = $event.target['selectionStart'];\r\n    $event.target['contextSelectionEnd'] = $event.target['selectionEnd'];\r\n    if (\r\n      $event.target &&\r\n      ($event.target['nodeName'].toUpperCase() === 'TEXTAREA' ||\r\n        $event.target['nodeName'].toUpperCase() === 'INPUT') &&\r\n      !$event.target['readOnly']\r\n    ) {\r\n      this.contextMenuService.show(this.allContextMenu, {\r\n        x: $event.x,\r\n        y: $event.y,\r\n        value: $event.target,\r\n      });\r\n      $event.preventDefault();\r\n      $event.stopPropagation();\r\n    }\r\n  }\r\n\r\n  onContextMenuOnlyCopy($event: MouseEvent, copyText?: string): void {\r\n    $event.preventDefault();\r\n    $event.stopPropagation();\r\n    this.contextMenuService.show(this.onlyCopyContextMenu, {\r\n      value: copyText,\r\n      x: $event.x,\r\n      y: $event.y,\r\n    });\r\n  }\r\n\r\n  onContextMenuPasteSelect($event: MouseEvent): void {\r\n    $event.target['contextSelectionStart'] = $event.target['selectionStart'];\r\n    $event.target['contextSelectionEnd'] = $event.target['selectionEnd'];\r\n\r\n    console.warn($event.target);\r\n    console.warn($event.target['disabled']);\r\n\r\n    if (\r\n      $event.target &&\r\n      ($event.target['nodeName'].toUpperCase() === 'TEXTAREA' ||\r\n        $event.target['nodeName'].toUpperCase() === 'INPUT') &&\r\n      !$event.target['readOnly']\r\n    ) {\r\n      this.contextMenuService.show(this.pasteSelectContextMenu, {\r\n        x: $event.x,\r\n        y: $event.y,\r\n        value: $event.target,\r\n      });\r\n      $event.preventDefault();\r\n      $event.stopPropagation();\r\n    }\r\n  }\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { BackendService } from '@api/services/backend.service';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { ResponseGetWalletInfo, Wallet } from '@api/models/wallet.model';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class WalletsService {\r\n  get wallets(): Wallet[] | null | undefined {\r\n    return this.variablesService.wallets;\r\n  }\r\n\r\n  set wallets(value) {\r\n    this.variablesService.wallets = value;\r\n  }\r\n\r\n  get currentWallet(): Wallet | null | undefined {\r\n    return this.variablesService.currentWallet;\r\n  }\r\n\r\n  set currentWallet(value) {\r\n    this.variablesService.currentWallet = value;\r\n  }\r\n\r\n  constructor(\r\n    private backendService: BackendService,\r\n    private variablesService: VariablesService,\r\n    private router: Router,\r\n    private ngZone: NgZone\r\n  ) {}\r\n\r\n  addWallet(wallet: Wallet): void {\r\n    const { wallet_id } = wallet;\r\n    this.variablesService.wallets.push(wallet);\r\n    this.updateWalletInfo(wallet_id);\r\n  }\r\n\r\n  getWalletById(wallet_id: number): Wallet | undefined {\r\n    const { wallets } = this.variablesService;\r\n    return wallets.find(w => w.wallet_id === wallet_id);\r\n  }\r\n\r\n  updateWalletInfo(wallet_id: number): void {\r\n    const wallet = this.getWalletById(wallet_id);\r\n\r\n    if (!wallet) {\r\n      console.warn(\r\n        `You want update walletInfo by wallet_id: (${wallet_id}). But this wallet not uploaded.`\r\n      );\r\n      return;\r\n    }\r\n    const callback: (\r\n      status: boolean,\r\n      response_data: ResponseGetWalletInfo\r\n    ) => void = (status, response_data) => {\r\n      this.ngZone.run(() => {\r\n        if (status) {\r\n          const { balances } = response_data;\r\n          wallet.balances = balances;\r\n        }\r\n      });\r\n    };\r\n\r\n    this.backendService.getWalletInfo(wallet_id, callback);\r\n  }\r\n\r\n  closeWallet(wallet_id): void {\r\n    const callback = async (): Promise<void> => {\r\n      this.wallets = this.wallets.filter(w => w.wallet_id !== wallet_id);\r\n\r\n      await this.ngZone.run(async () => {\r\n        let url = '/';\r\n        if (this.wallets.length > 0) {\r\n          this.currentWallet = this.wallets[0];\r\n          url = '/wallet/';\r\n        }\r\n        if (this.variablesService.appPass) {\r\n          this.backendService.storeSecureAppData();\r\n        }\r\n        await this.router.navigate([url]);\r\n      });\r\n    };\r\n\r\n    this.backendService.closeWallet(wallet_id, callback);\r\n  }\r\n}\r\n","import { AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';\r\n\r\nexport const regExpHash = /^[a-f0-9]{64}$/i;\r\nexport const regExpAliasName = /^@?[a-z\\d.-]{6,25}$/;\r\nexport const regExpPassword = /^[a-zA-Z0-9_.\\]*|~!?@#$%^&+{}()<>:;\"'-=,/[\\\\]*$/;\r\n\r\nexport class ZanoValidators {\r\n  static hash({ value }: AbstractControl): ValidationErrors | null {\r\n    return regExpHash.test(value) ? null : { invalidHash: true };\r\n  }\r\n\r\n  static formMatch(\r\n    firstControlName: string,\r\n    secondControlName: string,\r\n    nameErrorKey = 'mismatch'\r\n  ): ValidatorFn {\r\n    return (abstractControl: AbstractControl): ValidationErrors | null =>\r\n      abstractControl.get(firstControlName).value ===\r\n      abstractControl.get(secondControlName).value\r\n        ? null\r\n        : { [nameErrorKey]: true };\r\n  }\r\n\r\n  static duplicate(valuesForComparisons: string | string[]): ValidatorFn {\r\n    return ({ value }: AbstractControl): ValidationErrors | null => {\r\n      const errorObject = { duplicate: true };\r\n      let error = null;\r\n\r\n      if (typeof value === 'string' && value === valuesForComparisons) {\r\n        error = errorObject;\r\n      }\r\n\r\n      if (\r\n        Array.isArray(valuesForComparisons) &&\r\n        valuesForComparisons.includes(value)\r\n      ) {\r\n        error = errorObject;\r\n      }\r\n\r\n      return error;\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { StateKeys, Store } from '@store/store';\r\nimport { AssetsService } from '@api/services/assets.service';\r\nimport { BehaviorSubject, Observable, take } from 'rxjs';\r\nimport {\r\n  ResponseAssetsWhiteList,\r\n  WhiteAssetInfo,\r\n} from '@api/models/assets.model';\r\nimport { map } from 'rxjs/operators';\r\nimport { zanoAssetInfo } from '@parts/data/assets';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AssetsFacade {\r\n  loading$ = new BehaviorSubject<boolean>(false);\r\n\r\n  constructor(private store: Store, private assetsService: AssetsService) {}\r\n\r\n  loadWhitelist(): void {\r\n    this.loading$.next(true);\r\n    this.assetsService\r\n      .assetsWhitelist()\r\n      .pipe(take(1))\r\n      .subscribe({\r\n        next: response => {\r\n          this.store.set(StateKeys.responseAssetsWhiteList, response);\r\n          this.loading$.next(false);\r\n        },\r\n        error: () => {\r\n          this.loading$.next(false);\r\n        },\r\n      });\r\n  }\r\n\r\n  getWhitelist(): Observable<WhiteAssetInfo[]> {\r\n    return this.store\r\n      .select<ResponseAssetsWhiteList>(StateKeys.responseAssetsWhiteList)\r\n      .pipe(\r\n        map(({ assets }) => {\r\n          return [zanoAssetInfo, ...assets];\r\n        })\r\n      );\r\n  }\r\n\r\n  getAssetByIdFromWhitelist(\r\n    asset_id: string\r\n  ): Observable<WhiteAssetInfo | undefined> {\r\n    return this.getWhitelist().pipe(\r\n      map(arr => arr.find(i => i.asset_id === asset_id))\r\n    );\r\n  }\r\n}\r\n","import { Injectable, NgZone } from '@angular/core';\r\nimport { VariablesService } from '@parts/services/variables.service';\r\nimport { PaginationStore } from './pagination.store';\r\nimport * as _ from 'lodash';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class PaginationService {\r\n  constructor(\r\n    private variables: VariablesService,\r\n    private ngZone: NgZone,\r\n    private paginationStore: PaginationStore\r\n  ) {}\r\n\r\n  paginate(currentPage = 1): void {\r\n    if (currentPage < 1) {\r\n      currentPage = 1;\r\n    } else if (currentPage > this.variables.currentWallet.totalPages) {\r\n      currentPage = this.variables.currentWallet.totalPages;\r\n    }\r\n    let startPage: number, endPage: number;\r\n    if (this.variables.currentWallet.totalPages <= this.variables.maxPages) {\r\n      startPage = 1;\r\n      endPage = this.variables.currentWallet.totalPages;\r\n    } else {\r\n      const maxPagesBeforeCurrentPage = Math.floor(this.variables.maxPages / 2);\r\n      const maxPagesAfterCurrentPage =\r\n        Math.ceil(this.variables.maxPages / 2) - 1;\r\n      if (currentPage <= maxPagesBeforeCurrentPage) {\r\n        startPage = 1;\r\n        this.variables.currentWallet.totalPages > this.variables.maxPages\r\n          ? (endPage = this.variables.maxPages)\r\n          : (endPage = this.variables.currentWallet.totalPages);\r\n      } else if (\r\n        currentPage + maxPagesAfterCurrentPage >=\r\n        this.variables.currentWallet.totalPages\r\n      ) {\r\n        startPage =\r\n          this.variables.currentWallet.totalPages - this.variables.maxPages + 1;\r\n        endPage = this.variables.currentWallet.totalPages;\r\n      } else {\r\n        startPage = currentPage - maxPagesBeforeCurrentPage;\r\n        endPage = currentPage + maxPagesAfterCurrentPage;\r\n      }\r\n    }\r\n    this.ngZone.run(() => {\r\n      this.variables.currentWallet.pages = Array.from(\r\n        Array(endPage + 1 - startPage).keys()\r\n      ).map(i => startPage + i);\r\n    });\r\n  }\r\n\r\n  getOffset(walletID): number {\r\n    const mining = this.variables.currentWallet.exclude_mining_txs;\r\n    const currentPage = this.variables.currentWallet.currentPage;\r\n    let offset = (currentPage - 1) * this.variables.count;\r\n    if (!mining) {\r\n      return offset || 0;\r\n    }\r\n    const value = this.paginationStore.value;\r\n    const pages = value.filter(item => item.walletID === walletID);\r\n    if (pages && pages.length > 0) {\r\n      const max = _.maxBy(pages, 'page');\r\n      const isForward = this.paginationStore.isForward(pages, currentPage);\r\n      if (isForward) {\r\n        offset = max.offset || 0;\r\n      } else {\r\n        const index = pages.findIndex(item => item.page === currentPage);\r\n        offset = pages[index].offset || 0;\r\n      }\r\n    }\r\n    return offset;\r\n  }\r\n\r\n  calcPages(data): void {\r\n    if (data.total_history_items && data && data.history) {\r\n      this.variables.currentWallet.totalPages = Math.ceil(\r\n        data.total_history_items / this.variables.count\r\n      );\r\n      this.variables.currentWallet.totalPages > this.variables.maxPages\r\n        ? (this.variables.currentWallet.pages = new Array(5)\r\n            .fill(1)\r\n            .map((value, index) => value + index))\r\n        : (this.variables.currentWallet.pages = new Array(\r\n            this.variables.currentWallet.totalPages\r\n          )\r\n            .fill(1)\r\n            .map((value, index) => value + index));\r\n    } else if (this.variables.currentWallet.restore) {\r\n      this.variables.currentWallet.totalPages = Math.ceil(\r\n        data.history.length / this.variables.count\r\n      );\r\n      this.variables.currentWallet.totalPages > this.variables.maxPages\r\n        ? (this.variables.currentWallet.pages = new Array(5)\r\n            .fill(1)\r\n            .map((value, index) => value + index))\r\n        : (this.variables.currentWallet.pages = new Array(\r\n            this.variables.currentWallet.totalPages\r\n          )\r\n            .fill(1)\r\n            .map((value, index) => value + index));\r\n    }\r\n  }\r\n\r\n  prepareHistory(data, status): void {\r\n    if (status && data && data.total_history_items) {\r\n      this.variables.currentWallet.history.splice(\r\n        0,\r\n        this.variables.currentWallet.history.length\r\n      );\r\n      this.ngZone.run(() => {\r\n        this.paginate(this.variables.currentWallet.currentPage);\r\n        if (data.history.length !== 0) {\r\n          this.variables.currentWallet.restore = false;\r\n          this.variables.currentWallet.total_history_item =\r\n            data.total_history_items;\r\n          this.variables.currentWallet.prepareHistory(data.history);\r\n          if (\r\n            this.variables.currentWallet.currentPage === 1 &&\r\n            data.unconfirmed\r\n          ) {\r\n            this.variables.currentWallet.prepareHistory(data.unconfirmed);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport * as _ from 'lodash';\r\n\r\nexport interface Pages {\r\n  page: number;\r\n  offset: number;\r\n  walletID: number;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class PaginationStore {\r\n  private subject = new BehaviorSubject<Pages[] | null>(null);\r\n\r\n  get value(): Pages[] | null {\r\n    return this.subject.value;\r\n  }\r\n\r\n  isForward(pages, currentPage): boolean {\r\n    const max = _.maxBy(pages, 'page');\r\n    return !max || max.page < currentPage || max.page === currentPage;\r\n  }\r\n\r\n  setPage(pageNumber: number, offset: number, walletID: number): void {\r\n    let newPages: Pages[] = [];\r\n    const pages = this.subject.getValue();\r\n    if (pages && pages.length > 0) {\r\n      newPages = pages.slice(0);\r\n    }\r\n    newPages.push({ page: pageNumber, offset, walletID });\r\n    this.subject.next(newPages);\r\n  }\r\n}\r\n","import { distinctUntilChanged, map } from 'rxjs/operators';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { Wallet } from '@api/models/wallet.model';\r\nimport { Injectable } from '@angular/core';\r\nimport { ResponseAssetsWhiteList } from '@api/models/assets.model';\r\n\r\nexport interface Sync {\r\n  sync: boolean;\r\n  wallet_id: number;\r\n}\r\n\r\nexport enum StateKeys {\r\n  wallets = 'wallets',\r\n  sync = 'sync',\r\n  responseAssetsWhiteList = 'responseAssetsWhiteList',\r\n}\r\n\r\nexport interface State {\r\n  [StateKeys.wallets]: Wallet[] | null | undefined;\r\n  [StateKeys.sync]: Sync[] | null | undefined;\r\n  [StateKeys.responseAssetsWhiteList]:\r\n    | ResponseAssetsWhiteList\r\n    | null\r\n    | undefined;\r\n}\r\n\r\nconst initialState: State = {\r\n  wallets: undefined,\r\n  sync: undefined,\r\n  responseAssetsWhiteList: undefined,\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class Store {\r\n  private subject = new BehaviorSubject<State>(initialState);\r\n  private store = this.subject.asObservable().pipe(distinctUntilChanged());\r\n\r\n  get state(): State {\r\n    return this.subject.value;\r\n  }\r\n\r\n  select<T>(name: StateKeys): Observable<T> {\r\n    return this.store.pipe(\r\n      map(state => state[name])\r\n    ) as unknown as Observable<T>;\r\n  }\r\n\r\n  set(name: StateKeys, value: any): void {\r\n    this.subject.next({ ...this.state, [name]: value });\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\nimport 'lodash';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":["NgZone","Observable","Subject","JSONBigNumber","BigNumber","ParamsType","getParamsType","value","array","Array","isArray","object","Object","keys","includes","convertersObjectForTypes","string","stringify","map","v","convertorParams","type","StatusCurrentActionState","Commands","BackendService","constructor","translate","variablesService","modalService","moneyToIntPipe","ngZone","bigNumberParser","key","val","name","indexOf","toNumber","i","length","Debug","message","console","error","warn","log","eventSubscribe","command","callback","on_core_event","backendObject","connect","str","parse","initService","observer","backendLoaded","window","QWebChannel","qt","webChannelTransport","channel","objects","mediator_object","next","webkitLaunchedScript","runCommand","webkit_launched_script","quitRequest","on_request_quit","getAppData","get_app_data","storeAppData","wallets","settings","forEach","wallet","push","path","store_app_data","getSecureAppData","pass","get_secure_app_data","setMasterPassword","set_master_password","checkMasterPassword","check_master_password","getIsDisabledNotifications","params","get_is_disabled_notifications","setIsDisabledNotifications","state","set_is_disabled_notifications","storeSecureAppData","contacts","staking","contact","address","notes","data","store_secure_app_data","JSON","appPass","dataStore","backendCallback","dropSecureAppData","drop_secure_app_data","haveSecureAppData","have_secure_app_data","saveFileDialog","caption","fileMask","default_path","dir","filemask","default_dir","show_savefile_dialog","openFileDialog","show_openfile_dialog","storeFile","buff","store_to_file","loadFile","load_from_file","push_offer","generateWallet","generate_wallet","exportWalletHistory","json_string","export_wallet_history","openWallet","txs_to_return","testEmpty","open_wallet","closeWallet","wallet_id","close_wallet","getSmartWalletInfo","seed_password","get_smart_wallet_info","getSeedPhraseInfo","param","get_seed_phrase_info","runWallet","run_wallet","isValidRestoreWalletText","is_valid_restore_wallet_text","restoreWallet","seed_phrase","seed_pass","restore_wallet","sendMoney","from_wallet_id","to_address","amount","fee","mixin","comment","hide","asset_id","parseInt","destinations","mixin_count","lock_time","transform","push_payer","asyncCall","transfer","validateAddress","validate_address","setClipboard","set_clipboard","getClipboard","get_clipboard","createProposal","title","a_addr","b_addr","to_pay","a_pledge","b_pledge","time","payment_id","details","t","c","expiration_period","default_fee_big","b_fee","create_proposal","getContracts","get_contracts","acceptProposal","contract_id","accept_proposal","releaseProposal","release_type","release_contract","requestCancelContract","request_cancel_contract","acceptCancelContract","accept_cancel_contract","getMiningHistory","get_mining_history","startPosMining","start_pos_mining","stopPosMining","stop_pos_mining","openUrlInBrowser","url","open_url_in_browser","start_backend","node","host","port","configure_for_remote_node","remote_node_host","remote_node_port","getDefaultFee","get_default_fee","setBackendLocalization","stringsArray","strings","language_title","set_localization_strings","registerAlias","alias","reward","tracking_key","request_alias_registration","updateAlias","replace","request_alias_update","getAllAliases","get_all_aliases","getAliasByName","get_alias_info_by_name","getAliasByAddress","get_alias_info_by_address","getAliasCoast","get_alias_coast","resyncWallet","id","resync_wallet","getWalletAlias","daemon_state","aliasesChecked","aliases","status","getContactAlias","getRecentTransfers","offset","count","exclude_mining_txs","get_recent_transfers","getPoolInfo","get_tx_pool_info","getVersion","get_version","version","get_network_type","status_network","setLogLevel","level","set_log_level","async_call","job_id","dispatchAsyncCallResult","dispatch_async_call_result","json_resp","asyncCommandResults","response","run","dispatchAsyncCallResult$","handleCurrentActionState","handle_current_action_state","currentActionState","handleCurrentActionState$","setEnableTor","set_enable_tor","getOptions","get_options","disable_price_fetch","use_debug_mode","disable_price_fetch$","use_debug_mode$","addCustomAssetId","add_custom_asset_id","removeCustomAssetId","remove_custom_asset_id","getWalletInfo","get_wallet_info","informerRun","error_translate","instant","default_fee","currency","defaultCurrency","prepareModal","commandDebug","result","debug","_send_params","_result","e","response_data","error_code","resultStr","Result","core_busy","Status","undefined","res_error_code","setTimeout","current_wallet_id","currentWallet","Action","factory","providedIn","Renderer2","StateKeys","take","takeUntil","paths","pathsChildrenAuth","hasOwnProperty","i0","AppComponent","http","renderer","backendService","router","intToMoneyPipe","store","dialog","assetsFacade","addLangs","setDefaultLang","use","subscribe","translateUsed","language","ngOnInit","initMessage","st2","dd2","quit_requested","onQuitRequest","navigate","closeAll","needOpenWallets","saveFunction","recursionCloseWallets","lastIndex","splice","update_wallet_status","wallet_state","is_mining","getWallet","loaded","balances","mined_total","minied_total","alias_available","is_alias_operations_available","wallet_sync_progress","progress","sync_started","addToStore","update_daemon_state","daemon_network_state","setExpMedTs","net_time_delta_median","last_build_available","last_build_displaymode","setHeightApp","height","setHeightMax","max_net_seen_height","setDownloadedBytes","downloaded_bytes","setTotalBytes","download_total_data_size","max","current","return_val","Math","floor","sync","progress_value","progress_value_text","toFixed","download","firstOnlineState","getAliases","status_fee","data_fee","money_transfer","ti","tr_info","history","tx_type","setRefreshStacking","tr_exists","excluded_history","some","elem","tx_hash","currentPage","prepareHistory","restore","total_history_item","totalPages","ceil","maxPages","pages","fill","index","exp_med_ts","height_app","contract","contracts","is_a","cancel_expiration_time","expiration_time","timestamp","searchResult2","notViewedContracts","find","j","viewedContracts","searchResult3","searchResult4","searchResult","is_new","findContract","prop","recountNewContracts","handle_deeplink_click","deeplink$","money_transfer_cancel","removeFromHistory","error_tr","events","method","enableAliasSearch","newAlias","concat","changeAliases","CurrentAlias","element","intervalUpdateContractsState","setInterval","expMedTsEvent","getExpMedTsEvent","newTimestamp","scale","setStyle","document","documentElement","appLog","appUseTor","auth","noWallet","then","statusPass","queryParams","appLogin","pipe","destroy$","updateMoneyEquivalent","intervalUpdatePriceState","clearInterval","loadWhitelist","ngOnDestroy","unsubscribe","get","moneyEquivalent","moneyEquivalentPercent","sort","a","b","boolean","filter","item","set","selectors","decls","vars","consts","template","CREATE_NEW_WALLET_HELP_PAGE","AddWalletComponent","file_status","file_data","substr","lastIndexOf","openInBrowser","ctx","inject","FormBuilder","Validators","regExpAliasName","AssignAliasComponent","backend","moneyToInt","intToMoney","fb","group","nonNullable","control","required","pattern","maxLength","maxCommentLength","price","rewardOriginal","exists","assignForm","valueChanges","canRegister","newName","toLowerCase","controls","errors","statusPrice","dataPrice","sum","unlocked_balance","getBalanceByTicker","unlocked","notEnoughMoney","isGreaterThan","complete","assignAlias","wakeAlias","Wallet","regExpPassword","ZanoValidators","CreateWalletComponent","duplicate","walletNamesForComparisons","password","confirm","validators","formMatch","createWallet","progressWidth","saveWallet","createForm","valid","maxWalletNameLength","walletSavedName","generate_status","generate_data","errorCode","opening_wallet","balance","tracking_hey","walletSaved","delay","BehaviorSubject","DeeplinkComponent","AssetDetailsComponent","ConfirmModalComponent","LOCKED_BALANCE_HELP_PAGE","$event","AssetsComponent","walletsService","paginatePipeArgs","paginationId","itemsPerPage","isShowPagination","listenChangeWallet","toggleDropDownMenu","trigger","asset","isOpenDropDownMenu","triggerOrigin","currentAsset","trackByAssets","asset_info","trackByPages","assetDetails","dialogConfig","open","beforeRemoveAsset","full_name","closed","confirmed","removeAsset","updateWalletInfo","getBalanceTooltip","tooltip","createElement","scrollWrapper","classList","add","total","ticker","available","setAttribute","innerHTML","appendChild","locked","minus","link","addEventListener","getWalletChangedEvent","ElementRef","EventEmitter","successfulStatuses","STATE_SENDING","STATE_SENT_SUCCESS","STATE_INITIALIZING","STATE_DOWNLOADING_CONSENSUS","STATE_MAKING_TUNNEL_A","STATE_MAKING_TUNNEL_B","STATE_CREATING_STREAM","STATE_SUCCESS","failedStatuses","STATE_SEND_FAILED","STATE_FAILED","SendDetailsModalComponent","currentActionState$","currentActionStates","currentActionStates$","isSentSuccess","isSentFailed","isDetailsNotEmpty","responseData$","addClass","body","actionState","success","removeClass","toggleDetails","stateDetails$","scrollToBottomDetailsList","trackBy","isSuccess","action","isFailed","elDetailsList","nativeElement","scrollTop","scrollHeight","viewQuery","FormControl","UntypedFormControl","UntypedFormGroup","MIXIN","finalize","SendComponent","g","localAliases","currentAliasAddress","isOpen","valid_status","isWrapShown","sendForm","setValue","setErrors","assign","address_not_valid","hasError","test","alias_not_valid","alias_status","alias_data","lenghtOfAdress","zero","bigAmount","wrapInfo","wrap_info_null","unwraped_coins_left","great_than_unwraped_coins","isLessThan","tx_cost","zano_needed_for_erc20","less_than_zano_needed","compose","less_min","onClick","targetElement","send_data","is_auditable","disable","hideWalletAddress","is_watch_only","reset","getWrapInfo","sendActionData$","res","actionData","fillDeepLinkData","addressMouseDown","setAlias","showDialog","isModalDialogVisible","onSend","additionalOptions","comments","mixins","hide_sender","addressToLowerCase","condition","patchValue","isModalDetailsDialogVisible","markAsUntouched","toggleOptions","getReceivedValue","needed","handeCloseDetailsModal","isLoading","info","hostBindings","WalletsService","addWallet","getWalletById","w"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}